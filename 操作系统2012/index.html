<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>操作系统2012 | Totoroの旅</title><meta name="author" content="Totoro"><meta name="copyright" content="Totoro"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="操作系统2012 选择题  1. (  ) 英文题目：Device controller informs CPU that it has finished its operation by causing a&#x2F;an _____. 中文题目：设备控制器通知 CPU 它已完成操作，是通过引发一个 _____ 实现的。 选项：  A. DMA request（DMA 请求） B.">
<meta property="og:type" content="article">
<meta property="og:title" content="操作系统2012">
<meta property="og:url" content="http://totorocatcat.top/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2012/index.html">
<meta property="og:site_name" content="Totoroの旅">
<meta property="og:description" content="操作系统2012 选择题  1. (  ) 英文题目：Device controller informs CPU that it has finished its operation by causing a&#x2F;an _____. 中文题目：设备控制器通知 CPU 它已完成操作，是通过引发一个 _____ 实现的。 选项：  A. DMA request（DMA 请求） B.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg">
<meta property="article:published_time" content="2025-05-04T17:15:36.000Z">
<meta property="article:modified_time" content="2025-05-04T17:17:39.132Z">
<meta property="article:author" content="Totoro">
<meta property="article:tag" content="提高">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/b5ca6e582a7a45e6fde46e616eeb68e.png"><link rel="canonical" href="http://totorocatcat.top/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2012/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":765,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '操作系统2012',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2025-05-05 01:17:39'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/scrollbar.css"><link rel="stylesheet" href="/css/cat.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})
</script><link rel="stylesheet" href="/css/progress_bar.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/px3.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">836</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">36</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home-alt"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 趣味</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/project/"><i class="fa-fw fas fas fa-folder"></i><span> 项目</span></a></div><div class="menus_item"><a class="site-page" href="/stars/"><i class="fa-fw fas fa-bookmark"></i><span> 收藏</span></a></div><div class="menus_item"><a class="site-page" href="/bilibili/"><i class="fa-fw fas fa-tv"></i><span> 追番</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Totoroの旅"><span class="site-name">Totoroの旅</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home-alt"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 趣味</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/project/"><i class="fa-fw fas fas fa-folder"></i><span> 项目</span></a></div><div class="menus_item"><a class="site-page" href="/stars/"><i class="fa-fw fas fa-bookmark"></i><span> 收藏</span></a></div><div class="menus_item"><a class="site-page" href="/bilibili/"><i class="fa-fw fas fa-tv"></i><span> 追番</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">操作系统2012</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-05-04T17:15:36.000Z" title="发表于 2025-05-05 01:15:36">2025-05-05</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-05-04T17:17:39.132Z" title="更新于 2025-05-05 01:17:39">2025-05-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>25分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="操作系统2012"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2012/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2012/" itemprop="commentCount"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="操作系统2012">操作系统2012</h1>
<h1 id="选择题">选择题</h1>
<hr>
<h3 id="section"><strong>1. (  )</strong></h3>
<p><strong>英文题目</strong>：Device controller informs CPU that it has
finished its operation by causing a/an <strong>_____</strong>.
<strong>中文题目</strong>：设备控制器通知 CPU
它已完成操作，是通过引发一个 <strong>_____</strong> 实现的。</p>
<p>选项：</p>
<ul>
<li>A. DMA request（DMA 请求）</li>
<li>B. interrupt（中断）✅</li>
<li>C. trap（陷阱）</li>
<li>D. message（消息）</li>
</ul>
<p>✅ <strong>答案：B. interrupt 中断</strong> 📘
<strong>解释</strong>：设备完成 I/O 操作后，会向 CPU 发送一个
<strong>中断（interrupt）</strong>，表示操作已完成，从而触发 CPU
的相应处理。</p>
<hr>
<h3 id="section-1"><strong>2. (  )</strong></h3>
<p><strong>英文题目</strong>：When a process is created using the
classical <code>fork()</code> system call, which of the following is
<strong>not</strong> inherited by the child process?
<strong>中文题目</strong>：当一个进程使用传统的 <code>fork()</code>
系统调用创建时，以下哪个不会被子进程继承？</p>
<p>选项：</p>
<ul>
<li>A. process address space（进程地址空间）</li>
<li>B. process ID（进程号）✅</li>
<li>C. user ID（用户 ID）</li>
<li>D. open files（打开的文件）</li>
</ul>
<p>✅ <strong>答案：B. process ID</strong> 📘
<strong>解释</strong>：<code>fork()</code>
会创建子进程，<strong>除了进程号不同外</strong>，其余资源（如地址空间、用户
ID、打开文件等）都是继承的。子进程拥有<strong>不同的进程
ID（PID）</strong>，这是区分父子进程的关键。</p>
<hr>
<h3 id="section-2"><strong>3. (  )</strong></h3>
<p><strong>英文题目</strong>：A 128-MB memory is allocated in units of
<em>n</em> bytes. We use a linked list to keep track of free memory.
Assume memory has alternating <strong>segments and holes</strong>, each
64KB. Each node in the linked list needs:</p>
<ul>
<li>a 32-bit memory address,</li>
<li>a 16-bit length field,</li>
<li>a 16-bit next pointer. How many bytes of storage are required for
the linked list method?</li>
</ul>
<p><strong>中文题目</strong>：128MB 的内存按 <em>n</em>
字节为单位分配，我们使用链表追踪空闲内存。假设内存是段和空洞交替，每段/空洞大小为
64KB。每个链表结点需要：</p>
<ul>
<li>32 位地址，</li>
<li>16 位长度字段，</li>
<li>16 位下一个结点指针。 问：链表管理共需要多少字节的存储？</li>
</ul>
<p>选项：</p>
<ul>
<li>A. 227/n</li>
<li>B. 224/n</li>
<li>C. 2¹¹</li>
<li>D. 2¹⁴ ✅</li>
</ul>
<p>✅ <strong>答案：D. 2¹⁴ = 16384 bytes（16KB）</strong> 📘
<strong>解释</strong>：</p>
<ul>
<li>内存大小 = 128 MB = 128 × 2²⁰ 字节</li>
<li>每段 + 空洞 = 64KB ⇒ 每对占 128KB ⇒ 总共有 128MB / 128KB = 1024
对段+洞，共 1024 个空洞（每个都需要链表结点）</li>
<li>每个结点占：32 + 16 + 16 = 64 bits = 8 bytes</li>
<li>所以链表总开销 = 1024 × 16 = <strong>16384 bytes = 2¹⁴
bytes</strong></li>
</ul>
<hr>
<h3 id="section-3"><strong>4. (  )</strong></h3>
<p><strong>英文题目</strong>：Which of the following process scheduling
algorithms has <strong>convoy effect</strong>?
<strong>中文题目</strong>：下列哪种进程调度算法存在
<strong>护航效应（convoy effect）</strong>？</p>
<p>选项：</p>
<ul>
<li>A. FCFS（先来先服务）✅</li>
<li>B. Round Robin（时间片轮转）</li>
<li>C. SJF（最短作业优先）</li>
<li>D. Guaranteed Scheduling（保证调度）</li>
</ul>
<p>✅ <strong>答案：A. FCFS</strong> 📘 <strong>解释</strong>：FCFS
中如果一个<strong>慢进程在前面运行</strong>，后面的所有进程（即使很短）也要等待，导致所谓的“护航效应”——快进程被慢进程拖慢。</p>
<hr>
<h3 id="section-4"><strong>5. (  )</strong></h3>
<p><strong>英文题目</strong>：If in a resource-allocation graph, each
resource type has exactly <strong>one instance</strong>, which of the
following indicates a <strong>deadlock situation</strong>?
<strong>中文题目</strong>：如果资源分配图中每种资源类型<strong>只有一个实例</strong>，以下哪种情况表示系统发生了<strong>死锁</strong>？</p>
<p>选项：</p>
<ul>
<li>A. The graph has at least one cycle（图中至少存在一个环）✅</li>
<li>B. The graph has no cycle（图中没有环）</li>
<li>C. The graph is connected（图是连通的）</li>
<li>D. The graph is not connected（图不连通）</li>
</ul>
<p>✅ <strong>答案：A. The graph has at least one cycle</strong> 📘
<strong>解释</strong>：</p>
<ul>
<li>如果每种资源只有一个实例（即不可重入），<strong>“存在环 =
死锁”</strong>。</li>
<li>在一般情况（资源有多个实例）时，环只是“可能”死锁。</li>
</ul>
<hr>
<h3 id="section-5"><strong>6. (  )</strong></h3>
<p><strong>英文题目</strong>：The <strong>spooling</strong> technique is
often used to prevent deadlock to attack the ______ condition.
<strong>中文题目</strong>：<strong>SPOOLING
技术</strong>常用于防止死锁，它主要用于破坏哪个死锁条件？</p>
<p>选项： A. mutual exclusion（互斥） B. hold and wait（占有且等待）✅
C. no preemption（不可抢占） D. circular wait（循环等待）</p>
<p>✅ <strong>答案：B. hold and wait 占有且等待</strong> 📘
<strong>解释</strong>：Spooling 是将 I/O
请求写入磁盘排队处理的技术。由于进程不会立即占用设备，而是等待资源可用，这打破了“占有并等待”这一死锁条件，从而防止死锁。</p>
<hr>
<h3 id="section-6"><strong>7. (  )</strong></h3>
<p><strong>英文题目</strong>：Which of the following is
<strong>not</strong> the advantage of <strong>segmentation with
paging</strong>?
<strong>中文题目</strong>：以下哪项<strong>不是</strong>“分页结合段式管理”的优点？</p>
<p>选项： A. User can have a clear logical view of
memory（用户拥有清晰的内存逻辑结构） B. Different access protections can
be associated with different segment of
memory（每段内存可有不同访问权限） C. No external
fragmentation（无外部碎片） D. More efficient in time than pure
fragmentation and pure paging（比纯分页或纯分段在时间上更高效）✅</p>
<p>✅ <strong>答案：D. More efficient in time than pure fragmentation
and pure paging</strong> 📘
<strong>解释</strong>：段页式系统优点包括逻辑结构清晰、支持访问控制、无外部碎片。但它的实现<strong>更复杂、性能开销更大</strong>，所以时间效率<strong>通常比单一机制差</strong>。
👉 <strong>选项 A 实际上是优点，正确选项是 D，不是 A。</strong></p>
<hr>
<h3 id="section-7"><strong>8. (  )</strong></h3>
<p><strong>英文题目</strong>：“Device independence” means ________.
<strong>中文题目</strong>：“设备无关性（Device Independence）”是指
________。</p>
<p>选项： A. that devices are accessed dependent of their model and
types of physical device（设备访问依赖于具体类型） B. systems that have
one set of calls for writing on a file and the console exhibit device
independence（系统具有统一调用方式） C. that files and devices are
accessed the same way, independent of their physical nature ✅ D. none
of the above（以上都不对）</p>
<p>✅ <strong>答案：C. that files and devices are accessed the same
way</strong> 📘
<strong>解释</strong>：“设备无关性”表示<strong>无论是文件还是设备，都能通过相同的系统调用进行访问</strong>。这增强了程序的可移植性和一致性。</p>
<hr>
<h3 id="section-8"><strong>9. (  )</strong></h3>
<p><strong>英文题目</strong>：The purpose of <strong>current
directory</strong> is ______.
<strong>中文题目</strong>：<strong>当前目录（current
directory）</strong>的作用是？</p>
<p>选项： A. saving auxiliary storage space（节省辅存空间） B. saving
main memory space（节省主存空间） C. speeding up the file retrieval
speed（加快文件检索速度） D. speeding up the file access
speed（加快文件访问速度）✅</p>
<p>✅ <strong>答案：D. speeding up file access speed
加快文件访问速度</strong> 📘
<strong>解释</strong>：当前目录的设置使得用户或程序可以通过<strong>相对路径</strong>而非绝对路径访问文件，从而减少路径解析时间，提高访问效率。</p>
<hr>
<h3 id="section-9"><strong>10. (  )</strong></h3>
<p><strong>英文题目</strong>：Assume the reference count of file F1 is 1
initially. Then:</p>
<ol type="1">
<li>Create symbolic link F2 → F1</li>
<li>Create hard link F3 → F1</li>
<li>Delete F1</li>
</ol>
<p>Now, what are the reference counts of F2 and F3 respectively?</p>
<p><strong>中文题目</strong>：假设文件 F1 初始引用计数为
1，依次执行以下操作：</p>
<ol type="1">
<li>创建符号链接 F2，指向 F1</li>
<li>创建硬链接 F3，指向 F1</li>
<li>删除 F1</li>
</ol>
<p>问：此时 F2 和 F3 的引用计数是多少？</p>
<p>选项： A. 0, 1 ✅ B. 1, 1 C. 1, 2 D. 2, 1</p>
<p>✅ <strong>答案：A. 0, 1</strong> 📘 <strong>解释</strong>：</p>
<ul>
<li>符号链接（symbolic
link）<strong>不是实际的引用</strong>，只是路径映射，因此不影响引用计数</li>
<li>硬链接（hard link）会增加引用计数</li>
<li>删除 F1 时，F2 指向的目标丢失（悬挂符号链接），F3 仍然引用原始数据
👉 所以：<strong>F2 = 0（悬挂链接），F3 = 1（硬链接）</strong></li>
</ul>
<hr>
<h3 id="section-10"><strong>11. (  )</strong></h3>
<p><strong>英文题目</strong>：A <strong>device driver</strong> is
______. <strong>中文题目</strong>：<strong>设备驱动程序（device
driver）</strong>是指什么？</p>
<p>选项： A. a type of system call（系统调用的一种） B. the part of a
device that allows to physically function（使设备物理运作的部分） C. a
feature of a hardware device that helps it interact with the
OS（硬件设备的一种功能） D. a software routine that interfaces with a
hardware device（与硬件设备交互的软件程序）✅</p>
<p>✅ <strong>答案：D. a software routine that interfaces with a
hardware device</strong> 📘
<strong>解释</strong>：设备驱动程序是一种软件模块，作用是让操作系统能与硬件设备通信，例如打印机、磁盘等。它翻译系统调用为设备操作。</p>
<hr>
<h3 id="section-11"><strong>12. (  )</strong></h3>
<p><strong>英文题目</strong>：If the page entry says that the page is
not in RAM, it raises a ______, an exception telling the operating
system that it needs to bring a page into memory.
<strong>中文题目</strong>：当页表项表示该页不在内存中时，会产生一种异常，用来通知操作系统将页面调入内存，这种异常是
______。</p>
<p>选项： A. page fault（缺页异常）✅ B. trap（陷阱） C. array index out
of bound（数组越界） D. none of the above（以上都不是）</p>
<p>✅ <strong>答案：A. page fault 缺页异常</strong> 📘
<strong>解释</strong>：当访问的页面不在主存中，页表会触发<strong>page
fault（缺页异常）</strong>，操作系统响应该异常，执行调页操作将数据从磁盘读入内存。</p>
<hr>
<h3 id="section-12"><strong>13. (  )</strong></h3>
<p><strong>英文题目</strong>：Batching of jobs improved early system
performance by ______.
<strong>中文题目</strong>：早期操作系统中，<strong>批处理作业（batching）</strong>的引入改善了系统性能，其原因是
______。</p>
<p>选项： A. reducing human setup time（减少人工设置时间）✅ B.
background processing（后台处理） C. multiprogramming（多道程序） D.
overlapping CPU and I/O operations（重叠 CPU 与 I/O 操作）</p>
<p>✅ <strong>答案：A. reducing human setup time</strong> 📘
<strong>解释</strong>：在批处理系统中，多个作业连续自动运行，无需频繁人工干预（如卡片输入、启动），显著减少了<strong>人工设置时间</strong>，提高系统吞吐量。</p>
<hr>
<h3 id="section-13"><strong>14. (  )</strong></h3>
<p><strong>英文题目</strong>：A <strong>counting semaphore</strong> was
initialized to 4. Then 28 P (wait) operations and 18 V (signal)
operations were completed. Assume the resulting value of the semaphore
is 0. What is the number of <strong>waiting processes</strong>?
<strong>中文题目</strong>：一个<strong>计数型信号量</strong>初始值为
4，之后进行了 28 次 P 操作和 18 次 V 操作。已知当前信号量值为
0。问：有多少个进程处于等待状态？</p>
<p>选项： A. 2 B. 3 C. 6 ✅ D. 0</p>
<p>✅ <strong>答案：C. 6</strong> 📘 <strong>解释</strong>：</p>
<ul>
<li>初始值 = 4</li>
<li>实际 P 操作 = 28（使信号量减少）</li>
<li>实际 V 操作 = 18（使信号量增加）</li>
<li>设最终有 <code>x</code> 个进程在等待，即阻塞</li>
</ul>
<p>根据信号量变化公式：
<code>最终值 = 初始值 + V 次数 - P 次数 + 阻塞恢复次数</code>
<code>0 = 4 + 18 - 28 + x</code> ⇒ <code>x = 6</code> 所以有 <strong>6
个进程正在等待</strong>。</p>
<hr>
<h3 id="section-14"><strong>15. (  )</strong></h3>
<p><strong>英文题目</strong>：As for Unix system, the attributes of file
are stored in ______. <strong>中文题目</strong>：在 Unix
系统中，文件的属性存储在哪里？</p>
<p>选项： A. file（文件本身） B. directory（目录） C. i-node ✅ D.
direct（直接块）</p>
<p>✅ <strong>答案：C. i-node</strong> 📘 <strong>解释</strong>： 在
Unix
文件系统中，文件的所有<strong>元信息（如权限、大小、创建时间、数据块位置）都存储在
i-node（索引节点）中</strong>，而不是文件本体或目录项中。目录项只包含文件名和对应的
i-node 号。</p>
<hr>
<h1 id="简答题">简答题</h1>
<hr>
<h3 id="分pts"><strong>1. (5 分/pts)</strong></h3>
<p><strong>英文题目</strong>：List the <strong>advantages and
disadvantages</strong> of using a <strong>small page</strong> in a
virtual memory system.
<strong>中文题目</strong>：请列举在虚拟内存系统中使用<strong>小页面（small
page）</strong>的优点和缺点。</p>
<hr>
<h4 id="答案-answer">✅ <strong>答案 / Answer</strong>：</h4>
<p><strong>(1) 优点 / Advantages：</strong></p>
<ul>
<li>✅ Less internal fragmentation ➤
<strong>较少的内部碎片</strong>：因为每页更小，分配的空间更接近实际需要，减少浪费。</li>
<li>✅ Less unused program in memory ➤
<strong>减少内存中未使用的程序部分</strong>：只需加载所需小部分程序到内存，节省空间。</li>
</ul>
<p><strong>(2) 缺点 / Disadvantages：</strong></p>
<ul>
<li>❌ Programs need many pages ➤
<strong>程序需要更多页面</strong>：小页面意味着一个程序被分成更多片段。</li>
<li>❌ Larger page tables ➤
<strong>页表更大</strong>：更多页面意味着页表项数量增加，占用更多内存并降低访问效率。</li>
</ul>
<hr>
<h4 id="总结-summary">📘 总结 / Summary：</h4>
<table>
<thead>
<tr>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td>内部碎片更少</td>
<td>页表更大</td>
</tr>
<tr>
<td>加载更精细、节省内存</td>
<td>程序被划分成更多页</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="分pts-1"><strong>2. (5 分/pts)</strong></h3>
<p><strong>英文题目</strong>：What is a <strong>process</strong>? What
is a <strong>thread</strong>? How are they <strong>similar</strong> and
<strong>different</strong>?
<strong>中文题目</strong>：什么是<strong>进程（process）</strong>？什么是<strong>线程（thread）</strong>？它们有哪些<strong>相同点</strong>和<strong>不同点</strong>？</p>
<hr>
<h4 id="答案-answer-1">✅ <strong>答案 / Answer</strong>：</h4>
<ul>
<li><strong>Process（进程）</strong>： ➤ A program in execution ➤
<strong>正在运行的程序</strong>，是操作系统资源分配和调度的基本单位。</li>
<li><strong>Thread（线程）</strong>： ➤ A flow of control within a
process ➤ <strong>进程内部的执行控制流</strong>，共享进程的资源。</li>
</ul>
<hr>
<h4 id="相同点-similarities">🟰 <strong>相同点 /
Similarities</strong>：</h4>
<ul>
<li>都是操作系统中活动的实体（active entities）</li>
<li>都具有一组执行属性（如状态、指令计数器、寄存器等）</li>
<li>都消耗 CPU 和内存等系统资源</li>
</ul>
<hr>
<h4 id="不同点-differences">🔀 <strong>不同点 /
Differences</strong>：</h4>
<table>
<thead>
<tr>
<th>项目</th>
<th>Process（进程）</th>
<th>Thread（线程）</th>
</tr>
</thead>
<tbody>
<tr>
<td>重量级</td>
<td>是，开销大（heavyweight）</td>
<td>否，开销小（lightweight）</td>
</tr>
<tr>
<td>资源</td>
<td>拥有独立的资源空间</td>
<td>共享进程资源（如内存）</td>
</tr>
<tr>
<td>调度</td>
<td>独立调度单元</td>
<td>由进程统一管理</td>
</tr>
</tbody>
</table>
<hr>
<h4 id="总结语-summary">📘 总结语 / Summary：</h4>
<ul>
<li><strong>进程（process）</strong>
是<strong>资源分配的单位</strong>，每个进程有自己的地址空间。</li>
<li><strong>线程（thread）</strong> 是<strong>CPU
调度的单位</strong>，多个线程共享一个进程的资源。</li>
<li>多线程比多进程更轻量，但也更容易出现资源共享冲突。</li>
</ul>
<hr>
<h3 id="分pts-2"><strong>3. (5 分/pts)</strong></h3>
<p><strong>英文题目</strong>：What are the <strong>advantages and
disadvantages</strong> of using <strong>FAT (File Allocation
Table)</strong> in implementing files? And how can we deal with these
shortcomings?</p>
<p><strong>中文题目</strong>：在实现文件系统时，使用
<strong>FAT（文件分配表）</strong>
有哪些<strong>优点和缺点</strong>？我们可以如何处理它的这些缺点？</p>
<hr>
<h4 id="答案-answer-2">✅ <strong>答案 / Answer</strong>：</h4>
<h4 id="优点-advantages">🔹 (1) 优点 / Advantages：</h4>
<ul>
<li>✅ <strong>The entire block is available for data</strong> ➤
<strong>整块空间可用于数据</strong>，FAT
将所有指针集中到表中，数据块中没有元数据，空间利用率高。</li>
<li>✅ <strong>Random access is possible</strong> ➤
<strong>支持随机访问</strong>，可以通过链式方式按序遍历文件块，找到任意位置。</li>
<li>✅ <strong>Directory entry needs only one number</strong> ➤
<strong>目录项只需要一个数字</strong>（起始块号），简化目录结构管理。</li>
</ul>
<hr>
<h4 id="缺点-disadvantages">🔻 (2) 缺点 / Disadvantages：</h4>
<ul>
<li>❌ <strong>Entire table must be in memory at once</strong> ➤
<strong>整个 FAT
表必须一次性加载到内存中</strong>，在大磁盘或大量文件情况下占用内存严重，影响性能。</li>
</ul>
<hr>
<h4 id="改进方法-how-to-deal-with-it">🛠️ <strong>改进方法 / How to deal
with it：</strong></h4>
<ul>
<li>✅ 使用 <strong>Indexed Allocation（索引分配）</strong> 方法。</li>
<li>将所有指针集中到一个位置（<strong>索引块</strong>或<strong>i-node</strong>）。</li>
<li>只有在打开对应文件时，才将相关 i-node
加载进内存，从而<strong>节省内存</strong>并提高性能。</li>
</ul>
<hr>
<h3 id="分pts-3"><strong>4. (5 分/pts)</strong></h3>
<p><strong>英文题目</strong>：Disk requests come in to the disk driver
for cylinders: <strong>86, 147, 18, 95, 151, 12, 175, 30</strong>, in
that order. The arm is initially at cylinder <strong>143</strong>. What
is the <strong>total distance (in cylinders)</strong> that the disk arm
moves to satisfy all the requests, for:</p>
<ul>
<li><strong>(1)</strong> Shortest Seek First (SSF)</li>
<li><strong>(2)</strong> Elevator (SCAN) Algorithm (Assume the arm is
initially moving <strong>toward cylinder 0</strong>)</li>
</ul>
<p><strong>中文题目</strong>：磁盘调度时，磁头请求访问以下柱面：
<strong>86、147、18、95、151、12、175、30</strong>（按此顺序到达）。
磁头初始位置在柱面
<strong>143</strong>。求磁头在以下调度算法下的<strong>总移动距离（柱面数）</strong>：</p>
<ul>
<li><strong>(1)</strong> 最短寻道优先（Shortest Seek First, SSF）</li>
<li><strong>(2)</strong> 电梯算法（SCAN），假设磁头初始<strong>向 0
方向移动</strong></li>
</ul>
<hr>
<h4 id="答案与解释-solution-explanation">✅ <strong>答案与解释 /
Solution &amp; Explanation</strong>：</h4>
<hr>
<h3 id="shortest-seek-first-ssf">➤ (1) <strong>Shortest Seek First
(SSF)</strong></h3>
<p>每次选择离当前位置最近的请求：</p>
<p>访问顺序（从 143 开始）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">143 → 147 → 151 → 175 → 95 → 86 → 30 → 18 → 12</span><br></pre></td></tr></table></figure>
<p>计算移动距离：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">|143-147| + |147-151| + |151-175| + |175-95| + |95-86| + |86-30| + |30-18| + |18-12|  </span><br><span class="line">= 4 + 4 + 24 + 80 + 9 + 56 + 12 + 6 = ✅ **195 柱面**</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="scan-elevator-算法">➤ (2) <strong>SCAN (Elevator)
算法</strong></h3>
<p>磁头从 143 开始<strong>向 0
移动</strong>，访问所有比它小的请求，然后掉头向大方向访问剩余请求：</p>
<p>访问顺序：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">143 → 95 → 86 → 30 → 18 → 12 → 147 → 151 → 175</span><br></pre></td></tr></table></figure>
<p>计算移动距离：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">|143-95| + |95-86| + |86-30| + |30-18| + |18-12| + |12-147| + |147-151| + |151-175|  </span><br><span class="line">= 48 + 9 + 56 + 12 + 6 + 135 + 4 + 24 = ✅ **294 柱面**</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="总结-summary-1">📘 总结 / Summary：</h3>
<table>
<thead>
<tr>
<th>算法</th>
<th>总移动距离（柱面数）</th>
</tr>
</thead>
<tbody>
<tr>
<td>SSF（最短寻道优先）</td>
<td>✅ 195</td>
</tr>
<tr>
<td>SCAN（电梯算法）</td>
<td>✅ 294</td>
</tr>
</tbody>
</table>
<h1 id="隧道通行问题-tunnel-synchronization-problem"><strong>隧道通行问题 /
Tunnel Synchronization Problem</strong></h1>
<hr>
<h3 id="题目-problem"><strong>题目 / Problem</strong>：</h3>
<p>A tunnel, which is very narrow, allows only one passenger to pass
once. Please use <strong>semaphores</strong> to implement the following
situations:</p>
<p>这个隧道非常狭窄，一次只能允许<strong>一名行人通过</strong>，请使用<strong>信号量（semaphore）</strong>来实现以下两种情况：</p>
<hr>
<h4 id="分"><strong>(1)（4 分）</strong></h4>
<p>Passengers go through the tunnel <strong>one by one
alternately</strong> from two directions.</p>
<p>从两个方向来的行人<strong>交替地</strong>一个一个通过隧道。</p>
<hr>
<h4 id="分-1"><strong>(2)（6 分）</strong></h4>
<p>The passengers at one direction must pass the tunnel
<strong>continuously</strong>. Another direction’s passengers can start
to go through the tunnel <strong>only when no passengers want to pass
the tunnel from the opposite direction</strong>.</p>
<p>某一方向的行人<strong>连续地</strong>通过隧道，而另一方向的行人<strong>只能在对面没人时</strong>才可以通行。</p>
<hr>
<h2 id="答案-solution">✅ 答案 / Solution：</h2>
<hr>
<h3 id="设定说明-definitions">▶️ <strong>设定说明 /
Definitions：</strong></h3>
<ul>
<li>将两个方向分别标记为 <strong>A 方向</strong> 和 <strong>B
方向</strong></li>
<li>使用信号量和计数变量控制访问隧道的权限</li>
</ul>
<hr>
<h3 id="alternating-access-交替通行"><strong>(1) Alternating Access /
交替通行</strong></h3>
<h4 id="设置信号量">✅ 设置信号量：</h4>
<ul>
<li><code>AB</code>：表示 A 方向行人是否可以通行，初值为
<code>1</code></li>
<li><code>BA</code>：表示 B 方向行人是否可以通行，初值为
<code>1</code></li>
<li><code>mutex</code>：互斥访问隧道（确保同一时刻只有一个人），初值为
<code>1</code></li>
</ul>
<h4 id="a方向行人代码">✅ A方向行人代码：</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">P(AB);          <span class="comment">// 等待 A 方向的许可</span></span><br><span class="line">P(mutex);       <span class="comment">// 占用隧道资源</span></span><br><span class="line">  通过隧道；</span><br><span class="line">V(mutex);       <span class="comment">// 释放隧道资源</span></span><br><span class="line">V(BA);          <span class="comment">// 允许 B 方向行人通行</span></span><br></pre></td></tr></table></figure>
<h4 id="b方向行人代码">✅ B方向行人代码：</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">P(BA);          <span class="comment">// 等待 B 方向的许可</span></span><br><span class="line">P(mutex);       <span class="comment">// 占用隧道资源</span></span><br><span class="line">  通过隧道；</span><br><span class="line">V(mutex);       <span class="comment">// 释放隧道资源</span></span><br><span class="line">V(AB);          <span class="comment">// 允许 A 方向行人通行</span></span><br></pre></td></tr></table></figure>
<h4 id="解释-explanation">✅ 解释 / Explanation：</h4>
<ul>
<li>AB 和 BA 信号量交替控制两个方向的通行权。</li>
<li>每一名行人通行完后会<strong>唤醒对方方向的行人</strong>，实现交替通行。</li>
</ul>
<hr>
<h3 id="one-direction-priority-一方优先通行"><strong>(2) One-direction
Priority / 一方优先通行</strong></h3>
<h4 id="设置变量">✅ 设置变量：</h4>
<ul>
<li><code>countA</code>：表示当前隧道中 A 方向的行人数（初值 = 0）</li>
<li><code>countB</code>：表示当前隧道中 B 方向的行人数（初值 = 0）</li>
</ul>
<h4 id="设置信号量-1">✅ 设置信号量：</h4>
<ul>
<li><code>SA</code>：互斥访问 <code>countA</code>（初值 = 1）</li>
<li><code>SB</code>：互斥访问 <code>countB</code>（初值 = 1）</li>
<li><code>mutex</code>：控制隧道访问（初值 = 1）</li>
</ul>
<hr>
<h4 id="a方向行人代码-1">✅ A方向行人代码：</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">P(SA);</span><br><span class="line">  <span class="keyword">if</span> (countA == <span class="number">0</span>) P(mutex);  <span class="comment">// 首个 A 方向行人占用隧道</span></span><br><span class="line">  countA++;</span><br><span class="line">V(SA);</span><br><span class="line"></span><br><span class="line">  通过隧道；</span><br><span class="line"></span><br><span class="line">P(SA);</span><br><span class="line">  countA--;</span><br><span class="line">  <span class="keyword">if</span> (countA == <span class="number">0</span>) V(mutex);  <span class="comment">// 最后一个 A 行人释放隧道</span></span><br><span class="line">V(SA);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="b方向行人代码-1">✅ B方向行人代码：</h4>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">P(SB);</span><br><span class="line">  <span class="keyword">if</span> (countB == <span class="number">0</span>) P(mutex);  <span class="comment">// 首个 B 方向行人占用隧道</span></span><br><span class="line">  countB++;</span><br><span class="line">V(SB);</span><br><span class="line"></span><br><span class="line">  通过隧道；</span><br><span class="line"></span><br><span class="line">P(SB);</span><br><span class="line">  countB--;</span><br><span class="line">  <span class="keyword">if</span> (countB == <span class="number">0</span>) V(mutex);  <span class="comment">// 最后一个 B 行人释放隧道</span></span><br><span class="line">V(SB);</span><br></pre></td></tr></table></figure>
<hr>
<h4 id="解释-explanation-1">✅ 解释 / Explanation：</h4>
<ul>
<li>某一方向行人可以<strong>连续通行</strong>，直到该方向<strong>不再有人要通过</strong>时，才释放隧道使用权。</li>
<li>对方只能在隧道空闲（<code>countA == 0</code> 或
<code>countB == 0</code>）时重新占用。</li>
<li><strong>避免了交替干扰</strong>，但仍实现互斥访问。</li>
</ul>
<hr>
<h3 id="总结-summary-2">✅ 总结 / Summary：</h3>
<table>
<colgroup>
<col style="width: 14%">
<col style="width: 40%">
<col style="width: 45%">
</colgroup>
<thead>
<tr>
<th>模式</th>
<th>中文说明</th>
<th>技术实现</th>
</tr>
</thead>
<tbody>
<tr>
<td>(1) 交替通行</td>
<td>两个方向轮流通过</td>
<td>使用两个互斥信号量 AB 和 BA 控制交替</td>
</tr>
<tr>
<td>(2) 一方优先</td>
<td>同一方向连续通过，另一方向等到无人</td>
<td>使用计数变量和互斥信号量，保护隧道访问</td>
</tr>
</tbody>
</table>
<hr>
<hr>
<h1 id="多级反馈队列调度multi-level-feedback-queue-scheduling"><strong>多级反馈队列调度（Multi-level
Feedback Queue Scheduling）</strong></h1>
<hr>
<h3 id="题目-problem-1">✅ <strong>题目 / Problem</strong></h3>
<p><strong>Show your schedule with timeline and calculate the average
turnaround time</strong> when using the multi-level feedback queue
below. <strong>Take arrival time into account.</strong> Note that
<strong>the priority of the top 2 queues is based on arrival
times.</strong></p>
<p>请使用<strong>多级反馈队列调度算法</strong>完成以下进程调度，并画出时间线，计算<strong>平均周转时间</strong>（Turnaround
Time）。
注意：要<strong>考虑进程的到达时间</strong>，并且<strong>前两个队列按到达顺序（Arrival
Time）优先处理</strong>。</p>
<hr>
<h4 id="进程信息-process-info"><strong>进程信息 / Process
Info</strong></h4>
<table>
<thead>
<tr>
<th>Process ID</th>
<th>Arrival Time</th>
<th>Burst Time</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>0</td>
<td>7</td>
</tr>
<tr>
<td>B</td>
<td>2</td>
<td>9</td>
</tr>
<tr>
<td>C</td>
<td>5</td>
<td>4</td>
</tr>
<tr>
<td>D</td>
<td>7</td>
<td>8</td>
</tr>
<tr>
<td>E</td>
<td>8</td>
<td>2</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="解题思路-solution-idea">✅ <strong>解题思路 / Solution
Idea</strong></h3>
<p>我们使用一个典型的三层多级反馈队列示例：</p>
<table>
<thead>
<tr>
<th>Queue Level</th>
<th>Time Quantum</th>
<th>Scheduling Policy</th>
</tr>
</thead>
<tbody>
<tr>
<td>Q1 (highest)</td>
<td>3 units</td>
<td>FCFS (by arrival)</td>
</tr>
<tr>
<td>Q2</td>
<td>4 units</td>
<td>FCFS</td>
</tr>
<tr>
<td>Q3 (lowest)</td>
<td>unlimited</td>
<td>FCFS</td>
</tr>
</tbody>
</table>
<p>调度规则如下：</p>
<ul>
<li>进程初次进入 Q1，最多执行 4 单位时间。</li>
<li>若未完成，进入 Q2，再执行最多 6 单位时间。</li>
<li>若还未完成，则进入 Q3，一直执行直至结束。</li>
<li>每次选择优先级最高的队列中最早到达的进程执行。</li>
</ul>
<hr>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/20250505005732.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/20250505005738.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<hr>
<h1 id="死锁问题">死锁问题</h1>
<p>系统中资源和进程如下：</p>
<ul>
<li><strong>资源情况</strong>：
<ul>
<li>A：2 个实例</li>
<li>B：3 个实例</li>
<li>C：3 个实例</li>
</ul></li>
<li><strong>进程情况</strong>：
<ul>
<li><strong>P1</strong>：持有 1 个 B 和 1 个 C，等待 1 个 A。</li>
<li><strong>P2</strong>：持有 1 个 A，等待 1 个 B。</li>
<li><strong>P3</strong>：持有 1 个 A、2 个 B、1 个 C。</li>
</ul></li>
</ul>
<hr>
<h2 id="资源分配图resource-allocation-graph">✅ (1) 资源分配图（Resource
Allocation Graph）</h2>
<p><strong>英文解释</strong>：</p>
<ul>
<li>Circles represent <strong>Processes</strong> (P1, P2, P3)</li>
<li>Squares represent <strong>Resources</strong> (A, B, C)</li>
<li>Dots inside the square represent <strong>instances</strong></li>
<li>Arrows <strong>from process to resource</strong> mean
<strong>requesting</strong></li>
<li>Arrows <strong>from resource instance to process</strong> mean
<strong>allocated</strong></li>
</ul>
<p><strong>中英文说明图形结构</strong>：</p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/20250505010109.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<hr>
<h2 id="每个进程的状态process-states">✅ (2) 每个进程的状态（Process
States）</h2>
<table>
<thead>
<tr>
<th>Process</th>
<th>状态（State）</th>
<th>等待资源（Waiting For）</th>
</tr>
</thead>
<tbody>
<tr>
<td>P1</td>
<td><strong>Waiting 等待</strong></td>
<td>Resource A（资源 A）</td>
</tr>
<tr>
<td>P2</td>
<td><strong>Waiting 等待</strong></td>
<td>Resource B（资源 B）</td>
</tr>
<tr>
<td>P3</td>
<td><strong>Runnable 就绪</strong></td>
<td>无需等待任何资源（Has all it needs）</td>
</tr>
</tbody>
</table>
<p><strong>解释</strong>：</p>
<ul>
<li><strong>P1</strong> 持有 B 和 C，但还在等 A。</li>
<li><strong>P2</strong> 持有 A，但在等 B。</li>
<li><strong>P3</strong> 拥有 A、B 和 C 的资源实例，已准备好运行。</li>
</ul>
<hr>
<h2 id="系统是否处于死锁状态deadlock">✅ (3)
系统是否处于死锁状态？（Deadlock?）</h2>
<p><strong>答案 Answer</strong>：❌
<strong>No，系统没有处于死锁状态</strong></p>
<p><strong>英文解释</strong>：</p>
<ul>
<li>Deadlock requires a <strong>cycle</strong> of processes waiting on
each other.</li>
<li>Although P1 and P2 are both waiting, <strong>P3 is runnable</strong>
and <strong>can complete</strong>, then <strong>release A, B, and
C</strong>.</li>
<li>Once P3 releases resources, <strong>P1 can get A</strong>, and
<strong>P2 can get B</strong>, so the system <strong>can
proceed</strong>.</li>
</ul>
<p><strong>中文解释</strong>：</p>
<ul>
<li>死锁的必要条件是形成<strong>循环等待</strong>，所有进程都相互等待，且没有一个能继续执行。</li>
<li>当前虽然 P1 等 A，P2 等 B，但 P3
不等待任何资源，它可以运行，释放资源。</li>
<li>一旦 P3 释放资源，P1 就能获得 A，P2 也能获得
B，系统可以继续运行。</li>
<li>✅ 所以：<strong>不是死锁状态</strong>。</li>
</ul>
<hr>
<h2 id="总结summary">✅ 总结（Summary）</h2>
<table>
<thead>
<tr>
<th><strong>问题</strong></th>
<th><strong>答案</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>(1) 资源分配图</td>
<td>见文字说明（也可要求画图）</td>
</tr>
<tr>
<td>(2) 状态</td>
<td>P1 和 P2 等待，P3 就绪</td>
</tr>
<tr>
<td>(3) 死锁？</td>
<td>❌ 没有死锁，P3 可运行并释放资源</td>
</tr>
</tbody>
</table>
<hr>
<h1 id="虚拟内存页表大小与层次页表virtual-memory-page-table-size-and-feasibility">虚拟内存页表大小与层次页表（Virtual
Memory Page Table Size and Feasibility）</h1>
<hr>
<h3 id="题目-problem-2">❓<strong>题目 (Problem)</strong></h3>
<p>考虑以下虚拟内存系统参数：</p>
<ul>
<li>虚拟地址长度：44位（字节寻址）</li>
<li>页大小：4KB</li>
<li>物理地址长度：40位（字节寻址）</li>
<li>每个页表项（PTE）包含：物理页号 +
额外的4位（有效位、保护位、修改位、使用位）</li>
<li>所有虚拟页都在使用中（即页表中每个项都有效）</li>
</ul>
<hr>
<h2 id="what-is-the-total-size-of-the-page-table">🔹(1) What is the
total size of the page table?</h2>
<p>🔹(1) 每个进程的页表总大小是多少？</p>
<hr>
<h3 id="解答-solution">✅ 解答 (Solution)</h3>
<h4 id="step-1-页大小-4kb-2¹²-字节">👉 <strong>Step 1: 页大小 = 4KB =
2¹² 字节</strong></h4>
<p>⇒ 页内偏移占 12 位</p>
<h4 id="step-2-虚拟地址空间为-44-位">👉 <strong>Step 2: 虚拟地址空间为
44 位</strong></h4>
<ul>
<li>所以虚拟页号部分占：44 - 12 = <strong>32 位</strong></li>
<li>即：虚拟页的总数为 2³² 个</li>
</ul>
<h4 id="step-3-每个页表项pte的大小">👉 <strong>Step 3:
每个页表项（PTE）的大小</strong></h4>
<ul>
<li>物理地址是 40 位，其中页内偏移为 12 位</li>
<li>所以物理页号大小为 40 - 12 = <strong>28 位</strong></li>
<li>加上额外的 4 位（有效、保护、脏、使用位）</li>
<li>所以：每个 PTE = 28 + 4 = <strong>32 位 = 4 字节</strong></li>
</ul>
<h4 id="step-4-页表大小">👉 <strong>Step 4: 页表大小</strong></h4>
<ul>
<li>总页数 = 2³²</li>
<li>每个页表项 4 字节</li>
<li>页表总大小 = 2³² × 4 字节 = 2³⁴ 字节 = <strong>16 GB</strong></li>
</ul>
<hr>
<h3 id="答案-answer-3">✅ 答案 (Answer)</h3>
<blockquote>
<p><strong>Page table size</strong> = 2³² × 4 Bytes = 2³⁴ Bytes =
<strong>16 GB</strong> per process</p>
<p><strong>页表大小为每个进程 16GB</strong></p>
</blockquote>
<hr>
<h2 id="为什么这样表示页表不可行层次页表是否解决了这个问题">🔹(2)
为什么这样表示页表不可行？层次页表是否解决了这个问题？</h2>
<p>🔹Why might it be infeasible to represent a page table as in (a)? Do
hierarchical page tables resolve the issue?</p>
<hr>
<h3 id="解答-solution-1">✅ 解答 (Solution)</h3>
<h3 id="问题problem">❗问题（Problem）：</h3>
<ul>
<li>每个进程的页表需要 <strong>16 GB
内存</strong>，这对于大多数系统而言是<strong>不现实的</strong>。</li>
<li>多个进程同时运行时，这种内存开销极高。</li>
</ul>
<h3 id="层次页表的解决方案hierarchical-page-tables-help">✅
层次页表的解决方案（Hierarchical Page Tables Help）：</h3>
<ul>
<li>层次页表将页表分为多级结构，<strong>只有实际使用的页才会在页表中分配项</strong>。</li>
<li>不活跃或未使用的虚拟页段<strong>不需要映射项</strong> ⇒
节省空间。</li>
</ul>
<h3 id="示例example">✅ 示例（Example）：</h3>
<ul>
<li>一个两级页表可将 32 位虚拟页号分成 2 个 16 位段：
<ul>
<li>第一级：页目录（Page Directory）</li>
<li>第二级：页表（Page Table）</li>
</ul></li>
<li>只有访问到某段虚拟地址时，才会<strong>实际分配那一段的页表项</strong>。</li>
</ul>
<hr>
<h3 id="答案-answer-4">✅ 答案 (Answer)</h3>
<blockquote>
<p>It's infeasible because the page table per process is <strong>16
GB</strong>, which is too large for practical systems.
<strong>Hierarchical page tables</strong> reduce this by allocating
space <strong>only for used virtual pages</strong>, so they can
<strong>save a lot of memory.</strong></p>
</blockquote>
<blockquote>
<p><strong>中译</strong>：由于每个进程的页表需要 16GB
内存，这是非常大的开销，因此不可行。使用<strong>层次页表</strong>可以解决这个问题，因为它们只为被使用的虚拟页分配映射项，从而节省大量空间。</p>
</blockquote>
<hr>
<h2 id="总结summary-1">✅ 总结（Summary）</h2>
<table>
<thead>
<tr>
<th>项目</th>
<th>答案</th>
</tr>
</thead>
<tbody>
<tr>
<td>(1) 页表大小</td>
<td>2³² × 4 字节 = <strong>16 GB</strong></td>
</tr>
<tr>
<td>(2) 可行性</td>
<td>❌ 不可行，开销过大</td>
</tr>
<tr>
<td>(2) 层次页表</td>
<td>✅ 解决问题，仅存活页分配，节省空间</td>
</tr>
</tbody>
</table>
<hr>
<h1 id="i-node-结构与磁盘块空间占用分析i-node-disk-block-calculation">i-node
结构与磁盘块空间占用分析（i-node &amp; Disk Block Calculation）</h1>
<hr>
<h3 id="题目-problem-3">❓题目 (Problem)</h3>
<p>一个文件系统使用以下设置：</p>
<ul>
<li>每个磁盘块大小：<strong>2KB</strong></li>
<li>每个 i-node 包含：
<ul>
<li><strong>8 个直接索引（direct entries）</strong></li>
<li><strong>1 个一级间接索引（single indirect）</strong></li>
<li><strong>1 个二级间接索引（double indirect）</strong></li>
</ul></li>
<li>每个指针大小为 <strong>4 字节</strong></li>
<li>问题：
<ol type="1">
<li>最大文件大小是多少？</li>
<li>一个 <strong>128MB 的文件</strong>
实际占用了多少磁盘空间（包括所有索引块）？</li>
</ol></li>
</ul>
<hr>
<h2 id="what-is-the-maximum-file-size-of-this-file-system">🔹(1) What is
the maximum file size of this file system?</h2>
<p>🔹(1) 该文件系统允许的<strong>最大文件大小</strong>是多少？</p>
<hr>
<h3 id="解答-solution-2">✅ 解答 (Solution)</h3>
<p>我们来分别计算：</p>
<h4 id="直接索引块">✅ 1️⃣ 直接索引块：</h4>
<ul>
<li>每个 block 为 2KB，总共 8 个</li>
<li>总容量：<code>8 × 2KB = 16KB</code></li>
</ul>
<h4 id="一级间接块single-indirect">✅ 2️⃣ 一级间接块（single
indirect）：</h4>
<ul>
<li>每个指针占 4 字节，2KB block
可容纳：<code>2048 ÷ 4 = 512 个指针</code></li>
<li>指向的数据块容量：<code>512 × 2KB = 1024KB = 1MB</code></li>
</ul>
<h4 id="二级间接块double-indirect">✅ 3️⃣ 二级间接块（double
indirect）：</h4>
<ul>
<li>一级索引块有 512 个指针 → 每个指向一个二级块</li>
<li>每个二级块也有 512 个指针</li>
<li>总数据块数：<code>512 × 512 = 262,144 个数据块</code></li>
<li>数据容量：<code>262,144 × 2KB = 524,288KB = 512MB</code></li>
</ul>
<h4 id="总最大文件大小">✅ 4️⃣ 总最大文件大小：</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">= 直接块容量 + 一级间接容量 + 二级间接容量</span><br><span class="line">= 16KB + 1MB + 512MB ≈ 513MB + 16KB</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="答案-answer-5">✅ (1) 答案 (Answer)</h3>
<blockquote>
<p><strong>Maximum file size</strong> ≈ <strong>512MB + 1MB +
16KB</strong> ≈ <strong>约 513MB</strong></p>
<p><strong>最大文件大小</strong>约为 <strong>513MB</strong></p>
</blockquote>
<hr>
<h2 id="how-much-disk-space-does-a-128mb-file-actually-occupy-including-index-blocks">🔹(2)
How much disk space does a 128MB file actually occupy (including index
blocks)?</h2>
<p>🔹(2) 一个 <strong>128MB 文件</strong>
实际占用了多少磁盘空间？（包括所有直接和间接索引块）</p>
<hr>
<h3 id="解答-solution-3">✅ 解答 (Solution)</h3>
<p>我们来逐步计算：</p>
<h4 id="文件大小128mb-128-1024-kb-131072-kb">✅ 1️⃣ 文件大小：128MB = 128
× 1024 KB = <strong>131072 KB</strong></h4>
<h4 id="数据块数">✅ 2️⃣ 数据块数：</h4>
<ul>
<li>每块 2KB ⇒ <code>131072 ÷ 2 = 65536</code> 块数据</li>
</ul>
<hr>
<h3 id="我们还需要多少索引块">🔸我们还需要多少索引块？</h3>
<h4 id="a.-直接块8-块最多可表示-16kb-数据">✅ A. 直接块：8
块（最多可表示 16KB 数据）</h4>
<ul>
<li>数据还剩：<code>131072 KB - 8×2KB = 131056 KB</code></li>
</ul>
<h4 id="b.-一级间接块512-块表示-1mb-数据">✅ B. 一级间接块：512 块（表示
1MB 数据）</h4>
<ul>
<li>数据还剩：<code>131056 KB - 1024 KB = 130032 KB</code></li>
<li>使用了 1 个间接索引块 + 512 个数据块</li>
</ul>
<h4 id="c.-二级间接块">✅ C. 二级间接块：</h4>
<ul>
<li>需要的数据块数：<code>130032 ÷ 2KB = 65016 块</code></li>
<li>一个二级块可表示 512 个数据块</li>
<li>需要二级块数：<code>ceil(65016 ÷ 512) ≈ 128</code> 个二级块</li>
<li>对应的一级指针块也需要 <code>128</code>
个（因为每个一级块指向一个二级块）</li>
</ul>
<hr>
<h3 id="总额外索引块数用于存储索引信息">✅
总额外索引块数（用于存储索引信息）：</h3>
<table>
<thead>
<tr>
<th>类型</th>
<th>数量</th>
<th>大小</th>
</tr>
</thead>
<tbody>
<tr>
<td>直接指针</td>
<td>8</td>
<td>已含在 i-node 中</td>
</tr>
<tr>
<td>一级间接指针块</td>
<td>1</td>
<td>2KB</td>
</tr>
<tr>
<td>一级块指向的数据块</td>
<td>512</td>
<td>已计入数据块</td>
</tr>
<tr>
<td>二级间接块</td>
<td>1</td>
<td>2KB</td>
</tr>
<tr>
<td>二级的一级指针块</td>
<td>128</td>
<td>128 × 2KB = 256KB</td>
</tr>
<tr>
<td>所有二级指针块指向的数据块</td>
<td>65016</td>
<td>已计入数据块</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="总磁盘空间占用">✅ 总磁盘空间占用：</h3>
<ul>
<li>数据块：<code>65536 × 2KB = 128MB</code></li>
<li>索引块：
<ul>
<li>1 个一级块（2KB）</li>
<li>1 个二级块（2KB）</li>
<li>128 个一级指针块（256KB）</li>
</ul></li>
<li>总额外：<code>2KB + 2KB + 256KB = 260KB</code></li>
</ul>
<hr>
<h3 id="答案-answer-6">✅ (2) 答案 (Answer)</h3>
<blockquote>
<p><strong>Actual space occupied = 128MB + 260KB ≈ 128.25MB</strong></p>
<p><strong>实际磁盘空间占用 = 128MB（数据） + 260KB（索引块）≈
128.25MB</strong></p>
</blockquote>
<hr>
<h2 id="总结summary-2">✅ 总结（Summary）</h2>
<table>
<thead>
<tr>
<th>问题</th>
<th>答案</th>
</tr>
</thead>
<tbody>
<tr>
<td>(1) 最大文件大小</td>
<td><strong>≈ 513MB</strong></td>
</tr>
<tr>
<td>(2) 128MB 文件占用空间</td>
<td><strong>≈ 128.25MB</strong></td>
</tr>
</tbody>
</table>
<hr>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.totorocatcat.top/">Totoro</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://totorocatcat.top/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2012/">http://totorocatcat.top/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2012/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://totorocatcat.top" target="_blank">Totoroの旅</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%8F%90%E9%AB%98/">提高</a></div><div class="post_share"><div class="social-share" data-image="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2012%E5%B8%A6%E6%89%B9%E6%B3%A8/" title="操作系统2012带批注"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">操作系统2012带批注</div></div></a></div><div class="next-post pull-right"><a href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2011/" title="操作系统2011"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">操作系统2011</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/'Lec2%20Logic%20and%20Proof,%20Sets,%20and%20Function'/" title="Lec2 Logic and Proof, Sets, and Function"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/1fe6130ca86bb9e7e6a37c9187a32c8.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-20</div><div class="title">Lec2 Logic and Proof, Sets, and Function</div></div></a></div><div><a href="/02%EF%BC%89/" title="CS61B 课程笔记（Lecture 02）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/v2-2ed7f4c9e1a7a699a3ef300a6f761abe_720w.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-11</div><div class="title">CS61B 课程笔记（Lecture 02）</div></div></a></div><div><a href="/03%EF%BC%89/" title="CS61B 课程笔记（Lecture 03）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/v2-2ed7f4c9e1a7a699a3ef300a6f761abe_720w.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-12</div><div class="title">CS61B 课程笔记（Lecture 03）</div></div></a></div><div><a href="/04%EF%BC%89/" title="CS61B 课程笔记（Lecture 04）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/2749a496aabc7d650b2912e256582e390a0a636b.jpg@1256w_1246h_!web-article-pic.avif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-13</div><div class="title">CS61B 课程笔记（Lecture 04）</div></div></a></div><div><a href="/06%EF%BC%89/" title="CS61B 课程笔记（Lecture 06）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/f00af0d55cc81c18403ccbb4957ae6bc298252208.jpg@1256w_1374h_!web-article-pic.avif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-15</div><div class="title">CS61B 课程笔记（Lecture 06）</div></div></a></div><div><a href="/05%EF%BC%89/" title="CS61B 课程笔记（Lecture 05）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/4ccebbc43a0ca31a719afadee2f86b4902402baf.jpg@1256w_786h_!web-article-pic.avif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-14</div><div class="title">CS61B 课程笔记（Lecture 05）</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/px3.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Totoro</div><div class="author-info__description">热爱文学的SCUT软件学院学生</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">836</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">36</div></a></div><a id="card-info-btn" href="https://github.com/4512abc"><i class="fab fa-github"></i><span>🛴前往小窝......</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/4512abc" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:4512abc@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到龙猫の小窝</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2012"><span class="toc-text">操作系统2012</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%80%89%E6%8B%A9%E9%A2%98"><span class="toc-text">选择题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#section"><span class="toc-text">1. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-1"><span class="toc-text">2. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-2"><span class="toc-text">3. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-3"><span class="toc-text">4. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-4"><span class="toc-text">5. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-5"><span class="toc-text">6. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-6"><span class="toc-text">7. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-7"><span class="toc-text">8. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-8"><span class="toc-text">9. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-9"><span class="toc-text">10. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-10"><span class="toc-text">11. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-11"><span class="toc-text">12. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-12"><span class="toc-text">13. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-13"><span class="toc-text">14. (  )</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#section-14"><span class="toc-text">15. (  )</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%80%E7%AD%94%E9%A2%98"><span class="toc-text">简答题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86pts"><span class="toc-text">1. (5 分&#x2F;pts)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-answer"><span class="toc-text">✅ 答案 &#x2F; Answer：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-summary"><span class="toc-text">📘 总结 &#x2F; Summary：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86pts-1"><span class="toc-text">2. (5 分&#x2F;pts)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-answer-1"><span class="toc-text">✅ 答案 &#x2F; Answer：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%90%8C%E7%82%B9-similarities"><span class="toc-text">🟰 相同点 &#x2F;
Similarities：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E7%82%B9-differences"><span class="toc-text">🔀 不同点 &#x2F;
Differences：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E8%AF%AD-summary"><span class="toc-text">📘 总结语 &#x2F; Summary：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86pts-2"><span class="toc-text">3. (5 分&#x2F;pts)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-answer-2"><span class="toc-text">✅ 答案 &#x2F; Answer：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%98%E7%82%B9-advantages"><span class="toc-text">🔹 (1) 优点 &#x2F; Advantages：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%BA%E7%82%B9-disadvantages"><span class="toc-text">🔻 (2) 缺点 &#x2F; Disadvantages：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B9%E8%BF%9B%E6%96%B9%E6%B3%95-how-to-deal-with-it"><span class="toc-text">🛠️ 改进方法 &#x2F; How to deal
with it：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86pts-3"><span class="toc-text">4. (5 分&#x2F;pts)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AD%94%E6%A1%88%E4%B8%8E%E8%A7%A3%E9%87%8A-solution-explanation"><span class="toc-text">✅ 答案与解释 &#x2F;
Solution &amp; Explanation：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shortest-seek-first-ssf"><span class="toc-text">➤ (1) Shortest Seek First
(SSF)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scan-elevator-%E7%AE%97%E6%B3%95"><span class="toc-text">➤ (2) SCAN (Elevator)
算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-summary-1"><span class="toc-text">📘 总结 &#x2F; Summary：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9A%A7%E9%81%93%E9%80%9A%E8%A1%8C%E9%97%AE%E9%A2%98-tunnel-synchronization-problem"><span class="toc-text">隧道通行问题 &#x2F;
Tunnel Synchronization Problem</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE-problem"><span class="toc-text">题目 &#x2F; Problem：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86"><span class="toc-text">(1)（4 分）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86-1"><span class="toc-text">(2)（6 分）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-solution"><span class="toc-text">✅ 答案 &#x2F; Solution：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E5%AE%9A%E8%AF%B4%E6%98%8E-definitions"><span class="toc-text">▶️ 设定说明 &#x2F;
Definitions：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#alternating-access-%E4%BA%A4%E6%9B%BF%E9%80%9A%E8%A1%8C"><span class="toc-text">(1) Alternating Access &#x2F;
交替通行</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="toc-text">✅ 设置信号量：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#a%E6%96%B9%E5%90%91%E8%A1%8C%E4%BA%BA%E4%BB%A3%E7%A0%81"><span class="toc-text">✅ A方向行人代码：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b%E6%96%B9%E5%90%91%E8%A1%8C%E4%BA%BA%E4%BB%A3%E7%A0%81"><span class="toc-text">✅ B方向行人代码：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E9%87%8A-explanation"><span class="toc-text">✅ 解释 &#x2F; Explanation：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#one-direction-priority-%E4%B8%80%E6%96%B9%E4%BC%98%E5%85%88%E9%80%9A%E8%A1%8C"><span class="toc-text">(2) One-direction
Priority &#x2F; 一方优先通行</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="toc-text">✅ 设置变量：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%BF%A1%E5%8F%B7%E9%87%8F-1"><span class="toc-text">✅ 设置信号量：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#a%E6%96%B9%E5%90%91%E8%A1%8C%E4%BA%BA%E4%BB%A3%E7%A0%81-1"><span class="toc-text">✅ A方向行人代码：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b%E6%96%B9%E5%90%91%E8%A1%8C%E4%BA%BA%E4%BB%A3%E7%A0%81-1"><span class="toc-text">✅ B方向行人代码：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E9%87%8A-explanation-1"><span class="toc-text">✅ 解释 &#x2F; Explanation：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-summary-2"><span class="toc-text">✅ 总结 &#x2F; Summary：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E7%BA%A7%E5%8F%8D%E9%A6%88%E9%98%9F%E5%88%97%E8%B0%83%E5%BA%A6multi-level-feedback-queue-scheduling"><span class="toc-text">多级反馈队列调度（Multi-level
Feedback Queue Scheduling）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE-problem-1"><span class="toc-text">✅ 题目 &#x2F; Problem</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E4%BF%A1%E6%81%AF-process-info"><span class="toc-text">进程信息 &#x2F; Process
Info</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%A2%98%E6%80%9D%E8%B7%AF-solution-idea"><span class="toc-text">✅ 解题思路 &#x2F; Solution
Idea</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E9%97%AE%E9%A2%98"><span class="toc-text">死锁问题</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E5%88%86%E9%85%8D%E5%9B%BEresource-allocation-graph"><span class="toc-text">✅ (1) 资源分配图（Resource
Allocation Graph）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%8F%E4%B8%AA%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81process-states"><span class="toc-text">✅ (2) 每个进程的状态（Process
States）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%98%AF%E5%90%A6%E5%A4%84%E4%BA%8E%E6%AD%BB%E9%94%81%E7%8A%B6%E6%80%81deadlock"><span class="toc-text">✅ (3)
系统是否处于死锁状态？（Deadlock?）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93summary"><span class="toc-text">✅ 总结（Summary）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E9%A1%B5%E8%A1%A8%E5%A4%A7%E5%B0%8F%E4%B8%8E%E5%B1%82%E6%AC%A1%E9%A1%B5%E8%A1%A8virtual-memory-page-table-size-and-feasibility"><span class="toc-text">虚拟内存页表大小与层次页表（Virtual
Memory Page Table Size and Feasibility）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE-problem-2"><span class="toc-text">❓题目 (Problem)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#what-is-the-total-size-of-the-page-table"><span class="toc-text">🔹(1) What is the
total size of the page table?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E7%AD%94-solution"><span class="toc-text">✅ 解答 (Solution)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#step-1-%E9%A1%B5%E5%A4%A7%E5%B0%8F-4kb-2%C2%B9%C2%B2-%E5%AD%97%E8%8A%82"><span class="toc-text">👉 Step 1: 页大小 &#x3D; 4KB &#x3D;
2¹² 字节</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#step-2-%E8%99%9A%E6%8B%9F%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4%E4%B8%BA-44-%E4%BD%8D"><span class="toc-text">👉 Step 2: 虚拟地址空间为
44 位</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#step-3-%E6%AF%8F%E4%B8%AA%E9%A1%B5%E8%A1%A8%E9%A1%B9pte%E7%9A%84%E5%A4%A7%E5%B0%8F"><span class="toc-text">👉 Step 3:
每个页表项（PTE）的大小</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#step-4-%E9%A1%B5%E8%A1%A8%E5%A4%A7%E5%B0%8F"><span class="toc-text">👉 Step 4: 页表大小</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-answer-3"><span class="toc-text">✅ 答案 (Answer)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%99%E6%A0%B7%E8%A1%A8%E7%A4%BA%E9%A1%B5%E8%A1%A8%E4%B8%8D%E5%8F%AF%E8%A1%8C%E5%B1%82%E6%AC%A1%E9%A1%B5%E8%A1%A8%E6%98%AF%E5%90%A6%E8%A7%A3%E5%86%B3%E4%BA%86%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98"><span class="toc-text">🔹(2)
为什么这样表示页表不可行？层次页表是否解决了这个问题？</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E7%AD%94-solution-1"><span class="toc-text">✅ 解答 (Solution)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AE%E9%A2%98problem"><span class="toc-text">❗问题（Problem）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%82%E6%AC%A1%E9%A1%B5%E8%A1%A8%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88hierarchical-page-tables-help"><span class="toc-text">✅
层次页表的解决方案（Hierarchical Page Tables Help）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8Bexample"><span class="toc-text">✅ 示例（Example）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-answer-4"><span class="toc-text">✅ 答案 (Answer)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93summary-1"><span class="toc-text">✅ 总结（Summary）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#i-node-%E7%BB%93%E6%9E%84%E4%B8%8E%E7%A3%81%E7%9B%98%E5%9D%97%E7%A9%BA%E9%97%B4%E5%8D%A0%E7%94%A8%E5%88%86%E6%9E%90i-node-disk-block-calculation"><span class="toc-text">i-node
结构与磁盘块空间占用分析（i-node &amp; Disk Block Calculation）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%98%E7%9B%AE-problem-3"><span class="toc-text">❓题目 (Problem)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#what-is-the-maximum-file-size-of-this-file-system"><span class="toc-text">🔹(1) What is
the maximum file size of this file system?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E7%AD%94-solution-2"><span class="toc-text">✅ 解答 (Solution)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E7%B4%A2%E5%BC%95%E5%9D%97"><span class="toc-text">✅ 1️⃣ 直接索引块：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E9%97%B4%E6%8E%A5%E5%9D%97single-indirect"><span class="toc-text">✅ 2️⃣ 一级间接块（single
indirect）：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E9%97%B4%E6%8E%A5%E5%9D%97double-indirect"><span class="toc-text">✅ 3️⃣ 二级间接块（double
indirect）：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%80%BB%E6%9C%80%E5%A4%A7%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F"><span class="toc-text">✅ 4️⃣ 总最大文件大小：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-answer-5"><span class="toc-text">✅ (1) 答案 (Answer)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#how-much-disk-space-does-a-128mb-file-actually-occupy-including-index-blocks"><span class="toc-text">🔹(2)
How much disk space does a 128MB file actually occupy (including index
blocks)?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E7%AD%94-solution-3"><span class="toc-text">✅ 解答 (Solution)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F128mb-128-1024-kb-131072-kb"><span class="toc-text">✅ 1️⃣ 文件大小：128MB &#x3D; 128
× 1024 KB &#x3D; 131072 KB</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%9D%97%E6%95%B0"><span class="toc-text">✅ 2️⃣ 数据块数：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%88%91%E4%BB%AC%E8%BF%98%E9%9C%80%E8%A6%81%E5%A4%9A%E5%B0%91%E7%B4%A2%E5%BC%95%E5%9D%97"><span class="toc-text">🔸我们还需要多少索引块？</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a.-%E7%9B%B4%E6%8E%A5%E5%9D%978-%E5%9D%97%E6%9C%80%E5%A4%9A%E5%8F%AF%E8%A1%A8%E7%A4%BA-16kb-%E6%95%B0%E6%8D%AE"><span class="toc-text">✅ A. 直接块：8
块（最多可表示 16KB 数据）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b.-%E4%B8%80%E7%BA%A7%E9%97%B4%E6%8E%A5%E5%9D%97512-%E5%9D%97%E8%A1%A8%E7%A4%BA-1mb-%E6%95%B0%E6%8D%AE"><span class="toc-text">✅ B. 一级间接块：512 块（表示
1MB 数据）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#c.-%E4%BA%8C%E7%BA%A7%E9%97%B4%E6%8E%A5%E5%9D%97"><span class="toc-text">✅ C. 二级间接块：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E9%A2%9D%E5%A4%96%E7%B4%A2%E5%BC%95%E5%9D%97%E6%95%B0%E7%94%A8%E4%BA%8E%E5%AD%98%E5%82%A8%E7%B4%A2%E5%BC%95%E4%BF%A1%E6%81%AF"><span class="toc-text">✅
总额外索引块数（用于存储索引信息）：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E5%8D%A0%E7%94%A8"><span class="toc-text">✅ 总磁盘空间占用：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AD%94%E6%A1%88-answer-6"><span class="toc-text">✅ (2) 答案 (Answer)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93summary-2"><span class="toc-text">✅ 总结（Summary）</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%BB%BC%E5%90%88%E9%A2%98/" title="操作系统综合题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统综合题"/></a><div class="content"><a class="title" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%BB%BC%E5%90%88%E9%A2%98/" title="操作系统综合题">操作系统综合题</a><time datetime="2025-05-04T18:20:42.000Z" title="发表于 2025-05-05 02:20:42">2025-05-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%94%E8%AE%B0/" title="操作系统笔记"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统笔记"/></a><div class="content"><a class="title" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%AC%94%E8%AE%B0/" title="操作系统笔记">操作系统笔记</a><time datetime="2025-05-04T17:59:45.000Z" title="发表于 2025-05-05 01:59:45">2025-05-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2012%E5%B8%A6%E6%89%B9%E6%B3%A8/" title="操作系统2012带批注"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统2012带批注"/></a><div class="content"><a class="title" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2012%E5%B8%A6%E6%89%B9%E6%B3%A8/" title="操作系统2012带批注">操作系统2012带批注</a><time datetime="2025-05-04T17:28:38.000Z" title="发表于 2025-05-05 01:28:38">2025-05-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2012/" title="操作系统2012"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统2012"/></a><div class="content"><a class="title" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2012/" title="操作系统2012">操作系统2012</a><time datetime="2025-05-04T17:15:36.000Z" title="发表于 2025-05-05 01:15:36">2025-05-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2011/" title="操作系统2011"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统2011"/></a><div class="content"><a class="title" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F2011/" title="操作系统2011">操作系统2011</a><time datetime="2025-05-04T15:52:32.000Z" title="发表于 2025-05-04 23:52:32">2025-05-04</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By Totoro</div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.<p><a target="_blank" href="https://hexo.io/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a>&nbsp;<a target="_blank" href="https://butterfly.js.org/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a>&nbsp;<a target="_blank" href="https://www.jsdelivr.com/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速"></a> &nbsp;<a target="_blank" href="https://vercel.com/ "><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&logo=Vercel" title="本站采用双线部署，默认线路托管于Vercel"></a>&nbsp;<a target="_blank" href="https://vercel.com/ "><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&logo=Codio" title="本站采用双线部署，联通线路托管于Coding"></a>&nbsp;<a target="_blank" href="https://github.com/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a>&nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="/js/tw_cn.js?v=4.12.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'HT1PalaKkPaG1UqAXBhJXIu8-gzGzoHsz',
      appKey: 'iT0TnVVAwf9zuZ7NqwclQItY',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.jsdelivr.net/npm/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !false) {
    if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script></div><script defer src="/js/light.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script async src="/js/title.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="1" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 380px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 320px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_12.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/离散数学/&quot;);" href="javascript:void(0);">离散数学</a><span class="categoryBar-list-count">33</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_13.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/CS61B/&quot;);" href="javascript:void(0);">CS61B</a><span class="categoryBar-list-count">76</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_14.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/期末の旅/&quot;);" href="javascript:void(0);">期末の旅</a><span class="categoryBar-list-count">99</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_17.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/刷题计划/&quot;);" href="javascript:void(0);">刷题计划</a><span class="categoryBar-list-count">60</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_18.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/区域赛の旅/&quot;);" href="javascript:void(0);">区域赛の旅</a><span class="categoryBar-list-count">7</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_19.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Codeforcesの旅/&quot;);" href="javascript:void(0);">Codeforcesの旅</a><span class="categoryBar-list-count">24</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_20.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/牛客の旅/&quot;);" href="javascript:void(0);">牛客の旅</a><span class="categoryBar-list-count">65</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_21.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/ACMの旅/&quot;);" href="javascript:void(0);">ACMの旅</a><span class="categoryBar-list-count">42</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_22.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/数学建模/&quot;);" href="javascript:void(0);">数学建模</a><span class="categoryBar-list-count">26</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_22.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/前端の旅/&quot;);" href="javascript:void(0);">前端の旅</a><span class="categoryBar-list-count">17</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_23.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/数据结构/&quot;);" href="javascript:void(0);">数据结构</a><span class="categoryBar-list-count">47</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_24.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Atcoderの旅/&quot;);" href="javascript:void(0);">Atcoderの旅</a><span class="categoryBar-list-count">53</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_25.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/C-の旅/&quot;);" href="javascript:void(0);">C++の旅</a><span class="categoryBar-list-count">17</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_26.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/CS70の旅/&quot;);" href="javascript:void(0);">CS70の旅</a><span class="categoryBar-list-count">24</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_27.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/CSAPPの旅/&quot;);" href="javascript:void(0);">CSAPPの旅</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_28.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/计算机组成原理/&quot;);" href="javascript:void(0);">计算机组成原理</a><span class="categoryBar-list-count">47</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_29.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/编程基础/&quot;);" href="javascript:void(0);">编程基础</a><span class="categoryBar-list-count">14</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_30.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/JAVAの旅/&quot;);" href="javascript:void(0);">JAVAの旅</a><span class="categoryBar-list-count">10</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_31.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/MIT-6-031-Software-Construction/&quot;);" href="javascript:void(0);">MIT 6.031:Software Construction</a><span class="categoryBar-list-count">16</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_32.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/CS-110L/&quot;);" href="javascript:void(0);">CS 110L</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_33.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/数据库の旅/&quot;);" href="javascript:void(0);">数据库の旅</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_34.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/灵魂の旅/&quot;);" href="javascript:void(0);">灵魂の旅</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_35.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/个人安排/&quot;);" href="javascript:void(0);">个人安排</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_36.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/杂项/&quot;);" href="javascript:void(0);">杂项</a><span class="categoryBar-list-count">13</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_37.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/文学/&quot;);" href="javascript:void(0);">文学</a><span class="categoryBar-list-count">49</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_38.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/力扣の旅/&quot;);" href="javascript:void(0);">力扣の旅</a><span class="categoryBar-list-count">20</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_39.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/计算机网络/&quot;);" href="javascript:void(0);">计算机网络</a><span class="categoryBar-list-count">18</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_40.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/千里十二行/&quot;);" href="javascript:void(0);">千里十二行</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_41.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/🗡指offer/&quot;);" href="javascript:void(0);">🗡指offer</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_42.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/少年游/&quot;);" href="javascript:void(0);">少年游</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_43.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/算法提高课/&quot;);" href="javascript:void(0);">算法提高课</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_44.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/汇编の旅/&quot;);" href="javascript:void(0);">汇编の旅</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_44.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/C-实训/&quot;);" href="javascript:void(0);">C++实训</a><span class="categoryBar-list-count">8</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_45.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/CS知识/&quot;);" href="javascript:void(0);">CS知识</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_46.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/编译原理/&quot;);" href="javascript:void(0);">编译原理</a><span class="categoryBar-list-count">22</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_48.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/操作系统/&quot;);" href="javascript:void(0);">操作系统</a><span class="categoryBar-list-count">9</span><span class="categoryBar-list-descr"></span></li></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;诗录/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/4b31456c6f0f4489f99177f89e936de7286431045.png@1256w_708h_!web-article-pic.avif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-10-01</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;诗录/&quot;);" href="javascript:void(0);" alt="">诗录</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;诗录/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;诗兴大发/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_69.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-01-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;诗兴大发/&quot;);" href="javascript:void(0);" alt="">诗兴大发</a><div class="blog-slider__text">未觉，却是中二少年的诗仙梦</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;诗兴大发/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;TotoroのPlan/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/51d37eba99d243607ddedfff6e91568f617436609.jpg@1256w_1884h_!web-article-pic.avif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-10-05</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;TotoroのPlan/&quot;);" href="javascript:void(0);" alt="">TotoroのPlan</a><div class="blog-slider__text">方便大二看（）</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;TotoroのPlan/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;Markdown格式/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.48/img_482_1920x1080_96_null_normal.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-03-03</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;Markdown格式/&quot;);" href="javascript:void(0);" alt="">Markdown格式</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;Markdown格式/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>