<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>操作系统CH-1 | Totoroの旅</title><meta name="author" content="Totoro"><meta name="copyright" content="Totoro"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="CH-1 操作系统书籍笔记 Operating Systems Book Notes  第1章：简介 Chapter 1: Introduction • 1.1 什么是计算机系统？ 1.1 What is a Computer System? • 计算机系统由以下组成： A computer system consists of: ◦ 硬件 Hardware ◦ 软件 S">
<meta property="og:type" content="article">
<meta property="og:title" content="操作系统CH-1">
<meta property="og:url" content="http://totorocatcat.top/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH-1/index.html">
<meta property="og:site_name" content="Totoroの旅">
<meta property="og:description" content="CH-1 操作系统书籍笔记 Operating Systems Book Notes  第1章：简介 Chapter 1: Introduction • 1.1 什么是计算机系统？ 1.1 What is a Computer System? • 计算机系统由以下组成： A computer system consists of: ◦ 硬件 Hardware ◦ 软件 S">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg">
<meta property="article:published_time" content="2025-05-05T16:07:16.000Z">
<meta property="article:modified_time" content="2025-05-05T16:07:41.299Z">
<meta property="article:author" content="Totoro">
<meta property="article:tag" content="提高">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg"><link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/b5ca6e582a7a45e6fde46e616eeb68e.png"><link rel="canonical" href="http://totorocatcat.top/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH-1/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":765,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '操作系统CH-1',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2025-05-06 00:07:41'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/scrollbar.css"><link rel="stylesheet" href="/css/cat.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})
</script><link rel="stylesheet" href="/css/progress_bar.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/px3.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">846</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">37</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home-alt"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 趣味</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/project/"><i class="fa-fw fas fas fa-folder"></i><span> 项目</span></a></div><div class="menus_item"><a class="site-page" href="/stars/"><i class="fa-fw fas fa-bookmark"></i><span> 收藏</span></a></div><div class="menus_item"><a class="site-page" href="/bilibili/"><i class="fa-fw fas fa-tv"></i><span> 追番</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Totoroの旅"><span class="site-name">Totoroの旅</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home-alt"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 趣味</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/project/"><i class="fa-fw fas fas fa-folder"></i><span> 项目</span></a></div><div class="menus_item"><a class="site-page" href="/stars/"><i class="fa-fw fas fa-bookmark"></i><span> 收藏</span></a></div><div class="menus_item"><a class="site-page" href="/bilibili/"><i class="fa-fw fas fa-tv"></i><span> 追番</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">操作系统CH-1</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-05-05T16:07:16.000Z" title="发表于 2025-05-06 00:07:16">2025-05-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-05-05T16:07:41.299Z" title="更新于 2025-05-06 00:07:41">2025-05-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>38分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="操作系统CH-1"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">评论数:</span><a href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH-1/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count" data-xid="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH-1/" itemprop="commentCount"><i class="fa-solid fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="ch-1">CH-1</h1>
<h3 id="操作系统书籍笔记"><strong>操作系统书籍笔记</strong></h3>
<p><strong>Operating Systems Book Notes</strong></p>
<hr>
<h4 id="第1章简介"><strong>第1章：简介</strong></h4>
<p><strong>Chapter 1: Introduction</strong></p>
<p>• <strong>1.1 什么是计算机系统？</strong><br>
<strong>1.1 What is a Computer System?</strong><br>
• 计算机系统由以下组成：<br>
<strong>A computer system consists of:</strong><br>
◦ <strong>硬件</strong><br>
<strong>Hardware</strong><br>
◦ <strong>软件</strong><br>
<strong>Software</strong></p>
<p>• <strong>什么是操作系统？</strong><br>
<strong>What is an Operating System (OS)?</strong><br>
• <strong>自上而下的视角（扩展机器）：</strong><br>
<strong>Top-down view (Extended Machine):</strong><br>
◦ 隐藏复杂的硬件细节。<br>
<strong>Hides complex hardware details.</strong><br>
◦ 为用户提供一个更易使用的虚拟机。<br>
<strong>Presents a virtual machine that is easier to use.</strong></p>
<p>• <strong>自下而上的视角（资源管理器）：</strong><br>
<strong>Bottom-up view (Resource Manager):</strong><br>
◦ 允许多个程序同时运行。<br>
<strong>Allows multiple programs to run simultaneously.</strong><br>
◦ 管理和保护资源（内存、I/O设备等）。<br>
<strong>Manages and protects resources (memory, I/O devices,
etc.).</strong><br>
◦ <strong>资源复用（共享）：</strong><br>
<strong>Multiplexing (sharing) resources:</strong><br>
◦ <strong>时间复用：</strong>
资源在时间上共享（例如，CPU时间片）。<br>
<strong>In time:</strong> Resources are shared over time (e.g., CPU time
slices).<br>
◦ <strong>空间复用：</strong> 资源在空间上共享（例如，内存分区）。<br>
<strong>In space:</strong> Resources are shared in space (e.g., memory
partitions).</p>
<h3 id="操作系统历史与发展"><strong>操作系统历史与发展</strong></h3>
<p><strong>History and Development of Operating Systems</strong></p>
<hr>
<h4 id="操作系统历史"><strong>1.2 操作系统历史</strong></h4>
<p><strong>1.2 History of Operating Systems</strong></p>
<p>• <strong>第一代（1945 - 1955）：真空管与插线板</strong><br>
<strong>First Generation (1945 - 1955): Vacuum Tubes and
Plugboards</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
◦ 使用真空管和手工操作。<br>
<strong>Used vacuum tubes and handwork.</strong><br>
◦ 用户：操作员和程序员。<br>
<strong>Users: Operators and programmers.</strong><br>
◦ 编程语言：机器语言。<br>
<strong>Programming language: Machine language.</strong><br>
◦ 输入/输出：插线板、穿孔卡片。<br>
<strong>I/O: Plugboards, punched cards.</strong><br>
◦ 用户独占机器，CPU等待用户加载和卸载插线板。<br>
<strong>The user occupied the machine alone; CPU waited for the user to
load and unload the plugboard.</strong><br>
◦ 矛盾：CPU高速与手工操作低速的冲突。<br>
<strong>Conflict: High-speed CPU vs. low-speed handwork.</strong><br>
◦ 解决方法：引入专门的操作员和批处理系统。<br>
<strong>Solution: Introduced special operators and batch
systems.</strong></p>
<p>• <strong>插线板（Plugboard）</strong><br>
◦ 整个计算机是一个巨大的插线板，通过插入线路实现不同功能。<br>
<strong>The entire computer was a large plugboard; inserting wires in
different positions achieved different functions.</strong></p>
<p>• <strong>穿孔卡片（Punched Card）</strong><br>
◦ 穿孔卡片是一种纸卡片，IBM的12行80列穿孔卡片曾是主流。<br>
<strong>Punched cards were paper cards; IBM's 12-row, 80-column punched
cards were once mainstream.</strong></p>
<hr>
<p>• <strong>第二代（1955 - 1965）：晶体管与批处理系统</strong><br>
<strong>Second Generation (1955 - 1965): Transistors and Batch
Systems</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
◦ 使用晶体管。<br>
<strong>Used transistors.</strong><br>
◦ 用户：操作员或程序员。<br>
<strong>Users: Operators or programmers.</strong><br>
◦ 编程语言：汇编语言、Fortran等。<br>
<strong>Programming languages: Assembly language, Fortran,
etc.</strong><br>
◦ 输入/输出：卡片、磁带。<br>
<strong>I/O: Cards, tapes.</strong><br>
◦ 操作系统：监控程序（执行作业）。<br>
<strong>OS: Monitor (executed jobs).</strong><br>
◦ 批处理系统：在线批处理系统 / 离线批处理系统。<br>
<strong>Batch systems: Online batch system / Offline batch
system.</strong></p>
<p>• <strong>早期离线批处理系统</strong><br>
<strong>Early Offline Batch System</strong><br>
◦ (a) 程序员将卡片带到1401机。<br>
<strong>(a) Programmers brought cards to the 1401.</strong><br>
◦ (b) 1401将一批作业读取到磁带上。<br>
<strong>(b) 1401 read a batch of jobs onto tape.</strong><br>
◦ (c) 操作员将输入磁带带到7094机。<br>
<strong>(c) Operator carried input tape to the 7094.</strong><br>
◦ (d) 7094进行计算。<br>
<strong>(d) 7094 did computing.</strong><br>
◦ (e) 操作员将输出磁带带回1401机。<br>
<strong>(e) Operator carried output tape back to the
1401.</strong><br>
◦ (f) 1401打印输出。<br>
<strong>(f) 1401 printed output.</strong></p>
<p>• <strong>典型FMS作业结构（第二代）</strong><br>
<strong>Structure of a Typical FMS Job – 2nd Generation</strong><br>
◦ 作业：程序、数据、作业说明。<br>
<strong>Job: Program, data, job specification.</strong></p>
<hr>
<p>• <strong>第三代（1965 -
1980）：集成电路与多道程序设计</strong><br>
<strong>Third Generation (1965 - 1980): ICs and
Multiprogramming</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
◦ 使用集成电路（IC）。<br>
<strong>Used Integrated Circuits (ICs).</strong><br>
◦ 批处理系统：效率高，但交互性差。<br>
<strong>Batch systems: High efficiency, poor interaction.</strong><br>
◦ 分时系统（多道程序设计的变体）：<br>
<strong>Time-sharing system (a variant of
multiprogramming):</strong><br>
◦ 多个用户共享计算机，每个用户有一个在线终端。<br>
<strong>Multiple users shared the computer; each had an online
terminal.</strong><br>
◦ 按时间片分配CPU。<br>
<strong>Allocated CPU by time slice.</strong><br>
◦ 快速响应时间。<br>
<strong>Quick response time.</strong></p>
<p>• <strong>多道程序设计系统</strong><br>
<strong>Multiprogramming System</strong><br>
◦ 将内存划分为多个分区，每个分区运行一个作业。<br>
<strong>Partitioned memory into several pieces, with a different job in
each partition.</strong><br>
◦ 宏观上并行，微观上串行。<br>
<strong>Parallel in macroscopic, serial in microcosmic.</strong></p>
<hr>
<p>• <strong>第四代（1980 - 至今）：个人计算机与工作站</strong><br>
<strong>Fourth Generation (1980 – Present): Personal Computers and
Workstations</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
◦ 大规模集成电路（LSI）。<br>
<strong>Large Scale Integration (LSI).</strong><br>
◦ 个人计算机操作系统：<br>
<strong>Operating systems for personal computers:</strong><br>
◦ CP/M（微型计算机控制程序）。<br>
<strong>CP/M (Control Program for Microcomputers).</strong><br>
◦ DOS（磁盘操作系统）➔ MS-DOS。<br>
<strong>DOS (Disk Operating System) ➔ MS-DOS.</strong><br>
◦ 图形用户界面（GUI）。<br>
<strong>Graphical User Interface (GUI).</strong><br>
◦ Windows ➔ Windows 95/98/Me ➔ Windows NT ➔ Windows 2000 ➔ Windows XP ➔
Vista ➔ Win7 ➔ Win8 ➔ Win10 ➔ Win11。<br>
◦ UNIX：<br>
▪ X Windows。<br>
▪ Linux, GNOME, KDE。</p>
<hr>
<p>• <strong>第五代（1990 -
至今）：智能手机与移动操作系统</strong><br>
<strong>Fifth Generation (1990 – Present): Smartphones and Mobile
Operating Systems</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
◦ 1970年代开始将电话与计算结合。<br>
<strong>Combining telephony and computing since the
1970s.</strong><br>
◦ 第一款真正的智能手机：诺基亚N9000（1990年代中期）。<br>
<strong>The first real smartphone: Nokia N9000,
mid-1990s.</strong><br>
◦ Symbian OS。<br>
◦ RIM的Blackberry OS（2002年推出）。<br>
<strong>RIM’s Blackberry OS introduced in 2002.</strong><br>
◦ 苹果的iOS（2007年随第一代iPhone发布）。<br>
<strong>Apple’s iOS released for the first iPhone in
2007.</strong><br>
◦ 谷歌的Android（2008年发布）。<br>
<strong>Google’s Android in 2008.</strong></p>
<hr>
<h4 id="国产操作系统的发展"><strong>国产操作系统的发展</strong></h4>
<p><strong>Development of Domestic Operating Systems</strong></p>
<p>• 国产操作系统多为以Linux为基础二次开发的操作系统。<br>
<strong>Most domestic operating systems are based on Linux and developed
further.</strong><br>
• 红旗Linux<br>
<strong>Red Flag Linux</strong><br>
• 普华Linux（i-soft）<br>
<strong>Puhua Linux (i-soft)</strong><br>
• 中兴新支点操作系统<br>
<strong>ZTE’s NewStart OS</strong><br>
• 威科乐恩Linux（WiOS）<br>
<strong>Wecolon Linux (WiOS)</strong><br>
• 安超OS（国产通用型云OS）<br>
<strong>Anchao OS (Domestic General Cloud OS)</strong><br>
• 起点操作系统（StartOS）<br>
<strong>StartOS</strong><br>
• 凝思磐石安全操作系统<br>
<strong>Ningsi Rocksolid Security OS</strong><br>
• 一铭操作系统（YMOS）<br>
<strong>Yiming OS (YMOS)</strong><br>
• 深度Linux（Deepin）<br>
<strong>Deepin Linux</strong><br>
• 统信操作系统UOS<br>
<strong>Tongxin OS (UOS)</strong><br>
• 银河麒麟、中标麒麟（Kylin）<br>
<strong>Galaxy Kirin, NeoKylin (Kylin)</strong><br>
• 华为鸿蒙操作系统（HarmonyOS）<br>
<strong>Huawei’s HarmonyOS</strong><br>
• 华为欧拉操作系统（EulerOS）<br>
<strong>Huawei’s EulerOS</strong></p>
<h3 id="操作系统动物园"><strong>1.4 操作系统动物园</strong></h3>
<p><strong>1.4 The Operating System Zoo</strong></p>
<hr>
<h4 id="大型机操作系统"><strong>1. 大型机操作系统</strong></h4>
<p><strong>1. Mainframe Operating Systems</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
• 用于大型计算机，通常用于处理大规模数据处理任务。<br>
<strong>Used for mainframe computers, typically for large-scale data
processing tasks.</strong><br>
• 示例：<br>
<strong>Examples:</strong><br>
• OS/390<br>
• zOS</p>
<hr>
<h4 id="服务器操作系统"><strong>2. 服务器操作系统</strong></h4>
<p><strong>2. Server Operating Systems</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
• 用于服务器，支持多用户和多任务处理。<br>
<strong>Used for servers, supporting multi-user and multi-tasking
environments.</strong><br>
• 示例：<br>
<strong>Examples:</strong><br>
• Solaris<br>
• FreeBSD<br>
• Linux<br>
• Windows Server 201x</p>
<hr>
<h4 id="多处理器操作系统"><strong>3. 多处理器操作系统</strong></h4>
<p><strong>3. Multiprocessor Operating Systems</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
• 支持多处理器系统，充分利用多核CPU的性能。<br>
<strong>Supports multiprocessor systems, fully utilizing the performance
of multi-core CPUs.</strong></p>
<hr>
<h4 id="个人计算机操作系统"><strong>4. 个人计算机操作系统</strong></h4>
<p><strong>4. Personal Computer Operating Systems</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
• 用于个人计算机，提供用户友好的界面和应用程序支持。<br>
<strong>Used for personal computers, providing user-friendly interfaces
and application support.</strong><br>
• 示例：<br>
<strong>Examples:</strong><br>
• Windows 7/8/10/11<br>
• Linux<br>
• FreeBSD<br>
• Apple macOS</p>
<hr>
<h4 id="手持设备操作系统"><strong>5. 手持设备操作系统</strong></h4>
<p><strong>5. Handheld Operating Systems</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
• 用于智能手机、平板电脑等移动设备，支持触控和移动应用。<br>
<strong>Used for smartphones, tablets, and other mobile devices,
supporting touch and mobile applications.</strong><br>
• 示例：<br>
<strong>Examples:</strong><br>
• Android<br>
• iOS</p>
<hr>
<h4 id="嵌入式操作系统"><strong>6. 嵌入式操作系统</strong></h4>
<p><strong>6. Embedded Operating Systems</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
• 用于嵌入式设备，如家电、汽车、工业设备等，通常资源受限。<br>
<strong>Used for embedded devices such as appliances, cars, and
industrial equipment, typically with limited resources.</strong><br>
• 示例：<br>
<strong>Examples:</strong><br>
• QNX<br>
• VxWorks</p>
<hr>
<h4 id="传感器节点操作系统"><strong>7. 传感器节点操作系统</strong></h4>
<p><strong>7. Sensor Node Operating Systems</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
• 用于无线传感器网络，通常资源非常有限。<br>
<strong>Used for wireless sensor networks, typically with very limited
resources.</strong><br>
• 示例：<br>
<strong>Examples:</strong><br>
• TinyOS</p>
<hr>
<h4 id="实时操作系统"><strong>8. 实时操作系统</strong></h4>
<p><strong>8. Real-Time Operating Systems</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
• 用于实时系统，任务必须在严格的时间限制内完成。<br>
<strong>Used for real-time systems, where tasks must be completed within
strict time constraints.</strong><br>
• <strong>硬实时系统（Hard Real-Time System）：</strong>
动作必须在特定时刻发生。<br>
<strong>Hard Real-Time System:</strong> The action absolutely must occur
at a certain moment.<br>
• 示例：<br>
<strong>Examples:</strong><br>
◦ e-Cos</p>
<hr>
<h4 id="智能卡操作系统"><strong>9. 智能卡操作系统</strong></h4>
<p><strong>9. Smart Card Operating Systems</strong><br>
• 特点：<br>
<strong>Characteristics:</strong><br>
• 用于智能卡，通常运行在资源极其有限的环境中。<br>
<strong>Used for smart cards, typically running in extremely
resource-constrained environments.</strong><br>
• 示例：<br>
<strong>Examples:</strong><br>
• Java虚拟机（JVM）<br>
<strong>Java Virtual Machine (JVM)</strong></p>
<hr>
<h3 id="总结"><strong>总结</strong></h3>
<p><strong>Summary</strong></p>
<p>操作系统的种类繁多，适用于不同的计算环境和设备类型：<br>
<strong>There are many types of operating systems, suitable for
different computing environments and device types:</strong><br>
• 大型机操作系统：用于大规模数据处理。<br>
<strong>Mainframe OS: For large-scale data processing.</strong><br>
• 服务器操作系统：支持多用户和多任务。<br>
<strong>Server OS: Supports multi-user and multi-tasking.</strong><br>
• 个人计算机操作系统：提供用户友好的界面。<br>
<strong>PC OS: Provides user-friendly interfaces.</strong><br>
• 手持设备操作系统：支持移动应用和触控。<br>
<strong>Handheld OS: Supports mobile applications and
touch.</strong><br>
• 嵌入式操作系统：用于资源受限的嵌入式设备。<br>
<strong>Embedded OS: For resource-constrained embedded
devices.</strong><br>
• 实时操作系统：用于严格时间限制的任务。<br>
<strong>Real-Time OS: For tasks with strict time
constraints.</strong><br>
• 智能卡操作系统：用于智能卡等小型设备。<br>
<strong>Smart Card OS: For small devices like smart cards.</strong></p>
<p>每种操作系统都有其独特的应用场景和设计目标。<br>
<strong>Each type of operating system has its unique application
scenarios and design goals.</strong></p>
<h3 id="操作系统概念"><strong>1.5 操作系统概念</strong></h3>
<p><strong>1.5 Operating System Concepts</strong></p>
<hr>
<h4 id="进程processes"><strong>进程（Processes）</strong></h4>
<p>• <strong>进程的定义：</strong><br>
<strong>Definition of a Process:</strong><br>
• 进程是正在执行的程序。<br>
<strong>A process is a program in execution.</strong></p>
<p>• <strong>进程控制块（PCB）：</strong><br>
<strong>Process Control Block (PCB):</strong><br>
•
为了描述和控制进程的运行，系统为每个进程定义了一个数据结构——进程控制块（PCB）。<br>
<strong>To describe and control the execution of a process, the system
defines a data structure for each process called the Process Control
Block (PCB).</strong><br>
•
系统创建一个进程，就是为某个程序设置一个PCB，用于对该进程进行控制和管理。<br>
<strong>When the system creates a process, it sets up a PCB for the
program to control and manage the process.</strong><br>
• 进程任务完成后，系统收回其PCB，该进程便消亡。<br>
<strong>When the process completes its task, the system reclaims its
PCB, and the process terminates.</strong><br>
• PCB是进程存在的唯一标志。<br>
<strong>The PCB is the only identifier of a process’s
existence.</strong></p>
<p>• <strong>进程表（Process Table）：</strong><br>
<strong>Process Table:</strong><br>
• 进程信息（PCB）存储在操作系统的进程表中。<br>
<strong>The information about a process (PCB) is stored in an operating
system table called the process table.</strong></p>
<p>• <strong>命令解释器（Shell）：</strong><br>
<strong>Command Interpreter (Shell):</strong><br>
• 一个称为命令解释器或shell的进程从终端读取命令。<br>
<strong>A process called the command interpreter or shell reads commands
from a terminal.</strong></p>
<p>• <strong>进程树（Process Tree）：</strong><br>
<strong>Process Tree:</strong><br>
•
如果一个进程可以创建一个或多个其他进程（子进程），并且这些进程也可以创建子进程，那么它们可以构建成一个树结构。<br>
<strong>If a process can create one or more other processes (child
processes) and these processes create child processes, we can build them
in a tree structure.</strong><br>
• 在UNIX中，所有进程都有一个父进程。<br>
<strong>In UNIX, there is a parent process for all
processes.</strong></p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/20250505233515.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>• <strong>进程状态：</strong><br>
<strong>Process Status:</strong><br>
•
进程有多种状态：运行（running）、阻塞（blocked）、就绪（ready）。<br>
<strong>Processes have many statuses: running, blocked,
ready.</strong></p>
<p>• <strong>用户与进程标识：</strong><br>
<strong>User and Process Identification:</strong><br>
• 每个授权使用系统的用户被分配一个用户标识符（UID）。<br>
<strong>Each person authorized to use a system is assigned a UID (User
IDentification).</strong><br>
• 进程被分配一个进程标识符（PID）。<br>
<strong>A process is assigned a PID (Process
IDentification).</strong><br>
• 用户可以属于组，每个组有一个组标识符（GID）。<br>
<strong>Users can be members of groups, each of which has a GID (Group
IDentification).</strong><br>
• 超级用户（UNIX中的root）有特殊权限，可以违反许多保护规则。<br>
<strong>The superuser (root in UNIX) has special privileges to violate
many of the protection rules.</strong></p>
<p>• <strong>进程间通信（IPC）：</strong><br>
<strong>Interprocess Communication (IPC):</strong><br>
• 进程之间用于协作和同步的通信称为进程间通信。<br>
<strong>The communication to cooperate and synchronize processes is
called interprocess communication.</strong></p>
<hr>
<h4 id="地址空间与文件address-spaces-files"><strong>地址空间与文件（Address
Spaces &amp; Files）</strong></h4>
<p>• <strong>地址空间：</strong><br>
<strong>Address Space:</strong><br>
• 地址空间是从0到某个最大值的内存分配列表，进程可以读写这些内存。<br>
<strong>Address Space: a list of memory allocations from 0 to some
maximum, which the process can read and write.</strong><br>
•
在虚拟内存中，操作系统将部分地址空间保留在主存中，部分保留在磁盘上。<br>
<strong>In virtual memory, the operating system keeps part of the
address space in main memory and part on disk.</strong></p>
<p>• <strong>文件系统：</strong><br>
<strong>File System:</strong><br>
• 文件系统为用户提供了一个干净、设备独立的文件抽象模型。<br>
<strong>A file system provides users with a nice, clean abstract model
of device-independent files.</strong><br>
• 目录用于将文件分组。<br>
<strong>A directory is used to group files together.</strong><br>
• 路径名可以指定文件的位置。<br>
<strong>A path name can specify the location of a file.</strong><br>
• 根目录是目录层次结构的顶部。在UNIX中，<code>/</code>是根目录。<br>
<strong>A root directory is the top of the directory hierarchy. In UNIX,
<code>/</code> is the root directory.</strong><br>
• 每个进程都有一个当前工作目录（pwd）。<br>
<strong>Each process has a current working directory (pwd).</strong></p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/20250505233617.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>• <strong>文件描述符：</strong><br>
<strong>File Descriptor:</strong><br>
•
如果允许访问文件，系统会返回一个称为文件描述符的小整数，用于后续操作。<br>
<strong>If a file access is permitted, the system returns a small
integer called a file descriptor to use in subsequent
operations.</strong></p>
<p>• <strong>特殊文件：</strong><br>
<strong>Special Files:</strong><br>
•
UNIX中有两种特殊文件：块特殊文件（磁盘）和字符特殊文件（打印机、调制解调器）。<br>
<strong>Two kinds of special files exist in UNIX under the
<code>/dev</code> directory: block special files (disks) and character
special files (printers, modems).</strong></p>
<p>• <strong>挂载文件系统：</strong><br>
<strong>Mounted File System:</strong><br>
• 在UNIX中，挂载文件系统用于处理可移动介质（如CD-ROM）。<br>
<strong>In UNIX, the mounted file system is used to deal with removable
media (mount).</strong><br>
• 挂载前，CD-ROM上的文件不可访问。<br>
<strong>Before mounting, the files on the CD-ROM are not
accessible.</strong><br>
• 挂载后，CD-ROM上的文件成为文件层次结构的一部分。<br>
<strong>After mounting, the files on the CD-ROM are part of the file
hierarchy.</strong></p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/20250505233643.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<p>• <strong>管道（Pipe）：</strong><br>
<strong>Pipe:</strong><br>
• 管道是一种伪文件，用于连接两个进程。<br>
<strong>A pipe is a sort of pseudofile that can be used to connect two
processes.</strong></p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/20250505233711.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<hr>
<h4 id="输入输出inputoutput"><strong>输入/输出（Input/Output）</strong></h4>
<p>• <strong>I/O子系统：</strong><br>
<strong>I/O Subsystem:</strong><br>
• 操作系统必须能够与多种外设（键盘、鼠标、显示器、打印机等）通信。<br>
<strong>OS must understand how to communicate with many types of
peripherals (keyboard, mouse, monitor, printer, etc.).</strong><br>
• 每个操作系统都有一个I/O子系统来管理其I/O设备。<br>
<strong>Every OS has an I/O sub-system for managing its I/O
devices.</strong></p>
<blockquote>
<p>Some of the I/O software is device independent. Other parts of it,
such as device drivers, are specific to particular I/O devices.</p>
</blockquote>
<hr>
<p><strong>中文翻译：</strong></p>
<blockquote>
<p>有些 I/O 软件是<strong>设备无关的</strong>（device independent）。
另一些部分，例如<strong>设备驱动程序</strong>（device
drivers），则是<strong>针对特定 I/O 设备编写的</strong>。</p>
</blockquote>
<p>• <strong>设备驱动程序：</strong><br>
<strong>Device Driver:</strong><br>
• 设备驱动程序是黑盒，用于隐藏硬件设备的细节。<br>
<strong>Device drivers are black boxes to hide details of hardware
devices.</strong><br>
• 主要作用：将标准调用映射到设备特定的操作。<br>
<strong>Main Role: Map standard calls to device-specific
operations.</strong><br>
• 可以与内核的其他部分分开开发，并在需要时在运行时插入。<br>
<strong>Can be developed separately from the rest of the kernel. Plugged
in at runtime when needed.</strong></p>
<hr>
<h4 id="保护protection"><strong>保护（Protection）</strong></h4>
<p>• <strong>保护机制：</strong><br>
<strong>Protection Mechanism:</strong><br>
• 操作系统必须防止对资源的未授权访问。<br>
<strong>OS must prevent unauthorized access to resources.</strong><br>
• 还必须防止一个用户干扰另一个用户的资源（如文件）。<br>
<strong>Must also prevent one user from interfering with another user’s
resources (e.g., files).</strong></p>
<p>• <strong>UNIX文件保护：</strong><br>
<strong>UNIX File Protection:</strong><br>
• UNIX中的文件通过一个9位二进制保护代码进行保护。<br>
<strong>Files in UNIX are protected by a 9-bit binary protection
code.</strong><br>
• 保护代码由三个3位字段组成，分别用于所有者、组和其他人。<br>
<strong>The protection code consists of three 3-bit fields, one for
owner, one for group, and one for others.</strong><br>
• 每个字段有一个读位、一个写位和一个执行位，称为rwx位。<br>
<strong>Each field has a bit for read, a bit for write, and a bit for
execute. They are known as rwx bits.</strong></p>
<hr>
<h4 id="shell"><strong>Shell</strong></h4>
<p>• <strong>UNIX Shell：</strong><br>
<strong>UNIX Shell:</strong><br>
• UNIX命令解释器称为shell。<br>
<strong>The UNIX command interpreter is called the shell.</strong><br>
• 三种主要的UNIX Shell：<br>
<strong>Three Major Unix Shells:</strong><br>
◦ <strong>Bourne Shell（标准Shell）：</strong> sh,
bash，命令提示符为<code>$</code>。<br>
<strong>Bourne Shell (or Standard Shell): sh, bash. $ for command
prompt.</strong><br>
◦ <strong>Korn Shell：</strong> ksh，是sh的超集。<br>
<strong>Korn shell: ksh. Superset of sh.</strong><br>
◦ <strong>C Shell：</strong>
语法类似C语言，命令提示符为<code>%</code>。<br>
<strong>C Shell: Shell with C-like syntax. % for command
prompt.</strong></p>
<p>• <strong>输入/输出重定向：</strong><br>
<strong>Input/Output Redirection:</strong><br>
•
用户可以使用<code>&lt;</code>和<code>&gt;</code>重定向标准输入和输出。<br>
<strong>The user can use <code>&lt;</code> and <code>&gt;</code> to
redirect the standard input and output.</strong><br>
• 在命令后添加<code>&amp;</code>可以将其作为后台作业启动。<br>
<strong>The ampersand (<code>&amp;</code>) can be put after a command to
start it as a background job.</strong><br>
• 示例：<br>
<strong>Examples:</strong><br>
◦ <code>date &gt;file</code>：将日期输出到文件。<br>
◦
<code>sort &lt;file1 &gt;file2</code>：对file1排序并输出到file2。<br>
◦
<code>cat file1 file2 file3 | sort &gt;/dev/lp</code>：将多个文件合并、排序并输出到打印机。<br>
◦
<code>cat file1 file2 file3 | sort &gt;/dev/lp &amp;</code>：将上述操作作为后台作业运行。</p>
<hr>
<h3 id="总结-1"><strong>总结</strong></h3>
<p><strong>Summary</strong></p>
<p>操作系统核心概念包括：<br>
<strong>The core concepts of operating systems include:</strong><br>
• <strong>进程：</strong> 程序执行的实例，通过PCB管理。<br>
<strong>Processes: Instances of program execution, managed via
PCBs.</strong><br>
• <strong>地址空间与文件：</strong> 内存管理和文件系统抽象。<br>
<strong>Address Spaces &amp; Files: Memory management and file system
abstraction.</strong><br>
• <strong>输入/输出：</strong> 设备驱动程序和I/O子系统。<br>
<strong>Input/Output: Device drivers and I/O subsystems.</strong><br>
• <strong>保护：</strong> 防止未授权访问和用户干扰。<br>
<strong>Protection: Preventing unauthorized access and user
interference.</strong><br>
• <strong>Shell：</strong>
命令解释器，支持输入/输出重定向和后台作业。<br>
<strong>Shell: Command interpreter, supporting I/O redirection and
background jobs.</strong></p>
<p>这些概念共同构成了操作系统的基础功能。<br>
<strong>These concepts together form the foundational functions of an
operating system.</strong></p>
<h3 id="系统调用"><strong>1.6 系统调用</strong></h3>
<p><strong>1.6 System Calls</strong></p>
<hr>
<h4 id="系统调用的定义与作用"><strong>系统调用的定义与作用</strong></h4>
<p><strong>Definition and Role of System Calls</strong></p>
<p>• <strong>系统调用：</strong><br>
<strong>System Calls:</strong><br>
• 提供了运行程序与操作系统之间的接口。<br>
<strong>Provide the interface between a running program and the
operating system.</strong><br>
• 应用程序通过系统调用向操作系统请求服务。<br>
<strong>The mechanism used by an application program to request service
from the operating system.</strong><br>
•
通常通过高级应用程序编程接口（API）访问，而不是直接使用系统调用。<br>
<strong>Mostly accessed by programs via a high-level Application
Programming Interface (API) rather than direct system call
use.</strong></p>
<p>• <strong>常见的API：</strong><br>
<strong>Common APIs:</strong><br>
• <strong>Win32 API：</strong> 用于Windows。<br>
<strong>Win32 API for Windows.</strong><br>
• <strong>POSIX API：</strong>
用于基于POSIX的系统（包括几乎所有UNIX、Linux和macOS版本）。<br>
<strong>POSIX API for POSIX-based systems (including virtually all
versions of UNIX, Linux, and Mac OS X).</strong><br>
• <strong>Java API：</strong> 用于Java虚拟机（JVM）。<br>
<strong>Java API for the Java virtual machine (JVM).</strong></p>
<hr>
<h4 id="posix标准"><strong>POSIX标准</strong></h4>
<p><strong>POSIX Standard</strong></p>
<p>• <strong>POSIX（可移植操作系统接口）：</strong><br>
<strong>POSIX (Portable Operating System Interface):</strong><br>
• 一组IEEE标准，包括强制和可选部分。<br>
<strong>Set of IEEE standards, including mandatory and optional
parts.</strong><br>
• 目标：实现应用程序在多个操作系统之间的源代码可移植性。<br>
<strong>Objective: Source code portability of applications across
multiple OS.</strong><br>
•
大多数POSIX过程调用系统调用，通常一个过程直接映射到一个系统调用，但并不绝对一一对应。<br>
<strong>Most of the POSIX procedures invoke system calls, usually with
one procedure mapping directly onto one system call. But it is not
absolutely one-to-one.</strong></p>
<hr>
<h4 id="系统调用的执行步骤"><strong>系统调用的执行步骤</strong></h4>
<p><strong>Steps in Making a System Call</strong></p>
<p>•
<strong>系统调用的11个步骤（以<code>read</code>为例）：</strong><br>
<strong>11 Steps in Making the System Call
<code>read(fd, buffer, nbytes)</code>:</strong></p>
<pre><code>1. 用户程序调用库函数`read`。  
   **User program calls the library procedure `read`.**  
2. 将`nbytes`压入栈。  
   **Push `nbytes`.**  
3. 将`&amp;buffer`压入栈。  
   **Push `&amp;buffer`.**  
4. 将`fd`压入栈。  
   **Push `fd`.**  
5. 调用`read`函数。  
   **Call `read`.**  
6. 增加栈指针（SP）。  
   **Increment SP.**  
7. 将`read`的系统调用代码放入寄存器。  
   **Put code for `read` in register.**  
8. 陷入内核（Trap to the kernel）。  
   **Trap to the kernel.**  
9. 内核调用系统调用处理程序。  
   **Kernel calls the system call handler.**  
10. 调度执行系统调用服务例程。  
    **Dispatch to the system call service routine.**  
11. 返回调用者。  
    **Return to the caller.**  </code></pre>
<p>• <strong>用户态与内核态切换：</strong><br>
<strong>User Mode and Kernel Mode Switching:</strong><br>
•
用户程序通过<code>int 0x80</code>指令陷入内核态，执行系统调用例程。<br>
<strong>User program traps to kernel mode via <code>int 0x80</code> to
execute the system call routine.</strong><br>
• 系统调用完成后，通过<code>iret</code>指令返回到用户态。<br>
<strong>After the system call completes, return to user mode via
<code>iret</code>.</strong></p>
<hr>
<h4 id="系统调用代码示例"><strong>系统调用代码示例</strong></h4>
<p><strong>System Call Code Example</strong></p>
<p>• <strong>Linux系统调用代码（部分）：</strong><br>
<strong>Linux System Call Codes (Partial):</strong></p>
<p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> __NR_restart_syscall 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __NR_exit 1</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __NR_fork 2</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __NR_read 3</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __NR_write 4</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __NR_open 5</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __NR_close 6</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __NR_waitpid 7</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="进程管理的系统调用"><strong>进程管理的系统调用</strong></h4>
<p><strong>System Calls for Process Management</strong></p>
<p>• <strong>创建进程：</strong><br>
<strong>Creating a Process:</strong><br>
• <strong><code>fork()</code>：</strong>
创建与父进程完全相同的子进程。<br>
<strong><code>fork()</code>: Create a child process identical to the
parent.</strong><br>
◦
该函数调用一次但返回两次：在子进程中返回0，在父进程中返回子进程的PID，出错时返回-1。<br>
<strong>This function is called once but returns twice: 0 in the child,
process ID of the child in the parent, -1 on error.</strong><br>
◦ 子进程和父进程都从<code>fork</code>调用后的指令继续执行。<br>
<strong>Both the child and parent continue executing with the
instruction that follows the call to <code>fork</code>.</strong></p>
<p>• <strong>替换进程内存空间：</strong><br>
<strong>Replacing Process Memory Space:</strong><br>
• <strong><code>execve()</code>：</strong>
在<code>fork</code>之后使用，用新程序替换进程的内存空间。<br>
<strong><code>execve()</code>: Used after <code>fork</code> to replace
the process’ memory space with a new program.</strong><br>
◦ 允许子进程执行与父进程不同的代码。<br>
<strong>Allows the child process to execute code that is different from
that of the parent.</strong><br>
◦ <code>exec</code>函数族：<code>execl</code>, <code>execle</code>,
<code>execlp</code>, <code>execv</code>, <code>execve</code>,
<code>execvp</code>。<br>
<strong><code>exec</code> family of functions: <code>execl</code>,
<code>execle</code>, <code>execlp</code>, <code>execv</code>,
<code>execve</code>, <code>execvp</code>.</strong></p>
<p>• <strong>等待子进程终止：</strong><br>
<strong>Waiting for Child Process Termination:</strong><br>
• <strong><code>waitpid()</code>：</strong>
将父进程移出就绪队列，直到子进程终止。<br>
<strong><code>waitpid()</code>: Moves the parent process off the ready
queue until the termination of the child.</strong><br>
◦ 返回值：成功时返回子进程的PID，出错时返回0或-1。<br>
<strong>Return: Process ID if OK, 0 or –1 on error.</strong><br>
◦ <code>pid</code>参数的解释：<br>
<strong>Interpretation of the <code>pid</code> argument:</strong><br>
◦
<code>pid == -1</code>：等待任何子进程（等同于<code>wait</code>）。<br>
<strong><code>pid == -1</code>: Waits for any child process (equivalent
to <code>wait</code>).</strong><br>
◦
<code>pid &gt; 0</code>：等待进程ID等于<code>pid</code>的子进程。<br>
<strong><code>pid &gt; 0</code>: Waits for the child whose process ID
equals <code>pid</code>.</strong></p>
<hr>
<h4 id="简单的shell实现"><strong>简单的Shell实现</strong></h4>
<p><strong>A Simple Shell Implementation</strong></p>
<p>• <strong>代码示例：</strong><br>
<strong>Code Example:</strong></p>
<p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> TRUE 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (TRUE) &#123;  </span><br><span class="line">    type_prompt();          <span class="comment">// 显示提示符  </span></span><br><span class="line">    read_command(command, parameters);  <span class="comment">// 从终端读取输入  </span></span><br><span class="line">    <span class="keyword">if</span> (fork() != <span class="number">0</span>) &#123;      <span class="comment">// 创建子进程  </span></span><br><span class="line">        waitpid(<span class="number">-1</span>, &amp;status, <span class="number">0</span>);  <span class="comment">// 父进程等待子进程终止  </span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">        execve(command, parameters, <span class="number">0</span>);  <span class="comment">// 子进程执行命令  </span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="总结-2"><strong>总结</strong></h3>
<p><strong>Summary</strong></p>
<p>系统调用是操作系统与应用程序之间的桥梁，提供了对底层硬件和系统资源的安全访问。<br>
<strong>System calls are the bridge between the operating system and
applications, providing secure access to underlying hardware and system
resources.</strong><br>
• <strong>进程管理：</strong>
通过<code>fork</code>、<code>execve</code>和<code>waitpid</code>等系统调用实现进程的创建、替换和同步。<br>
<strong>Process Management: Processes are created, replaced, and
synchronized via system calls like <code>fork</code>,
<code>execve</code>, and <code>waitpid</code>.</strong><br>
• <strong>系统调用执行：</strong>
涉及用户态与内核态的切换，通常通过高级API（如POSIX）访问。<br>
<strong>System Call Execution: Involves switching between user mode and
kernel mode, usually accessed via high-level APIs like
POSIX.</strong><br>
• <strong>Shell实现：</strong> 通过系统调用实现简单的命令解释器。<br>
<strong>Shell Implementation: A simple command interpreter can be
implemented using system calls.</strong></p>
<h3 id="系统调用续"><strong>1.6 系统调用（续）</strong></h3>
<p><strong>1.6 System Calls (Continued)</strong></p>
<hr>
<h4 id="进程创建示例fork"><strong>进程创建示例：<code>fork</code></strong></h4>
<p><strong>Example of Process Creation: <code>fork</code></strong></p>
<p>• <strong>代码示例：</strong><br>
<strong>Code Example:</strong></p>
<p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> i, pid;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((pid = fork()) == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;In child %d.\n&quot;</span>, i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>• <strong>功能：</strong>
创建3个子进程，每个子进程打印自己的编号。<br>
<strong>Function: Creates 3 child processes, each printing its own
number.</strong><br>
• <strong>说明：</strong>
<code>fork()</code>调用一次返回两次，父进程和子进程分别执行后续代码。<br>
<strong>Note: <code>fork()</code> is called once but returns twice; the
parent and child processes execute the subsequent code
separately.</strong></p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/20250505235142.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<hr>
<h4 id="文件管理的系统调用"><strong>文件管理的系统调用</strong></h4>
<p><strong>System Calls for File Management</strong></p>
<p>• <strong>常见文件管理系统调用：</strong><br>
<strong>Common File Management System Calls:</strong></p>
<table>
<colgroup>
<col style="width: 45%">
<col style="width: 54%">
</colgroup>
<thead>
<tr>
<th><strong>调用</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fd = open(file, how, ...)</code></td>
<td>打开文件用于读取、写入或两者。</td>
</tr>
<tr>
<td></td>
<td><strong>Open a file for reading, writing, or both.</strong></td>
</tr>
<tr>
<td><code>s = close(fd)</code></td>
<td>关闭一个已打开的文件。</td>
</tr>
<tr>
<td></td>
<td><strong>Close an open file.</strong></td>
</tr>
<tr>
<td><code>n = read(fd, buffer, nbytes)</code></td>
<td>从文件中读取数据到缓冲区。</td>
</tr>
<tr>
<td></td>
<td><strong>Read data from a file into a buffer.</strong></td>
</tr>
<tr>
<td><code>n = write(fd, buffer, nbytes)</code></td>
<td>将缓冲区中的数据写入文件。</td>
</tr>
<tr>
<td></td>
<td><strong>Write data from a buffer into a file.</strong></td>
</tr>
<tr>
<td><code>position = lseek(fd, offset, whence)</code></td>
<td>移动文件指针。</td>
</tr>
<tr>
<td></td>
<td><strong>Move the file pointer.</strong></td>
</tr>
<tr>
<td><code>s = stat(name, &amp;buf)</code></td>
<td>获取文件的状态信息。</td>
</tr>
<tr>
<td></td>
<td><strong>Get a file's status information.</strong></td>
</tr>
</tbody>
</table>
<hr>
<h4 id="目录管理的系统调用"><strong>目录管理的系统调用</strong></h4>
<p><strong>System Calls for Directory Management</strong></p>
<p>• <strong>常见目录管理系统调用：</strong><br>
<strong>Common Directory Management System Calls:</strong></p>
<table>
<colgroup>
<col style="width: 37%">
<col style="width: 62%">
</colgroup>
<thead>
<tr>
<th><strong>调用</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>s = mkdir(name, mode)</code></td>
<td>创建一个新目录。</td>
</tr>
<tr>
<td></td>
<td><strong>Create a new directory.</strong></td>
</tr>
<tr>
<td><code>s = rmdir(name)</code></td>
<td>删除一个空目录。</td>
</tr>
<tr>
<td></td>
<td><strong>Remove an empty directory.</strong></td>
</tr>
<tr>
<td><code>s = link(name1, name2)</code></td>
<td>创建一个新条目<code>name2</code>，指向<code>name1</code>。</td>
</tr>
<tr>
<td></td>
<td><strong>Create a new entry, <code>name2</code>, pointing to
<code>name1</code>.</strong></td>
</tr>
<tr>
<td><code>s = unlink(name)</code></td>
<td>删除一个目录条目。</td>
</tr>
<tr>
<td></td>
<td><strong>Remove a directory entry.</strong></td>
</tr>
<tr>
<td><code>s = mount(special, name, flag)</code></td>
<td>挂载一个文件系统。</td>
</tr>
<tr>
<td></td>
<td><strong>Mount a file system.</strong></td>
</tr>
<tr>
<td><code>s = umount(special)</code></td>
<td>卸载一个文件系统。</td>
</tr>
<tr>
<td></td>
<td><strong>Unmount a file system.</strong></td>
</tr>
</tbody>
</table>
<hr>
<h4 id="链接linking"><strong>链接（Linking）</strong></h4>
<p><strong>Linking</strong></p>
<p>• <strong>示例：</strong><br>
<strong>Example:</strong></p>
<p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">link(<span class="string">&quot;/usr/jim/memo&quot;</span>, <span class="string">&quot;/usr/ast/note&quot;</span>);</span><br></pre></td></tr></table></figure></p>
<p>• <strong>功能：</strong>
在<code>/usr/ast</code>目录中创建一个新条目<code>note</code>，指向<code>/usr/jim/memo</code>。<br>
<strong>Function: Creates a new entry <code>note</code> in
<code>/usr/ast</code>, pointing to
<code>/usr/jim/memo</code>.</strong><br>
• <strong>图示：</strong><br>
◦ <strong>(a) 链接前的目录结构。</strong><br>
<strong>(a) Directory structure before linking.</strong><br>
◦ <strong>(b) 链接后的目录结构。</strong><br>
<strong>(b) Directory structure after linking.</strong></p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/20250505235824.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<hr>
<h4 id="挂载mounting"><strong>挂载（Mounting）</strong></h4>
<p><strong>Mounting</strong></p>
<p>• <strong>示例：</strong><br>
<strong>Example:</strong></p>
<p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount(<span class="string">&quot;/dev/fd0&quot;</span>, <span class="string">&quot;/mnt&quot;</span>, <span class="number">0</span>);</span><br></pre></td></tr></table></figure></p>
<p>• <strong>功能：</strong>
将设备<code>/dev/fd0</code>挂载到目录<code>/mnt</code>。<br>
<strong>Function: Mounts the device <code>/dev/fd0</code> to the
directory <code>/mnt</code>.</strong><br>
• <strong>图示：</strong><br>
◦ <strong>(a) 挂载前的文件系统。</strong><br>
<strong>(a) File system before the mount.</strong><br>
◦ <strong>(b) 挂载后的文件系统。</strong><br>
<strong>(b) File system after the mount.</strong></p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/20250505235844.png" alt="img">
<figcaption aria-hidden="true">img</figcaption>
</figure>
<hr>
<h4 id="其他任务的系统调用"><strong>其他任务的系统调用</strong></h4>
<p><strong>System Calls for Miscellaneous Tasks</strong></p>
<p>• <strong>示例：</strong><br>
<strong>Examples:</strong><br>
• <strong>更改当前目录：</strong><br>
<strong>Change current directory:</strong><br>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chdir(<span class="string">&quot;/usr/ast/test&quot;</span>);</span><br></pre></td></tr></table></figure> • <strong>更改文件权限：</strong><br>
<strong>Change file permissions:</strong><br>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod(<span class="string">&quot;file&quot;</span>, <span class="number">0644</span>);  <span class="comment">// 使文件对除所有者外的所有用户只读。  </span></span><br><span class="line"><span class="comment">// Makes the file read-only by everyone except the owner.</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h4 id="win32-api中的系统调用"><strong>Win32
API中的系统调用</strong></h4>
<p><strong>System Calls in Win32 API</strong></p>
<p>• <strong>特点：</strong><br>
<strong>Characteristics:</strong><br>
• 在Windows中，库调用和实际系统调用高度解耦。<br>
<strong>In Windows, the library calls and the actual system calls are
highly decoupled.</strong><br>
• Win32 API为程序员提供了访问操作系统服务的接口。<br>
<strong>Win32 API provides programmers with an interface to access OS
services.</strong><br>
• Win32 API调用的数量非常庞大，多达数千个。<br>
<strong>The number of Win32 API calls is extremely large, numbering in
the thousands.</strong><br>
• 虽然许多Win32
API会调用系统调用，但也有大量调用完全在用户空间执行。<br>
<strong>While many of Win32 APIs do invoke system calls, a substantial
number are carried out entirely in user space.</strong></p>
<hr>
<h3 id="总结-3"><strong>总结</strong></h3>
<p><strong>Summary</strong></p>
<p>系统调用是操作系统功能的核心，涵盖了进程管理、文件管理、目录管理等多个方面。<br>
<strong>System calls are the core of operating system functionality,
covering process management, file management, directory management, and
more.</strong><br>
• <strong>进程管理：</strong>
通过<code>fork</code>、<code>execve</code>和<code>waitpid</code>等调用实现进程的创建和同步。<br>
<strong>Process Management: Processes are created and synchronized via
calls like <code>fork</code>, <code>execve</code>, and
<code>waitpid</code>.</strong><br>
• <strong>文件与目录管理：</strong>
通过<code>open</code>、<code>read</code>、<code>mkdir</code>等调用实现文件和目录的操作。<br>
<strong>File and Directory Management: Files and directories are
manipulated via calls like <code>open</code>, <code>read</code>, and
<code>mkdir</code>.</strong><br>
• <strong>Win32 API：</strong>
提供了丰富的系统调用接口，但部分调用在用户空间执行。<br>
<strong>Win32 API: Provides a rich interface for system calls, but some
calls are executed entirely in user space.</strong></p>
<h3 id="操作系统结构"><strong>1.7 操作系统结构</strong></h3>
<p><strong>1.7 Operating System Structure</strong></p>
<hr>
<h4 id="单体系统monolithic-system"><strong>1. 单体系统（Monolithic
System）</strong></h4>
<p><strong>Monolithic System</strong></p>
<p>• <strong>特点：</strong><br>
<strong>Characteristics:</strong><br>
• 也称为“大杂烩”，所有操作系统功能都放在一个文件中。<br>
<strong>Also known as "the big mess," all operating system operations
are put into a single file.</strong><br>
• 操作系统是一组过程，每个过程可以调用其他过程。<br>
<strong>The operating system is a collection of procedures, each of
which can call any of the others.</strong></p>
<p>• <strong>基本结构：</strong><br>
<strong>Basic Structure:</strong></p>
<pre><code>1. **主程序：** 调用所需的服务过程。  
   **Main program:** Invokes the requested service procedure.  
2. **服务过程：** 执行系统调用。  
   **Service procedures:** Carry out the system calls.  
3. **实用过程：** 帮助服务过程完成任务。  
   **Utility procedures:** Help the service procedures.  </code></pre>
<p>• <strong>优点：</strong><br>
<strong>Advantages:</strong><br>
• 简单直接，性能高。<br>
<strong>Simple and straightforward, high performance.</strong></p>
<p>• <strong>缺点：</strong><br>
<strong>Disadvantages:</strong><br>
• 难以维护和扩展，容易出现错误。<br>
<strong>Difficult to maintain and extend, prone to errors.</strong></p>
<figure>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH-1/Users\86150\AppData\Roaming\Typora\typora-user-images\image-20250506000142418.png" alt="image-20250506000142418">
<figcaption aria-hidden="true">image-20250506000142418</figcaption>
</figure>
<hr>
<h4 id="分层系统layered-system"><strong>2. 分层系统（Layered
System）</strong></h4>
<p><strong>Layered System</strong></p>
<p>• <strong>特点：</strong><br>
<strong>Characteristics:</strong><br>
• 操作系统被组织为层次结构，每一层构建在下一层之上。<br>
<strong>The operating system is organized as a hierarchy of layers, each
one constructed upon the one below it.</strong></p>
<p>• <strong>示例：</strong><br>
<strong>Example:</strong><br>
• <strong>THE操作系统（Dijkstra, 1968）：</strong>
第一个分层系统。<br>
<strong>THE Operating System (Dijkstra, 1968):</strong> The first
layered system.</p>
<p>• <strong>优点：</strong><br>
<strong>Advantages:</strong><br>
• 结构清晰，易于调试和维护。<br>
<strong>Clear structure, easy to debug and maintain.</strong></p>
<p>• <strong>缺点：</strong><br>
<strong>Disadvantages:</strong><br>
• 层与层之间的通信可能影响性能。<br>
<strong>Communication between layers may affect
performance.</strong></p>
<hr>
<h4 id="微内核microkernel"><strong>3.
微内核（Microkernel）</strong></h4>
<p><strong>Microkernel</strong></p>
<p>• <strong>特点：</strong><br>
<strong>Characteristics:</strong><br>
• 将尽可能多的功能从内核移到用户空间。<br>
<strong>Move as much functionality as possible from the kernel into user
space.</strong><br>
• 内核非常小，仅提供最基本的功能：<br>
<strong>OS kernel is very small – minimal functionality:</strong><br>
◦ 原始内存管理（地址空间）。<br>
<strong>Primitive memory management (address space).</strong><br>
◦ I/O和中断管理。<br>
<strong>I/O and interrupt management.</strong><br>
◦ 进程间通信（IPC）。<br>
<strong>Inter-Process Communication (IPC).</strong><br>
◦ 基本调度。<br>
<strong>Basic scheduling.</strong></p>
<p>• <strong>其他功能：</strong><br>
<strong>Other Functions:</strong><br>
• 其他操作系统功能由用户空间的受信任服务器提供。<br>
<strong>Other OS functions provided at user level by trusted
servers.</strong><br>
• 例如：设备驱动程序、文件系统、虚拟内存等。<br>
<strong>E.g., Device drivers, file system, virtual memory,
etc.</strong></p>
<p>• <strong>示例：</strong><br>
<strong>Example:</strong><br>
• <strong>MINIX 3系统：</strong> 典型的微内核结构。<br>
<strong>MINIX 3 system:</strong> A typical microkernel structure.</p>
<p>• <strong>优点：</strong><br>
<strong>Advantages:</strong><br>
• 内核小巧，易于扩展和维护。<br>
<strong>Small kernel, easy to extend and maintain.</strong><br>
• 提高系统的稳定性和安全性。<br>
<strong>Improves system stability and security.</strong></p>
<p>• <strong>缺点：</strong><br>
<strong>Disadvantages:</strong><br>
• 用户空间和内核空间之间的通信开销较大。<br>
<strong>High communication overhead between user space and kernel
space.</strong></p>
<hr>
<h4 id="客户端-服务器模型client-server-model"><strong>4.
客户端-服务器模型（Client-Server Model）</strong></h4>
<p><strong>Client-Server Model</strong></p>
<p>• <strong>特点：</strong><br>
<strong>Characteristics:</strong><br>
• 微内核的变体，区分两类进程：服务器和客户端。<br>
<strong>A slight variation of microkernel, distinguishing two classes of
processes: servers and clients.</strong><br>
•
将大部分代码移到高层，使内核最小化，仅负责客户端和服务器之间的通信。<br>
<strong>Moving most of the code up into the higher layers made the
kernel minimal and only responsible for communication between clients
and servers.</strong></p>
<p>• <strong>网络环境：</strong><br>
<strong>Over a Network:</strong><br>
• 客户端和服务器可以运行在不同的计算机上，通过局域网或广域网连接。<br>
<strong>The clients and servers run on different computers, connected by
a local or wide-area network.</strong></p>
<p>• <strong>优点：</strong><br>
<strong>Advantages:</strong><br>
• 分布式处理，提高系统的可扩展性和灵活性。<br>
<strong>Distributed processing, improves scalability and
flexibility.</strong></p>
<p>• <strong>缺点：</strong><br>
<strong>Disadvantages:</strong><br>
• 网络通信可能引入延迟和复杂性。<br>
<strong>Network communication may introduce latency and
complexity.</strong></p>
<hr>
<h4 id="虚拟机virtual-machines"><strong>5. 虚拟机（Virtual
Machines）</strong></h4>
<p><strong>Virtual Machines</strong></p>
<p>• <strong>特点：</strong><br>
<strong>Characteristics:</strong><br>
• 虚拟机是硬件上的虚拟软件层。<br>
<strong>Virtual software layer over hardware.</strong><br>
• 模拟抽象机器的软件，提供多个硬件实例的幻觉。<br>
<strong>Software emulation of an abstract machine, illusion of multiple
instances of hardware.</strong><br>
• 支持多个操作系统的实例。<br>
<strong>Supports multiple instances of OSs.</strong></p>
<p>• <strong>示例：</strong><br>
<strong>Example:</strong><br>
• <strong>VM/370 with CMS：</strong> 典型的虚拟机结构。<br>
<strong>VM/370 with CMS:</strong> A typical virtual machine
structure.</p>
<p>• <strong>虚拟机监控程序（Hypervisor）：</strong><br>
<strong>Hypervisor:</strong></p>
<pre><code>1. **类型1：** 直接运行在硬件上，像一个操作系统。  
   **Type 1:** Runs on the raw hardware, like an operating system.  
2. **类型2：** 运行在主机操作系统上。  
   **Type 2:** Runs on the host OS.  </code></pre>
<p>• <strong>优点：</strong><br>
<strong>Advantages:</strong><br>
• 提供隔离性，支持多操作系统环境。<br>
<strong>Provides isolation, supports multiple OS
environments.</strong></p>
<p>• <strong>缺点：</strong><br>
<strong>Disadvantages:</strong><br>
• 性能开销较大，管理复杂。<br>
<strong>High performance overhead, complex management.</strong></p>
<hr>
<h4 id="外核exokernel"><strong>6. 外核（Exokernel）</strong></h4>
<p><strong>Exokernel</strong></p>
<p>• <strong>特点：</strong><br>
<strong>Characteristics:</strong><br>
• 外核将硬件资源直接暴露给应用程序，由应用程序管理资源。<br>
<strong>Exokernel exposes hardware resources directly to applications,
which manage the resources themselves.</strong><br>
• 内核仅负责资源分配和保护。<br>
<strong>The kernel is only responsible for resource allocation and
protection.</strong></p>
<p>• <strong>优点：</strong><br>
<strong>Advantages:</strong><br>
• 提供更高的灵活性和性能优化空间。<br>
<strong>Provides higher flexibility and performance optimization
potential.</strong></p>
<p>• <strong>缺点：</strong><br>
<strong>Disadvantages:</strong><br>
• 应用程序需要承担更多管理责任，开发难度较大。<br>
<strong>Applications need to take on more management responsibilities,
increasing development complexity.</strong></p>
<hr>
<h3 id="总结-4"><strong>总结</strong></h3>
<p><strong>Summary</strong></p>
<p>操作系统的结构设计直接影响其性能、可维护性和扩展性。<br>
<strong>The structure of an operating system directly affects its
performance, maintainability, and scalability.</strong><br>
• <strong>单体系统：</strong> 简单高效，但难以维护。<br>
<strong>Monolithic System:</strong> Simple and efficient, but difficult
to maintain.<br>
• <strong>分层系统：</strong> 结构清晰，但性能可能受限。<br>
<strong>Layered System:</strong> Clear structure, but performance may be
limited.<br>
• <strong>微内核：</strong> 内核小巧，易于扩展，但通信开销大。<br>
<strong>Microkernel:</strong> Small kernel, easy to extend, but high
communication overhead.<br>
• <strong>客户端-服务器模型：</strong>
分布式处理，提高灵活性，但网络通信复杂。<br>
<strong>Client-Server Model:</strong> Distributed processing, improves
flexibility, but network communication is complex.<br>
• <strong>虚拟机：</strong>
提供隔离性，支持多操作系统，但性能开销大。<br>
<strong>Virtual Machines:</strong> Provides isolation, supports multiple
OSs, but high performance overhead.<br>
• <strong>外核：</strong> 提供高灵活性，但开发难度大。<br>
<strong>Exokernel:</strong> Provides high flexibility, but development
is challenging.**</p>
<h3 id="总结-5"><strong>总结</strong></h3>
<p><strong>Summary</strong></p>
<hr>
<h4 id="操作系统的两种视角"><strong>1. 操作系统的两种视角</strong></h4>
<p><strong>Two Viewpoints of OS</strong></p>
<ol type="1">
<li><p><strong>资源管理器（Resource Manager）：</strong><br>
• 操作系统负责管理和分配系统资源（如CPU、内存、I/O设备等）。<br>
<strong>OS manages and allocates system resources (e.g., CPU, memory,
I/O devices).</strong></p></li>
<li><p><strong>扩展机器（Extended Machine）：</strong><br>
• 操作系统隐藏硬件的复杂性，为用户提供一个更易使用的抽象接口。<br>
<strong>OS hides the complexity of hardware and provides users with an
easier-to-use abstract interface.</strong></p></li>
</ol>
<hr>
<h4 id="操作系统的发展历史"><strong>2. 操作系统的发展历史</strong></h4>
<p><strong>History of OS</strong></p>
<p>• <strong>手工操作（Handwork）：</strong><br>
• 早期计算机需要人工操作，效率低下。<br>
<strong>Early computers required manual operation, which was
inefficient.</strong></p>
<p>• <strong>批处理系统（Batch Systems）：</strong><br>
• 通过批处理作业提高效率，但缺乏交互性。<br>
<strong>Improved efficiency through batch processing, but lacked
interactivity.</strong></p>
<p>• <strong>多道程序设计系统（Multiprogramming
Systems）：</strong><br>
• 允许多个程序同时运行，提高资源利用率。<br>
<strong>Allowed multiple programs to run simultaneously, improving
resource utilization.</strong></p>
<p>• <strong>个人计算机系统（Personal Computer
Systems）：</strong><br>
• 操作系统为个人用户提供友好的界面和应用程序支持。<br>
<strong>OS provided user-friendly interfaces and application support for
individual users.</strong></p>
<p>• <strong>移动计算机系统（Mobile Computer Systems）：</strong><br>
• 操作系统为智能手机和平板电脑等移动设备优化。<br>
<strong>OS optimized for mobile devices such as smartphones and
tablets.</strong></p>
<hr>
<h4 id="计算机硬件"><strong>3. 计算机硬件</strong></h4>
<p><strong>Computer Hardware</strong></p>
<p>• 操作系统直接管理硬件资源，包括CPU、内存、存储设备和I/O设备。<br>
<strong>OS directly manages hardware resources, including CPU, memory,
storage devices, and I/O devices.</strong></p>
<hr>
<h4 id="操作系统动物园-1"><strong>4. 操作系统动物园</strong></h4>
<p><strong>The Operating System Zoo</strong></p>
<p>• 操作系统的种类繁多，适用于不同的计算环境和设备类型，包括：<br>
<strong>There are many types of operating systems, suitable for
different computing environments and device types,
including:</strong><br>
• 大型机操作系统（Mainframe OS）<br>
• 服务器操作系统（Server OS）<br>
• 个人计算机操作系统（PC OS）<br>
• 手持设备操作系统（Handheld OS）<br>
• 嵌入式操作系统（Embedded OS）<br>
• 实时操作系统（Real-Time OS）<br>
• 智能卡操作系统（Smart Card OS）</p>
<hr>
<h4 id="操作系统核心概念"><strong>5. 操作系统核心概念</strong></h4>
<p><strong>Operating System Concepts</strong></p>
<p>• <strong>进程（Processes）：</strong><br>
• 程序执行的实例，通过进程控制块（PCB）管理。<br>
<strong>Instances of program execution, managed via Process Control
Blocks (PCBs).</strong></p>
<p>• <strong>地址空间（Address Space）：</strong><br>
• 进程可以访问的内存范围，包括虚拟内存管理。<br>
<strong>The range of memory a process can access, including virtual
memory management.</strong></p>
<p>• <strong>文件（Files）：</strong><br>
• 文件系统提供对存储设备上文件的抽象和管理。<br>
<strong>File systems provide abstraction and management of files on
storage devices.</strong></p>
<p>• <strong>保护（Protection）：</strong><br>
• 防止未授权访问和用户之间的干扰。<br>
<strong>Prevents unauthorized access and interference between
users.</strong></p>
<p>• <strong>Shell：</strong><br>
• 命令解释器，提供用户与操作系统之间的交互接口。<br>
<strong>Command interpreter, providing an interface between users and
the OS.</strong></p>
<hr>
<h4 id="系统调用-1"><strong>6. 系统调用</strong></h4>
<p><strong>System Calls</strong></p>
<p>• 系统调用是应用程序与操作系统之间的接口，用于请求服务。<br>
<strong>System calls provide the interface between application programs
and the OS, used to request services.</strong><br>
• 常见的系统调用包括：<br>
<strong>Common system calls include:</strong><br>
• 进程管理（<code>fork</code>, <code>execve</code>,
<code>waitpid</code>）<br>
• 文件管理（<code>open</code>, <code>read</code>, <code>write</code>,
<code>close</code>）<br>
• 目录管理（<code>mkdir</code>, <code>rmdir</code>,
<code>link</code>）<br>
• 其他任务（<code>chdir</code>, <code>chmod</code>）</p>
<hr>
<h4 id="操作系统结构-1"><strong>7. 操作系统结构</strong></h4>
<p><strong>OS Structure</strong></p>
<p>• <strong>单体系统（Monolithic System）：</strong><br>
• 所有功能集中在一个内核中，简单高效但难以维护。<br>
<strong>All functions are centralized in a single kernel, simple and
efficient but difficult to maintain.</strong></p>
<p>• <strong>分层系统（Layered System）：</strong><br>
• 操作系统按层次组织，结构清晰但性能可能受限。<br>
<strong>OS is organized in layers, clear structure but performance may
be limited.</strong></p>
<p>• <strong>微内核（Microkernel）：</strong><br>
• 内核小巧，大部分功能在用户空间运行，易于扩展但通信开销大。<br>
<strong>Small kernel, most functions run in user space, easy to extend
but high communication overhead.</strong></p>
<p>• <strong>客户端-服务器模型（Client-Server Model）：</strong><br>
• 将功能分布到客户端和服务器进程中，提高灵活性但网络通信复杂。<br>
<strong>Distributes functions to client and server processes, improves
flexibility but network communication is complex.</strong></p>
<p>• <strong>虚拟机（Virtual Machines）：</strong><br>
• 提供硬件虚拟化，支持多操作系统实例，但性能开销大。<br>
<strong>Provides hardware virtualization, supports multiple OS
instances, but high performance overhead.</strong></p>
<p>• <strong>外核（Exokernel）：</strong><br>
• 将硬件资源直接暴露给应用程序，提供高灵活性但开发难度大。<br>
<strong>Exposes hardware resources directly to applications, provides
high flexibility but development is challenging.</strong></p>
<hr>
<h3 id="最终总结"><strong>最终总结</strong></h3>
<p><strong>Final Summary</strong></p>
<p>操作系统是计算机系统的核心，负责管理硬件资源、提供用户接口和支持应用程序运行。<br>
<strong>The operating system is the core of a computer system,
responsible for managing hardware resources, providing user interfaces,
and supporting application execution.</strong><br>
通过不同的结构设计和功能实现，操作系统能够适应各种计算环境和需求。<br>
<strong>Through different structural designs and functional
implementations, operating systems can adapt to various computing
environments and needs.</strong></p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.totorocatcat.top/">Totoro</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://totorocatcat.top/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH-1/">http://totorocatcat.top/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH-1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://totorocatcat.top" target="_blank">Totoroの旅</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%8F%90%E9%AB%98/">提高</a></div><div class="post_share"><div class="social-share" data-image="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH2/" title="操作系统CH2（1）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">操作系统CH2（1）</div></div></a></div><div class="next-post pull-right"><a href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%BB%BC%E5%90%88%E9%A2%98/" title="操作系统综合题"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.22/img_220_1200x675_350.011993408203_null_normal.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">操作系统综合题</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/'Lec2%20Logic%20and%20Proof,%20Sets,%20and%20Function'/" title="Lec2 Logic and Proof, Sets, and Function"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/1fe6130ca86bb9e7e6a37c9187a32c8.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-20</div><div class="title">Lec2 Logic and Proof, Sets, and Function</div></div></a></div><div><a href="/02%EF%BC%89/" title="CS61B 课程笔记（Lecture 02）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/v2-2ed7f4c9e1a7a699a3ef300a6f761abe_720w.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-11</div><div class="title">CS61B 课程笔记（Lecture 02）</div></div></a></div><div><a href="/03%EF%BC%89/" title="CS61B 课程笔记（Lecture 03）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/v2-2ed7f4c9e1a7a699a3ef300a6f761abe_720w.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-12</div><div class="title">CS61B 课程笔记（Lecture 03）</div></div></a></div><div><a href="/04%EF%BC%89/" title="CS61B 课程笔记（Lecture 04）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/2749a496aabc7d650b2912e256582e390a0a636b.jpg@1256w_1246h_!web-article-pic.avif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-13</div><div class="title">CS61B 课程笔记（Lecture 04）</div></div></a></div><div><a href="/06%EF%BC%89/" title="CS61B 课程笔记（Lecture 06）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/f00af0d55cc81c18403ccbb4957ae6bc298252208.jpg@1256w_1374h_!web-article-pic.avif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-15</div><div class="title">CS61B 课程笔记（Lecture 06）</div></div></a></div><div><a href="/05%EF%BC%89/" title="CS61B 课程笔记（Lecture 05）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/4ccebbc43a0ca31a719afadee2f86b4902402baf.jpg@1256w_786h_!web-article-pic.avif" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-14</div><div class="title">CS61B 课程笔记（Lecture 05）</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/px3.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Totoro</div><div class="author-info__description">热爱文学的SCUT软件学院学生</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">846</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">7</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">37</div></a></div><a id="card-info-btn" href="https://github.com/4512abc"><i class="fab fa-github"></i><span>🛴前往小窝......</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/4512abc" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:4512abc@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到龙猫の小窝</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ch-1"><span class="toc-text">CH-1</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%B9%A6%E7%B1%8D%E7%AC%94%E8%AE%B0"><span class="toc-text">操作系统书籍笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0%E7%AE%80%E4%BB%8B"><span class="toc-text">第1章：简介</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%86%E5%8F%B2%E4%B8%8E%E5%8F%91%E5%B1%95"><span class="toc-text">操作系统历史与发展</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8E%86%E5%8F%B2"><span class="toc-text">1.2 操作系统历史</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BD%E4%BA%A7%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8F%91%E5%B1%95"><span class="toc-text">国产操作系统的发展</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8A%A8%E7%89%A9%E5%9B%AD"><span class="toc-text">1.4 操作系统动物园</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%A7%E5%9E%8B%E6%9C%BA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-text">1. 大型机操作系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-text">2. 服务器操作系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E5%A4%84%E7%90%86%E5%99%A8%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-text">3. 多处理器操作系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%AA%E4%BA%BA%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-text">4. 个人计算机操作系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%8B%E6%8C%81%E8%AE%BE%E5%A4%87%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-text">5. 手持设备操作系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B5%8C%E5%85%A5%E5%BC%8F%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-text">6. 嵌入式操作系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E6%84%9F%E5%99%A8%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-text">7. 传感器节点操作系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-text">8. 实时操作系统</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E5%8D%A1%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-text">9. 智能卡操作系统</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A6%82%E5%BF%B5"><span class="toc-text">1.5 操作系统概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8Bprocesses"><span class="toc-text">进程（Processes）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E7%A9%BA%E9%97%B4%E4%B8%8E%E6%96%87%E4%BB%B6address-spaces-files"><span class="toc-text">地址空间与文件（Address
Spaces &amp; Files）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BAinputoutput"><span class="toc-text">输入&#x2F;输出（Input&#x2F;Output）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%9D%E6%8A%A4protection"><span class="toc-text">保护（Protection）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shell"><span class="toc-text">Shell</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-1"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-text">1.6 系统调用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E7%9A%84%E5%AE%9A%E4%B9%89%E4%B8%8E%E4%BD%9C%E7%94%A8"><span class="toc-text">系统调用的定义与作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#posix%E6%A0%87%E5%87%86"><span class="toc-text">POSIX标准</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E7%9A%84%E6%89%A7%E8%A1%8C%E6%AD%A5%E9%AA%A4"><span class="toc-text">系统调用的执行步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-text">系统调用代码示例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86%E7%9A%84%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-text">进程管理的系统调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84shell%E5%AE%9E%E7%8E%B0"><span class="toc-text">简单的Shell实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8%E7%BB%AD"><span class="toc-text">1.6 系统调用（续）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%88%9B%E5%BB%BA%E7%A4%BA%E4%BE%8Bfork"><span class="toc-text">进程创建示例：fork</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E7%9A%84%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-text">文件管理的系统调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%AE%A1%E7%90%86%E7%9A%84%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-text">目录管理的系统调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E6%8E%A5linking"><span class="toc-text">链接（Linking）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%82%E8%BD%BDmounting"><span class="toc-text">挂载（Mounting）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%BB%BB%E5%8A%A1%E7%9A%84%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-text">其他任务的系统调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#win32-api%E4%B8%AD%E7%9A%84%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8"><span class="toc-text">Win32
API中的系统调用</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84"><span class="toc-text">1.7 操作系统结构</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E4%BD%93%E7%B3%BB%E7%BB%9Fmonolithic-system"><span class="toc-text">1. 单体系统（Monolithic
System）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B1%82%E7%B3%BB%E7%BB%9Flayered-system"><span class="toc-text">2. 分层系统（Layered
System）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AE%E5%86%85%E6%A0%B8microkernel"><span class="toc-text">3.
微内核（Microkernel）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF-%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%A8%A1%E5%9E%8Bclient-server-model"><span class="toc-text">4.
客户端-服务器模型（Client-Server Model）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BAvirtual-machines"><span class="toc-text">5. 虚拟机（Virtual
Machines）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E6%A0%B8exokernel"><span class="toc-text">6. 外核（Exokernel）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-4"><span class="toc-text">总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-5"><span class="toc-text">总结</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%B8%A4%E7%A7%8D%E8%A7%86%E8%A7%92"><span class="toc-text">1. 操作系统的两种视角</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8F%91%E5%B1%95%E5%8E%86%E5%8F%B2"><span class="toc-text">2. 操作系统的发展历史</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A1%AC%E4%BB%B6"><span class="toc-text">3. 计算机硬件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8A%A8%E7%89%A9%E5%9B%AD-1"><span class="toc-text">4. 操作系统动物园</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="toc-text">5. 操作系统核心概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%B0%83%E7%94%A8-1"><span class="toc-text">6. 系统调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%BB%93%E6%9E%84-1"><span class="toc-text">7. 操作系统结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E7%BB%88%E6%80%BB%E7%BB%93"><span class="toc-text">最终总结</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH6/" title="操作系统CH6"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E4%BE%A0%E5%AE%A2-%E5%89%91%E6%9D%A5-%E5%8F%A4%E9%A3%8E.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统CH6"/></a><div class="content"><a class="title" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH6/" title="操作系统CH6">操作系统CH6</a><time datetime="2025-05-07T13:07:41.000Z" title="发表于 2025-05-07 21:07:41">2025-05-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH5/" title="操作系统CH5"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E4%BE%A0%E5%AE%A2-%E5%89%91%E6%9D%A5-%E5%8F%A4%E9%A3%8E.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统CH5"/></a><div class="content"><a class="title" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH5/" title="操作系统CH5">操作系统CH5</a><time datetime="2025-05-07T12:07:07.000Z" title="发表于 2025-05-07 20:07:07">2025-05-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH4/" title="操作系统CH4"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E4%BE%A0%E5%AE%A2-%E5%89%91%E6%9D%A5-%E5%8F%A4%E9%A3%8E.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统CH4"/></a><div class="content"><a class="title" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH4/" title="操作系统CH4">操作系统CH4</a><time datetime="2025-05-07T11:18:34.000Z" title="发表于 2025-05-07 19:18:34">2025-05-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH3%EF%BC%88B%EF%BC%89/" title="操作系统CH3（B）"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E4%BE%A0%E5%AE%A2-%E5%89%91%E6%9D%A5-%E5%8F%A4%E9%A3%8E.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="操作系统CH3（B）"/></a><div class="content"><a class="title" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FCH3%EF%BC%88B%EF%BC%89/" title="操作系统CH3（B）">操作系统CH3（B）</a><time datetime="2025-05-07T08:30:57.000Z" title="发表于 2025-05-07 16:30:57">2025-05-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%97%B6%E9%97%B4%E7%BA%BF%E8%A1%A8/" title="时间线表"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E4%BE%A0%E5%AE%A2-%E5%89%91%E6%9D%A5-%E5%8F%A4%E9%A3%8E.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="时间线表"/></a><div class="content"><a class="title" href="/%E6%97%B6%E9%97%B4%E7%BA%BF%E8%A1%A8/" title="时间线表">时间线表</a><time datetime="2025-05-06T16:24:18.000Z" title="发表于 2025-05-07 00:24:18">2025-05-07</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By Totoro</div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.<p><a target="_blank" href="https://hexo.io/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a>&nbsp;<a target="_blank" href="https://butterfly.js.org/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a>&nbsp;<a target="_blank" href="https://www.jsdelivr.com/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速"></a> &nbsp;<a target="_blank" href="https://vercel.com/ "><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&logo=Vercel" title="本站采用双线部署，默认线路托管于Vercel"></a>&nbsp;<a target="_blank" href="https://vercel.com/ "><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&logo=Codio" title="本站采用双线部署，联通线路托管于Coding"></a>&nbsp;<a target="_blank" href="https://github.com/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a>&nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="/js/tw_cn.js?v=4.12.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'HT1PalaKkPaG1UqAXBhJXIu8-gzGzoHsz',
      appKey: 'iT0TnVVAwf9zuZ7NqwclQItY',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.jsdelivr.net/npm/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !false) {
    if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script></div><script defer src="/js/light.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script async src="/js/title.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="1" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 380px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 320px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_12.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/离散数学/&quot;);" href="javascript:void(0);">离散数学</a><span class="categoryBar-list-count">33</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_13.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/CS61B/&quot;);" href="javascript:void(0);">CS61B</a><span class="categoryBar-list-count">76</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_14.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/期末の旅/&quot;);" href="javascript:void(0);">期末の旅</a><span class="categoryBar-list-count">99</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_17.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/刷题计划/&quot;);" href="javascript:void(0);">刷题计划</a><span class="categoryBar-list-count">60</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_18.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/区域赛の旅/&quot;);" href="javascript:void(0);">区域赛の旅</a><span class="categoryBar-list-count">7</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_19.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Codeforcesの旅/&quot;);" href="javascript:void(0);">Codeforcesの旅</a><span class="categoryBar-list-count">24</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_20.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/牛客の旅/&quot;);" href="javascript:void(0);">牛客の旅</a><span class="categoryBar-list-count">65</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_21.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/ACMの旅/&quot;);" href="javascript:void(0);">ACMの旅</a><span class="categoryBar-list-count">42</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_22.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/数学建模/&quot;);" href="javascript:void(0);">数学建模</a><span class="categoryBar-list-count">26</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_22.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/前端の旅/&quot;);" href="javascript:void(0);">前端の旅</a><span class="categoryBar-list-count">17</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_23.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/数据结构/&quot;);" href="javascript:void(0);">数据结构</a><span class="categoryBar-list-count">47</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_24.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Atcoderの旅/&quot;);" href="javascript:void(0);">Atcoderの旅</a><span class="categoryBar-list-count">53</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_25.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/C-の旅/&quot;);" href="javascript:void(0);">C++の旅</a><span class="categoryBar-list-count">17</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_26.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/CS70の旅/&quot;);" href="javascript:void(0);">CS70の旅</a><span class="categoryBar-list-count">24</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_27.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/CSAPPの旅/&quot;);" href="javascript:void(0);">CSAPPの旅</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_28.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/计算机组成原理/&quot;);" href="javascript:void(0);">计算机组成原理</a><span class="categoryBar-list-count">47</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_29.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/编程基础/&quot;);" href="javascript:void(0);">编程基础</a><span class="categoryBar-list-count">14</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_30.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/JAVAの旅/&quot;);" href="javascript:void(0);">JAVAの旅</a><span class="categoryBar-list-count">10</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_31.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/MIT-6-031-Software-Construction/&quot;);" href="javascript:void(0);">MIT 6.031:Software Construction</a><span class="categoryBar-list-count">16</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_32.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/CS-110L/&quot;);" href="javascript:void(0);">CS 110L</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_33.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/数据库の旅/&quot;);" href="javascript:void(0);">数据库の旅</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_34.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/灵魂の旅/&quot;);" href="javascript:void(0);">灵魂の旅</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_35.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/个人安排/&quot;);" href="javascript:void(0);">个人安排</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_36.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/杂项/&quot;);" href="javascript:void(0);">杂项</a><span class="categoryBar-list-count">13</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_37.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/文学/&quot;);" href="javascript:void(0);">文学</a><span class="categoryBar-list-count">49</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_38.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/力扣の旅/&quot;);" href="javascript:void(0);">力扣の旅</a><span class="categoryBar-list-count">20</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_39.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/计算机网络/&quot;);" href="javascript:void(0);">计算机网络</a><span class="categoryBar-list-count">18</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_40.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/千里十二行/&quot;);" href="javascript:void(0);">千里十二行</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_41.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/🗡指offer/&quot;);" href="javascript:void(0);">🗡指offer</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_42.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/少年游/&quot;);" href="javascript:void(0);">少年游</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_43.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/算法提高课/&quot;);" href="javascript:void(0);">算法提高课</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_44.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/汇编の旅/&quot;);" href="javascript:void(0);">汇编の旅</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_44.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/C-实训/&quot;);" href="javascript:void(0);">C++实训</a><span class="categoryBar-list-count">8</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_45.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/CS知识/&quot;);" href="javascript:void(0);">CS知识</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_46.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/编译原理/&quot;);" href="javascript:void(0);">编译原理</a><span class="categoryBar-list-count">22</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_48.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/操作系统/&quot;);" href="javascript:void(0);">操作系统</a><span class="categoryBar-list-count">18</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(undefined);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/个人计划/&quot;);" href="javascript:void(0);">个人计划</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;诗录/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/4b31456c6f0f4489f99177f89e936de7286431045.png@1256w_708h_!web-article-pic.avif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-10-01</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;诗录/&quot;);" href="javascript:void(0);" alt="">诗录</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;诗录/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;诗兴大发/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_69.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-01-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;诗兴大发/&quot;);" href="javascript:void(0);" alt="">诗兴大发</a><div class="blog-slider__text">未觉，却是中二少年的诗仙梦</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;诗兴大发/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;TotoroのPlan/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/51d37eba99d243607ddedfff6e91568f617436609.jpg@1256w_1884h_!web-article-pic.avif" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-10-05</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;TotoroのPlan/&quot;);" href="javascript:void(0);" alt="">TotoroのPlan</a><div class="blog-slider__text">方便大二看（）</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;TotoroのPlan/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;Markdown格式/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.48/img_482_1920x1080_96_null_normal.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-03-03</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;Markdown格式/&quot;);" href="javascript:void(0);" alt="">Markdown格式</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;Markdown格式/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>