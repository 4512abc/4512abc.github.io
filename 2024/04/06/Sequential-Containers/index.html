<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Sequential_Containers | Totoroの旅</title><meta name="author" content="Totoro"><meta name="copyright" content="Totoro"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Chapter 9. Sequential ContainersExercise 9.1 Which is the most appropriate—a vector, a deque, or a list—for the following program tasks?Explain the rationale for your choice.If there is no reason t">
<meta property="og:type" content="article">
<meta property="og:title" content="Sequential_Containers">
<meta property="og:url" content="http://totorocatcat.top/2024/04/06/Sequential-Containers/index.html">
<meta property="og:site_name" content="Totoroの旅">
<meta property="og:description" content="Chapter 9. Sequential ContainersExercise 9.1 Which is the most appropriate—a vector, a deque, or a list—for the following program tasks?Explain the rationale for your choice.If there is no reason t">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://npm.elemecdn.com/ushio-api-img-moe@5.0.30/img_306_1920x1080_72_null_normal.jpg">
<meta property="article:published_time" content="2024-04-06T15:56:12.000Z">
<meta property="article:modified_time" content="2024-06-07T12:02:21.543Z">
<meta property="article:author" content="Totoro">
<meta property="article:tag" content="基础">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://npm.elemecdn.com/ushio-api-img-moe@5.0.30/img_306_1920x1080_72_null_normal.jpg"><link rel="shortcut icon" href="https://source.fomal.cc/img/default_cover_227.webp"><link rel="canonical" href="http://totorocatcat.top/2024/04/06/Sequential-Containers/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":765,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体中文","cht_to_chs":"你已切换为简体中文","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Sequential_Containers',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2024-06-07 20:02:21'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/scrollbar.css"><link rel="stylesheet" href="/css/cat.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-categories-card@1.0.0/lib/categorybar.css"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (true) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/px3.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">473</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">26</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home-alt"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 趣味</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/project/"><i class="fa-fw fas fas fa-folder"></i><span> 项目</span></a></div><div class="menus_item"><a class="site-page" href="/stars/"><i class="fa-fw fas fa-bookmark"></i><span> 收藏</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('https://npm.elemecdn.com/ushio-api-img-moe@5.0.30/img_306_1920x1080_72_null_normal.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Totoroの旅"><span class="site-name">Totoroの旅</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home-alt"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group hide" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fas fa-envelope-open"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 趣味</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page" href="/project/"><i class="fa-fw fas fas fa-folder"></i><span> 项目</span></a></div><div class="menus_item"><a class="site-page" href="/stars/"><i class="fa-fw fas fa-bookmark"></i><span> 收藏</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Sequential_Containers</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-04-06T15:56:12.000Z" title="发表于 2024-04-06 23:56:12">2024-04-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-06-07T12:02:21.543Z" title="更新于 2024-06-07 20:02:21">2024-06-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C-%E3%81%AE%E6%97%85/">C++の旅</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">12.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>60分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Sequential_Containers"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=2024541857&auto=1&height=66"></iframe>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/20221126191650_de6b5.thumb.400_0.jpg" alt="凉"></p>
<h1 id="Chapter-9-Sequential-Containers"><a href="#Chapter-9-Sequential-Containers" class="headerlink" title="Chapter 9. Sequential Containers"></a>Chapter 9. Sequential Containers</h1><h2 id="Exercise-9-1"><a href="#Exercise-9-1" class="headerlink" title="Exercise 9.1"></a>Exercise 9.1</h2><blockquote>
<p>Which is the most appropriate—a vector, a deque, or a list—for the following program tasks?Explain the rationale for your choice.If there is no reason to prefer one or another container, explain why not.</p>
<ul>
<li>(a) Read a fixed number of words, inserting them in the container alphabetically as they are entered. We’ll see in the next chapter that associative containers are better suited to this problem.</li>
<li>(b) Read an unknown number of words. Always insert new words at the back. Remove the next value from the front.</li>
<li>(c) Read an unknown number of integers from a file. Sort the numbers and then print them to standard output.</li>
</ul>
</blockquote>
<ul>
<li>(a) <code>std::set</code> is the best. now, we can select <code>list</code>, better than <code>vector</code> or <code>deque</code>, cause we may need to insert elements in the middle frequently to keep sorted alphabetical.</li>
<li>(b) <code>deque</code>. If the program needs to insert or delete elements at the front and the back, but not in the middle, use a deque</li>
<li>(c) <code>vector</code>, no need that insert or delete at the front or back. and If your program has lots of small elements and space overhead matters, don’t use list or forward_list.</li>
</ul>
<blockquote>
<p>以下是对于每个任务最合适的容器的选择：</p>
<ul>
<li><p>(a) 读取固定数量的单词，将它们按照字母顺序插入容器中。在输入时，按照字母顺序插入新的单词。在这种情况下，最合适的容器是 <code>std::set</code>，因为 <code>std::set</code> 是一个有序容器，它可以确保插入的元素按照字母顺序排列，并且不允许重复元素。通过使用 <code>std::set</code>，可以简单地将单词插入容器中，而无需担心排序或重复的问题。</p>
</li>
<li><p>(b) 读取未知数量的单词。始终将新单词插入到容器的末尾，并从容器的开头移除下一个值。在这种情况下，最合适的容器是 <code>std::deque</code>（双端队列）。<code>std::deque</code> 支持在容器的前端和后端高效地插入和删除元素，并且在不需要整个容器进行重新分配的情况下能够提供高效的内存管理。因此，通过使用 <code>std::deque</code>，可以实现在容器的末尾添加新值和从容器的开头移除值的操作。</p>
</li>
<li><p>(c) 从文件中读取未知数量的整数。对这些数字进行排序，然后将它们打印到标准输出。在这种情况下，最合适的容器是 <code>std::vector</code>。<code>std::vector</code> 是一个动态数组，它可以有效地存储大量的元素，并且可以通过使用标准库中的算法对元素进行排序。通过使用 <code>std::vector</code>，可以从文件中读取整数并将它们存储在容器中，然后使用 <code>std::sort</code> 算法对容器中的元素进行排序，最后将排序后的元素打印到标准输出。</p>
</li>
</ul>
</blockquote>
<h2 id="Exercise-9-2"><a href="#Exercise-9-2" class="headerlink" title="Exercise 9.2"></a>Exercise 9.2</h2><blockquote>
<p>Define a list that holds elements that are deques that hold ints.</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">std::list&lt;std::deque&lt;<span class="type">int</span>&gt;&gt; ldi;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-3"><a href="#Exercise-9-3" class="headerlink" title="Exercise 9.3"></a>Exercise 9.3</h2><blockquote>
<p>What are the constraints on the iterators that form iterator ranges?</p>
</blockquote>
<p>two iterators, <code>begin</code> and <code>end</code>:</p>
<ul>
<li>they refer to elements of the same container.</li>
<li>It is possible to reach <code>end</code> by repeatedly incrementing <code>begin</code>.</li>
</ul>
<blockquote>
<p>迭代器范围的迭代器有哪些约束？</p>
<p>形成迭代器范围的两个迭代器，即 begin 和 end：</p>
<p>它们引用同一容器中的元素。<br>可以通过反复递增 begin 达到 end。</p>
</blockquote>
<h2 id="Exercise-9-4"><a href="#Exercise-9-4" class="headerlink" title="Exercise 9.4"></a>Exercise 9.4</h2><blockquote>
<p>Write a function that takes a pair of iterators to a <code>vector&lt;int&gt;</code> and an int value. Look for that value in the range and return a bool indicating whether it was found.</p>
<p>编写一个函数，它接受一个指向 vector<int> 的迭代器对以及一个 int 值作为参数。在指定的范围内查找该值，并返回一个 bool 值，指示是否找到了该值。</int></p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">find</span><span class="params">(vector&lt;<span class="type">int</span>&gt;::iterator beg, vector&lt;<span class="type">int</span>&gt;::iterator end, <span class="type">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iter = beg; iter != end; ++iter)</span><br><span class="line">        <span class="keyword">if</span> (*iter == value) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-5"><a href="#Exercise-9-5" class="headerlink" title="Exercise 9.5"></a>Exercise 9.5</h2><blockquote>
<p>Rewrite the previous program to return an iterator to the requested element. Note that the program must handle the case where the element is not found.</p>
<p>重写上一个程序，以返回指向请求的元素的迭代器。注意，程序必须处理未找到元素的情况。</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt;::<span class="function">iterator <span class="title">find</span><span class="params">(vector&lt;<span class="type">int</span>&gt;::iterator beg, vector&lt;<span class="type">int</span>&gt;::iterator end, <span class="type">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iter = beg; iter != end; ++iter)</span><br><span class="line">        <span class="keyword">if</span> (*iter == value) <span class="keyword">return</span> iter;</span><br><span class="line">    <span class="keyword">return</span> end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-6"><a href="#Exercise-9-6" class="headerlink" title="Exercise 9.6"></a>Exercise 9.6</h2><blockquote>
<p>What is wrong with the following program? How might you correct it?</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list&lt;<span class="type">int</span>&gt; lst1;</span><br><span class="line">list&lt;<span class="type">int</span>&gt;::iterator iter1 = lst1.<span class="built_in">begin</span>(), iter2 = lst1.<span class="built_in">end</span>();</span><br><span class="line"><span class="keyword">while</span> (iter1 &lt; iter2) <span class="comment">/*ERROR: operator&lt; can&#x27;t be applied to iterator for list*/</span></span><br></pre></td></tr></table></figure>
<p>Fixed:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(iter1 != iter2)</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-7"><a href="#Exercise-9-7" class="headerlink" title="Exercise 9.7"></a>Exercise 9.7</h2><blockquote>
<p>What type should be used as the index into a vector of ints?</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt;::size_type</span><br></pre></td></tr></table></figure>
<blockquote>
<p>在C++中，当我们使用<code>vector&lt;int&gt;</code>这样的容器时，通常使用<code>vector&lt;int&gt;::size_type</code>作为索引的类型。<code>vector&lt;int&gt;::size_type</code>是<code>vector</code>容器的成员类型，表示容器中元素的数量的数据类型。它是一个无符号整数类型，通常是<code>unsigned int</code>或<code>unsigned long</code>的别名，用于确保能够存储容器可能达到的最大大小。</p>
<p>使用<code>vector&lt;int&gt;::size_type</code>作为索引类型有几个好处：</p>
<ol>
<li><p><strong>跨平台兼容性：</strong> <code>size_type</code>是<code>vector</code>容器的成员类型，因此它能够保证在不同平台和不同编译器下的一致性。</p>
</li>
<li><p><strong>避免符号问题：</strong> <code>size_type</code>是无符号整数类型，避免了使用有符号整数类型可能导致的符号问题，比如溢出或者负索引。</p>
</li>
<li><p><strong>容量匹配：</strong> 使用容器的成员类型作为索引类型可以确保容器能够存储的最大元素数量，因为<code>size_type</code>是与容器类型相关联的。</p>
</li>
</ol>
<p>使用<code>vector&lt;int&gt;::size_type</code>的一个示例是迭代访问<code>vector&lt;int&gt;</code>的元素：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; vec = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (std::vector&lt;<span class="type">int</span>&gt;::size_type i = <span class="number">0</span>; i &lt; vec.<span class="built_in">size</span>(); ++i) &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Element at index &quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot; is &quot;</span> &lt;&lt; vec[i] &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在上面的示例中，<code>i</code>的类型被声明为<code>vector&lt;int&gt;::size_type</code>，这样可以确保对<code>vec</code>中所有可能的索引值进行正确的访问。</p>
</blockquote>
<h2 id="Exercise-9-8"><a href="#Exercise-9-8" class="headerlink" title="Exercise 9.8"></a>Exercise 9.8</h2><blockquote>
<p>What type should be used to read elements in a list of strings? To write them?</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list&lt;string&gt;::iterator || list&lt;string&gt;::const_iterator <span class="comment">// read</span></span><br><span class="line">list&lt;string&gt;::iterator <span class="comment">// write</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>在C++的STL（标准模板库）中，<code>list</code>是一个双向链表容器，用于存储元素。它提供了两种迭代器类型：<code>list&lt;string&gt;::iterator</code>和<code>list&lt;string&gt;::const_iterator</code>。</p>
<ol>
<li><strong><code>list&lt;string&gt;::iterator</code>:</strong> 这是<code>list</code>容器的迭代器类型，用于读取和修改容器中的元素。它允许对容器中的元素进行读写操作。通过<code>iterator</code>，可以遍历整个容器，并且可以通过解引用操作符(<code>*</code>)来访问元素，并且还可以使用成员访问操作符(<code>-&gt;</code>)访问元素的成员函数（如果元素类型有的话）。此外，<code>iterator</code>还可以用于修改元素的值。</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::list&lt;std::string&gt; mylist = &#123;<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;orange&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Using iterator to modify elements</span></span><br><span class="line">    <span class="keyword">for</span> (std::list&lt;std::string&gt;::iterator it = mylist.<span class="built_in">begin</span>(); it != mylist.<span class="built_in">end</span>(); ++it) &#123;</span><br><span class="line">        *it = <span class="string">&quot;fruit&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Display modified list</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> std::string&amp; fruit : mylist) &#123;</span><br><span class="line">        std::cout &lt;&lt; fruit &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><strong><code>list&lt;string&gt;::const_iterator</code>:</strong> 这是<code>list</code>容器的常量迭代器类型，用于只读访问容器中的元素。<code>const_iterator</code>不允许修改容器中的元素值。它可以用于遍历容器并读取元素的值，但不能用于修改元素。</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::list&lt;std::string&gt; mylist = &#123;<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;banana&quot;</span>, <span class="string">&quot;orange&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Using const_iterator for read-only access</span></span><br><span class="line">    <span class="keyword">for</span> (std::list&lt;std::string&gt;::const_iterator it = mylist.<span class="built_in">begin</span>(); it != mylist.<span class="built_in">end</span>(); ++it) &#123;</span><br><span class="line">        std::cout &lt;&lt; *it &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这两种迭代器都提供了一种遍历<code>list</code>容器中元素的方法，但是<code>iterator</code>允许修改元素值，而<code>const_iterator</code>只允许读取元素值。</p>
</blockquote>
<h2 id="Exercise-9-9"><a href="#Exercise-9-9" class="headerlink" title="Exercise 9.9"></a>Exercise 9.9</h2><blockquote>
<p>What is the difference between the <code>begin</code> and <code>cbegin</code> functions?</p>
</blockquote>
<p><code>cbegin</code> is a const member that returns the container’s <strong>const_iterator</strong> type.</p>
<p><code>begin</code> is nonconst and returns the container’s <strong>iterator</strong> type.</p>
<blockquote>
<p>在C++的STL（标准模板库）中，<code>begin</code>和<code>cbegin</code>是用于获取容器中元素的起始位置的成员函数。它们之间的主要区别在于返回的迭代器类型和对待容器的<code>const</code>性。</p>
<ol>
<li><p><strong><code>begin</code>：</strong></p>
<ul>
<li><code>begin</code>是一个成员函数，用于获取容器中元素的起始位置的迭代器。</li>
<li>返回的迭代器类型是容器的非<code>const</code>版本，即返回的是容器的<code>iterator</code>类型。</li>
<li>如果调用<code>begin</code>的容器是<code>const</code>类型，返回的迭代器也可以用于修改容器中的元素。</li>
<li>例如，在<code>vector</code>或<code>list</code>等容器中，如果调用<code>begin</code>，将得到一个可用于修改容器中元素的<code>iterator</code>。</li>
</ul>
</li>
<li><p><strong><code>cbegin</code>：</strong></p>
<ul>
<li><code>cbegin</code>也是一个成员函数，用于获取容器中元素的起始位置的迭代器。</li>
<li>返回的迭代器类型是容器的<code>const</code>版本，即返回的是容器的<code>const_iterator</code>类型。</li>
<li>即使调用<code>cbegin</code>的容器是非<code>const</code>类型，返回的迭代器也只能用于读取容器中的元素，不能修改容器中的元素。</li>
<li>这意味着即使容器是<code>const</code>类型，也可以使用<code>cbegin</code>来获取一个只读的迭代器，以确保不会对容器的内容进行修改。</li>
</ul>
</li>
</ol>
<p>以下是一个示例说明两者之间的区别：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; vec = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Using begin to get an iterator</span></span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt;::iterator it = vec.<span class="built_in">begin</span>();</span><br><span class="line">    *it = <span class="number">10</span>; <span class="comment">// Valid, modifies the value in the vector</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Using cbegin to get a const_iterator</span></span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt;::const_iterator cit = vec.<span class="built_in">cbegin</span>();</span><br><span class="line">    <span class="comment">// *cit = 10; // Error! Attempting to modify a const object</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Display modified vector</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> num : vec) &#123;</span><br><span class="line">        std::cout &lt;&lt; num &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在上面的示例中，<code>begin</code>返回的迭代器可以修改<code>vector</code>中的元素值，而<code>cbegin</code>返回的迭代器只能用于读取<code>vector</code>中的元素值，任何尝试修改元素值的操作都会导致编译错误。</p>
</blockquote>
<h2 id="Exercise-9-10"><a href="#Exercise-9-10" class="headerlink" title="Exercise 9.10"></a>Exercise 9.10</h2><blockquote>
<p>What are the types of the following four objects?</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; v1;</span><br><span class="line"><span class="type">const</span> vector&lt;<span class="type">int</span>&gt; v2;</span><br><span class="line"><span class="keyword">auto</span> it1 = v1.<span class="built_in">begin</span>(), it2 = v2.<span class="built_in">begin</span>();</span><br><span class="line"><span class="keyword">auto</span> it3 = v1.<span class="built_in">cbegin</span>(), it4 = v2.<span class="built_in">cbegin</span>();</span><br></pre></td></tr></table></figure>
<p><code>it1</code> is <code>vector&lt;int&gt;::iterator</code>it2<code>,</code>it3<code>and</code>it4<code>are</code>vector<int>::const_iterator</int></p>
<h2 id="Exercise-9-11"><a href="#Exercise-9-11" class="headerlink" title="Exercise 9.11"></a>Exercise 9.11</h2><blockquote>
<p>Show an example of each of the six ways to create and initialize a vector. Explain what values each vector contains.</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt; vec;    <span class="comment">// 0</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vec</span><span class="params">(<span class="number">10</span>)</span></span>;    <span class="comment">// 0</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vec</span><span class="params">(<span class="number">10</span>,<span class="number">1</span>)</span></span>;  <span class="comment">// 1</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; vec&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;; <span class="comment">// 1,2,3,4,5</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vec</span><span class="params">(other_vec)</span></span>; <span class="comment">// same as other_vec</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vec</span><span class="params">(other_vec.begin(), other_vec.end())</span></span>; <span class="comment">// same as other_vec</span></span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-12"><a href="#Exercise-9-12" class="headerlink" title="Exercise 9.12"></a>Exercise 9.12</h2><blockquote>
<p>Explain the differences between the constructor that takes a container to copy and the constructor that takes two iterators.</p>
</blockquote>
<ul>
<li>The constructor that takes another container as an argument (excepting array) assumes the container type and element type of both containers are identical. It will also copy all the elements of the received container into the new one:</li>
<li>构造函数接受另一个容器作为参数（除数组外），假设两个容器的容器类型和元素类型相同。它还会将接收到的容器的所有元素复制到新容器中。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list&lt;<span class="type">int</span>&gt; numbers = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"><span class="function">list&lt;<span class="type">int</span>&gt; <span class="title">numbers2</span><span class="params">(numbers)</span></span>;        <span class="comment">// ok, numbers2 has the same elements as numbers</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">numbers3</span><span class="params">(numbers)</span></span>;      <span class="comment">// error: no matching function for call...</span></span><br><span class="line"><span class="function">list&lt;<span class="type">double</span>&gt; <span class="title">numbers4</span><span class="params">(numbers)</span></span>;     <span class="comment">// error: no matching function for call...</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>The constructor that takes two iterators as arguments does not require the container types to be identical. Moreover, the element types in the new and original containers can differ as long as it is possible to convert the elements we’re copying to the element type of the container we are initializing. It will also copy only the object delimited by the received iterators.</p>
</li>
<li><p>接受两个迭代器作为参数的构造函数不要求容器类型相同。此外，新容器和原始容器中的元素类型可以不同，只要我们正在复制的元素可以转换为我们正在初始化的容器的元素类型即可。它还仅复制由接收到的迭代器限定的对象。 </p>
<p>这意味着，当我们使用这种构造函数时，我们可以从一个类型不同的容器中复制元素到另一个容器中，只要能够进行元素类型的转换。它提供了更大的灵活性，因为我们只需复制迭代器指定的范围内的元素，而不必复制整个容器。</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">list&lt;<span class="type">int</span>&gt; numbers = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line"><span class="function">list&lt;<span class="type">int</span>&gt; <span class="title">numbers2</span><span class="params">(numbers.begin(), numbers.end)</span></span>;        <span class="comment">// ok, numbers2 has the same elements as numbers</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">numbers3</span><span class="params">(numbers.begin(), --numbers.end())</span></span>;  <span class="comment">// ok, numbers3 is &#123;1, 2, 3, 4&#125;</span></span><br><span class="line"><span class="function">list&lt;<span class="type">double</span>&gt; <span class="title">numbers4</span><span class="params">(++numbers.beg(), --numbers.end())</span></span>;        <span class="comment">// ok, numbers4 is &#123;2, 3, 4&#125;</span></span><br><span class="line"><span class="function">forward_list&lt;<span class="type">float</span>&gt; <span class="title">numbers5</span><span class="params">(numbers.begin(), numbers.end())</span></span>;   <span class="comment">// ok, number5 is &#123;1, 2, 3, 4, 5&#125;</span></span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-13"><a href="#Exercise-9-13" class="headerlink" title="Exercise 9.13"></a>Exercise 9.13</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//! @author @shbling @Alan</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"><span class="comment">//! Exercise 9.13:</span></span><br><span class="line"><span class="comment">//! How would you initialize a vector&lt;double&gt; from a list&lt;int&gt;?</span></span><br><span class="line"><span class="comment">//! From a vector&lt;int&gt;?</span></span><br><span class="line"><span class="comment">//! Write code to check your answers.</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::list;</span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">list&lt;<span class="type">int</span>&gt; <span class="title">ilst</span><span class="params">(<span class="number">5</span>, <span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">ivc</span><span class="params">(<span class="number">5</span>, <span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//! from list&lt;int&gt; to vector&lt;double&gt;</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">double</span>&gt; <span class="title">dvc</span><span class="params">(ilst.begin(), ilst.end())</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : ilst) cout &lt;&lt; i;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> t : dvc) cout &lt;&lt; t;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//! from vector&lt;int&gt; to vector&lt;double&gt;</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">double</span>&gt; <span class="title">dvc2</span><span class="params">(ivc.begin(), ivc.end())</span></span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : ivc) cout &lt;&lt; i;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> t : dvc2) cout &lt;&lt; t;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-14"><a href="#Exercise-9-14" class="headerlink" title="Exercise 9.14"></a>Exercise 9.14</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//! @Alan @pezy</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"><span class="comment">//! Exercise 9.14:</span></span><br><span class="line"><span class="comment">//! Write a program to assign the elements from a list of char* pointers</span></span><br><span class="line"><span class="comment">//! to C-style character strings</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"><span class="comment">//! @Notice C-style character strings should use const char*, otherwise warning.</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::list&lt;<span class="type">const</span> <span class="type">char</span>*&gt; l&#123;<span class="string">&quot;Mooophy&quot;</span>, <span class="string">&quot;pezy&quot;</span>, <span class="string">&quot;Queeuqueg&quot;</span>&#125;;</span><br><span class="line">    std::vector&lt;std::string&gt; v;</span><br><span class="line">    v.<span class="built_in">assign</span>(l.<span class="built_in">cbegin</span>(), l.<span class="built_in">cend</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; ch : v) std::cout &lt;&lt; ch &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这段代码的目标是将一个存储了<code>char*</code>指针的<code>list</code>中的元素赋值给一个存储了<code>std::string</code>的<code>vector</code>。下面是代码的解释：</p>
<ol>
<li><p>首先，我们创建了一个<code>list&lt;const char*&gt;</code>，其中存储了几个指向C风格字符串（即以空字符结尾的字符数组）的指针。</p>
</li>
<li><p>然后，我们创建了一个空的<code>vector&lt;std::string&gt;</code>。</p>
</li>
<li><p>我们使用<code>assign</code>函数将<code>list</code>的元素范围赋值给了<code>vector</code>。由于<code>list</code>的元素类型是<code>const char*</code>，而<code>vector</code>的元素类型是<code>std::string</code>，所以在赋值时会自动进行转换，将C风格字符串转换为<code>std::string</code>对象。</p>
</li>
<li><p>最后，我们遍历<code>vector</code>中的元素，并将它们打印出来。</p>
</li>
</ol>
</blockquote>
<h2 id="Exercise-9-15"><a href="#Exercise-9-15" class="headerlink" title="Exercise 9.15"></a>Exercise 9.15</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//! @file   Exercise 9.15</span></span><br><span class="line"><span class="comment">//! @author pezy</span></span><br><span class="line"><span class="comment">//! @date   2014-12-02</span></span><br><span class="line"><span class="comment">//! @Brief  Write a program to determine whether two vector&lt;int&gt;s are equal.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; vec1&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; vec2&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; vec3&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; std::boolalpha &lt;&lt; (vec1 == vec2) &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; std::boolalpha &lt;&lt; (vec1 == vec3) &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>通过<code>std::boolalpha</code>操纵符来将布尔值打印为<code>true</code>或<code>false</code>，并将比较结果打印出来。</p>
</blockquote>
<h2 id="Exercise-9-16"><a href="#Exercise-9-16" class="headerlink" title="Exercise 9.16"></a>Exercise 9.16</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//! @file   Exercise 9.16</span></span><br><span class="line"><span class="comment">//! @author pezy</span></span><br><span class="line"><span class="comment">//! @date   2014-12-02</span></span><br><span class="line"><span class="comment">//! @Brief  Repeat the previous program, but compare elements in a list&lt;int&gt; to</span></span><br><span class="line"><span class="comment">//! a vector&lt;int&gt;.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::list&lt;<span class="type">int</span>&gt; list&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; vec1&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; vec2&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; std::boolalpha</span><br><span class="line">              &lt;&lt; (std::<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(list.<span class="built_in">begin</span>(), list.<span class="built_in">end</span>()) == vec1)</span><br><span class="line">              &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; std::boolalpha</span><br><span class="line">              &lt;&lt; (std::<span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(list.<span class="built_in">begin</span>(), list.<span class="built_in">end</span>()) == vec2)</span><br><span class="line">              &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-17"><a href="#Exercise-9-17" class="headerlink" title="Exercise 9.17"></a>Exercise 9.17</h2><blockquote>
<p>Assuming c1 and c2 are containers, what (if any) constraints does the following usage place on the types of c1 and c2?</p>
<p>假设c1和c2是容器，以下用法对c1和c2的类型有什么（如果有的话）限制？</p>
</blockquote>
<p>First, there must be the identical container and same type holded. Second,the type held must support relational operation. (@Mooophy)</p>
<p>Both c1 and c2 are the containers except the unordered associative containers.(@pezy)</p>
<p>首先，必须是相同类型的容器并且持有相同类型的元素。其次，所持有的类型必须支持关系运算。</p>
<h2 id="Exercise-9-18"><a href="#Exercise-9-18" class="headerlink" title="Exercise 9.18"></a>Exercise 9.18</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_18.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.18</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/3/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  Write a program to read a sequence of strings from the standard</span></span><br><span class="line"><span class="comment">//  input into</span></span><br><span class="line"><span class="comment">//          a deque. Use iterators to write a loop to print the elements in the</span></span><br><span class="line"><span class="comment">//          deque.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::deque;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    deque&lt;string&gt; input;</span><br><span class="line">    <span class="keyword">for</span> (string str; cin &gt;&gt; str; input.<span class="built_in">push_back</span>(str))</span><br><span class="line">        ;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iter = input.<span class="built_in">cbegin</span>(); iter != input.<span class="built_in">cend</span>(); ++iter)</span><br><span class="line">        cout &lt;&lt; *iter &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-19"><a href="#Exercise-9-19" class="headerlink" title="Exercise 9.19"></a>Exercise 9.19</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_19.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.19</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/3/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  Rewrite the program from the previous exercise to use a list.</span></span><br><span class="line"><span class="comment">//          List the changes you needed to make.</span></span><br><span class="line"><span class="comment">//  @See    ex9_18.cpp</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::list;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;string&gt; input;</span><br><span class="line">    <span class="keyword">for</span> (string str; cin &gt;&gt; str; input.<span class="built_in">push_back</span>(str))</span><br><span class="line">        ;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> iter = input.<span class="built_in">cbegin</span>(); iter != input.<span class="built_in">cend</span>(); ++iter)</span><br><span class="line">        cout &lt;&lt; *iter &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-20"><a href="#Exercise-9-20" class="headerlink" title="Exercise 9.20"></a>Exercise 9.20</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_20.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.20</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/3/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  Write a program to copy elements from a list&lt;int&gt; into two deques.</span></span><br><span class="line"><span class="comment">//          The even-valued elements should go into one deque and the odd ones</span></span><br><span class="line"><span class="comment">//          into the other.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::deque;</span><br><span class="line"><span class="keyword">using</span> std::list;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::cin;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; l&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;;</span><br><span class="line">    deque&lt;<span class="type">int</span>&gt; odd, even;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : l) (i &amp; <span class="number">0x1</span> ? odd : even).<span class="built_in">push_back</span>(i);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : odd) cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : even) cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-21"><a href="#Exercise-9-21" class="headerlink" title="Exercise 9.21"></a>Exercise 9.21</h2><blockquote>
<p>Explain how the loop from page 345 that used the return from insert to add elements to a list would work if we inserted into a vector instead.</p>
</blockquote>
<p>It’s the same.</p>
<blockquote>
<p>The first call to <code>insert</code> takes the <code>string</code> we just read and puts it in front of the element denoted by <code>iter</code>. The value returned by <code>insert</code> is an iterator referring to this new element. We assign that iterator to <code>iter</code> and repeat the <code>while</code>, reading another word. As long as there are words to insert, each trip through the <code>while</code> inserts a new element ahead of <code>iter</code> and reassigns to <code>iter</code> the location of the newly inserted element. That element is the (new) first element. Thus, each iteration inserts an element ahead of the first element in the <code>vector</code>.</p>
</blockquote>
<h2 id="Exercise-9-22"><a href="#Exercise-9-22" class="headerlink" title="Exercise 9.22"></a>Exercise 9.22</h2><blockquote>
<p>Assuming <code>iv</code> is a <code>vector</code> of <code>int</code>s, what is wrong with the following program? How might you correct the problem(s)?</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;<span class="type">int</span>&gt;::iterator iter = iv.<span class="built_in">begin</span>(), mid = iv.<span class="built_in">begin</span>() + iv.<span class="built_in">size</span>()/<span class="number">2</span>;</span><br><span class="line"><span class="keyword">while</span> (iter != mid)</span><br><span class="line">    <span class="keyword">if</span> (*iter == some_val)</span><br><span class="line">        iv.<span class="built_in">insert</span>(iter, <span class="number">2</span> * some_val);</span><br></pre></td></tr></table></figure>
<p><strong>Problems:</strong></p>
<ol>
<li>It’s a endless loop. <code>iter</code> never equal <code>mid</code>.</li>
<li><code>mid</code> will be invalid after the <code>insert</code>.</li>
</ol>
<p><strong>FIXED</strong>:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insertDoubleValue</span><span class="params">(vector&lt;<span class="type">int</span>&gt;&amp; iv, <span class="type">int</span> some_val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> cursor = iv.<span class="built_in">size</span>() / <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">auto</span> iter = iv.<span class="built_in">begin</span>(), mid = iv.<span class="built_in">begin</span>() + cursor;</span><br><span class="line">    <span class="keyword">while</span> (iter != mid) &#123;</span><br><span class="line">        <span class="keyword">if</span> (*iter == some_val) &#123;</span><br><span class="line">            iter = iv.<span class="built_in">insert</span>(iter, <span class="number">2</span> * some_val);</span><br><span class="line">            ++iter;</span><br><span class="line">            ++cursor;</span><br><span class="line">            mid = iv.<span class="built_in">begin</span>() + cursor;</span><br><span class="line">        &#125;</span><br><span class="line">        ++iter;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; iv)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : iv) std::cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    std::cout &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; iv = &#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">9</span>&#125;;</span><br><span class="line">    <span class="built_in">insertDoubleValue</span>(iv, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">print</span>(iv);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-24"><a href="#Exercise-9-24" class="headerlink" title="Exercise 9.24"></a>Exercise 9.24</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//! @Yue Wang @pezy</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"><span class="comment">//! Exercise 9.24:</span></span><br><span class="line"><span class="comment">//! Write a program that fetches the first element in a vector using at,</span></span><br><span class="line"><span class="comment">//! the subscript operator, front, and begin. Test your program on an empty</span></span><br><span class="line"><span class="comment">//! vector.</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;<span class="type">int</span>&gt; v;</span><br><span class="line">    std::cout &lt;&lt; v.<span class="built_in">at</span>(</span><br><span class="line">        <span class="number">0</span>); <span class="comment">// terminating with uncaught exception of type std::out_of_range</span></span><br><span class="line">    std::cout &lt;&lt; v[<span class="number">0</span>];       <span class="comment">// Segmentation fault: 11</span></span><br><span class="line">    std::cout &lt;&lt; v.<span class="built_in">front</span>();  <span class="comment">// Segmentation fault: 11</span></span><br><span class="line">    std::cout &lt;&lt; *v.<span class="built_in">begin</span>(); <span class="comment">// Segmentation fault: 11</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这段代码的目标是从一个空的<code>vector</code>中获取第一个元素，使用了<code>at</code>、下标运算符、<code>front</code>和<code>begin</code>四种不同的方式。下面是代码的解释：</p>
<ol>
<li><p><code>std::cout &lt;&lt; v.at(0);</code>：使用<code>at</code>成员函数尝试获取第一个元素。但是，由于<code>vector</code>是空的，因此调用<code>at(0)</code>会抛出<code>std::out_of_range</code>异常，因为索引0超出了<code>vector</code>的范围。</p>
</li>
<li><p><code>std::cout &lt;&lt; v[0];</code>：使用下标运算符尝试获取第一个元素。但是，由于<code>vector</code>是空的，因此访问索引0处的元素会导致段错误（Segmentation fault），因为访问了不存在的内存位置。</p>
</li>
<li><p><code>std::cout &lt;&lt; v.front();</code>：使用<code>front</code>成员函数尝试获取第一个元素。但是，由于<code>vector</code>是空的，因此调用<code>front()</code>会导致段错误（Segmentation fault），因为尝试访问空向量的第一个元素。</p>
</li>
<li><p><code>std::cout &lt;&lt; *v.begin();</code>：使用<code>begin</code>成员函数获取指向第一个元素的迭代器，然后通过解引用操作符<code>*</code>来获取该元素的值。但是，由于<code>vector</code>是空的，尝试对空向量的第一个元素进行解引用会导致段错误（Segmentation fault）。</p>
</li>
</ol>
<p>总的来说，由于<code>vector</code>是空的，因此在尝试访问其第一个元素时，所有四种方法都会导致错误。</p>
</blockquote>
<h2 id="Exercise-9-25"><a href="#Exercise-9-25" class="headerlink" title="Exercise 9.25"></a>Exercise 9.25</h2><blockquote>
<p>In the program on page 349 that erased a range of elements, what happens if elem1 and elem2 are equal? What if elem2 or both elem1 and elem2 are the off-the-end iterator?</p>
</blockquote>
<p>if elem1 and elem2 are equal, nothing happened.</p>
<p>if elem2 is the off-the-end iterator, it would delete from elem1 to the end.</p>
<p>if both elem1 and elem2 are the off-the-end iterator, nothing happened too.</p>
<h2 id="Exercise-9-26"><a href="#Exercise-9-26" class="headerlink" title="Exercise 9.26"></a>Exercise 9.26</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//!</span></span><br><span class="line"><span class="comment">//! @author @huangjuncmj @Yue Wang</span></span><br><span class="line"><span class="comment">//! @date   19.11.2014</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"><span class="comment">//! Exercise 9.26:</span></span><br><span class="line"><span class="comment">//! Using the following definition of ia, copy ia into a vector and into a list.</span></span><br><span class="line"><span class="comment">//! Use the single-iterator form of erase to remove the elements with odd values</span></span><br><span class="line"><span class="comment">//! from your</span></span><br><span class="line"><span class="comment">//! list and the even values from your vector.</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::list;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"><span class="keyword">using</span> std::end;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> ia[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">13</span>, <span class="number">21</span>, <span class="number">55</span>, <span class="number">89</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//! init</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vec</span><span class="params">(ia, end(ia))</span></span>;</span><br><span class="line">    <span class="function">list&lt;<span class="type">int</span>&gt; <span class="title">lst</span><span class="params">(vec.begin(), vec.end())</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//! remove odd value</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> it = lst.<span class="built_in">begin</span>(); it != lst.<span class="built_in">end</span>();)</span><br><span class="line">        <span class="keyword">if</span> (*it &amp; <span class="number">0x1</span>)</span><br><span class="line">            it = lst.<span class="built_in">erase</span>(it);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ++it;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//! remove even value</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> it = vec.<span class="built_in">begin</span>(); it != vec.<span class="built_in">end</span>();)</span><br><span class="line">        <span class="keyword">if</span> (!(*it &amp; <span class="number">0x1</span>))</span><br><span class="line">            it = vec.<span class="built_in">erase</span>(it);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ++it;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//! print</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;list : &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : lst) cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\nvector : &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : vec) cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-27"><a href="#Exercise-9-27" class="headerlink" title="Exercise 9.27"></a>Exercise 9.27</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//! @file   Exercise 9.27</span></span><br><span class="line"><span class="comment">//! @author pezy</span></span><br><span class="line"><span class="comment">//! @date   2014-12-03</span></span><br><span class="line"><span class="comment">//! @Brief  Write a program to find and remove the odd-valued elements in a</span></span><br><span class="line"><span class="comment">//! forward_list&lt;int&gt;.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;forward_list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::forward_list;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    forward_list&lt;<span class="type">int</span>&gt; flst = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> prev = flst.<span class="built_in">before_begin</span>(), curr = flst.<span class="built_in">begin</span>();</span><br><span class="line">         curr != flst.<span class="built_in">end</span>();)</span><br><span class="line">        <span class="keyword">if</span> (*curr &amp; <span class="number">0x1</span>)</span><br><span class="line">            curr = flst.<span class="built_in">erase_after</span>(prev);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            prev = curr++;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : flst) cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>before_begin()</code> 和 <code>begin()</code> 是 <code>forward_list</code> 类的成员函数，它们分别用于获取指向第一个元素之前的元素（即头节点）和指向第一个元素的迭代器。</p>
</blockquote>
<ol>
<li><p><code>before_begin()</code>：</p>
<ul>
<li>返回一个指向第一个元素之前的元素的迭代器。</li>
<li>这个迭代器通常用于在列表中插入元素时，因为 <code>forward_list</code> 没有提供 <code>push_front()</code> 函数，插入操作需要在指定位置之前插入，这时就需要用到 <code>before_begin()</code> 获取头节点的位置。</li>
<li>如果列表为空，则返回的迭代器将和 <code>begin()</code> 返回的迭代器相同。</li>
</ul>
</li>
<li><p><code>begin()</code>：</p>
<ul>
<li>返回一个指向第一个元素的迭代器。</li>
<li>这个迭代器用于遍历列表中的元素，或者指定列表中的第一个元素。</li>
<li>如果列表为空，则返回的迭代器将和 <code>before_begin()</code> 返回的迭代器相同。</li>
</ul>
</li>
</ol>
<p>综上所述，<code>before_begin()</code> 和 <code>begin()</code> 的区别在于它们所返回的迭代器指向的位置不同：<code>before_begin()</code> 返回的是第一个元素之前的位置，而 <code>begin()</code> 返回的是第一个元素的位置。</p>
<h2 id="Exercise-9-28"><a href="#Exercise-9-28" class="headerlink" title="Exercise 9.28"></a>Exercise 9.28</h2><blockquote>
<p>Write a function that takes a <code>forward_list&lt;string&gt;</code> and two additional string arguments. The function should find the first string and insert the second immediately following the first. If the first string is not found, then insert the second string at the end of the list.</p>
<p>编写一个函数，该函数接受一个<code>forward_list&lt;string&gt;</code>和另外两个字符串参数。该函数应该查找第一个字符串，并将第二个字符串立即插入到第一个字符串之后。如果未找到第一个字符串，则将第二个字符串插入到列表末尾。</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">find_and_insert</span><span class="params">(forward_list&lt;string&gt; &amp;list, <span class="type">const</span> string&amp; to_find, <span class="type">const</span> string&amp; to_add)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> prev = list.<span class="built_in">before_begin</span>();</span><br><span class="line">    <span class="keyword">auto</span> size = std::<span class="built_in">distance</span>(list.<span class="built_in">begin</span>(), list.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> curr = list.<span class="built_in">begin</span>(); curr != list.<span class="built_in">end</span>(); prev = curr++)</span><br><span class="line">        <span class="keyword">if</span> (*curr == to_find) list.<span class="built_in">insert_after</span>(curr, to_add);</span><br><span class="line">    <span class="keyword">if</span> (size == std::<span class="built_in">distance</span>(list.<span class="built_in">begin</span>(), list.<span class="built_in">end</span>())) list.<span class="built_in">insert_after</span>(prev, to_add);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这段代码定义了一个名为 <code>find_and_insert</code> 的函数，该函数接受一个 <code>forward_list&lt;string&gt;</code> 类型的列表以及两个额外的字符串参数：<code>to_find</code> 和 <code>to_add</code>。</p>
<p>函数的功能是在列表中查找第一个字符串 <code>to_find</code>，如果找到了，则在该字符串之后立即插入第二个字符串 <code>to_add</code>；如果未找到，则将第二个字符串插入到列表末尾。</p>
<p>下面是代码的解释：</p>
<ul>
<li><p><code>auto prev = list.before_begin();</code>：初始化一个迭代器 <code>prev</code>，指向头节点之前的位置。</p>
</li>
<li><p><code>auto size = std::distance(list.begin(), list.end());</code>：计算列表的大小，即列表中元素的个数。</p>
</li>
<li><p><code>for (auto curr = list.begin(); curr != list.end(); prev = curr++)</code>：使用循环遍历列表中的元素，<code>curr</code> 是当前迭代器，<code>prev</code> 则指向当前迭代器的前一个位置。</p>
</li>
<li><p><code>if (*curr == to_find) list.insert_after(curr, to_add);</code>：如果当前元素等于要查找的字符串 <code>to_find</code>，则在当前元素之后插入字符串 <code>to_add</code>。</p>
</li>
<li><p><code>if (size == std::distance(list.begin(), list.end())) list.insert_after(prev, to_add);</code>：如果列表的大小没有变化，说明没有找到要查找的字符串，此时将字符串 <code>to_add</code> 插入到列表末尾。</p>
</li>
</ul>
<p>综上所述，这段代码实现了在 <code>forward_list&lt;string&gt;</code> 中查找并插入字符串的功能，并根据查找结果将字符串插入到合适的位置。</p>
</blockquote>
<h2 id="Exercise-9-29"><a href="#Exercise-9-29" class="headerlink" title="Exercise 9.29"></a>Exercise 9.29</h2><blockquote>
<p>Given that vec holds 25 elements, what does vec.resize(100) do? What if we next wrote vec.resize(10)?</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vec.<span class="built_in">resize</span>(<span class="number">100</span>);    <span class="comment">// adds 75 items to the back of vec. These added items are value initialized.</span></span><br><span class="line">vec.<span class="built_in">resize</span>(<span class="number">10</span>);     <span class="comment">// erases 90 elements from the back of vec</span></span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-30"><a href="#Exercise-9-30" class="headerlink" title="Exercise 9.30"></a>Exercise 9.30</h2><blockquote>
<p>What, if any, restrictions does using the version of resize that takes a single argument place on the element type?</p>
</blockquote>
<p>If the container holds elements of a class type and resize adds elements, we must supply an <strong>initializer</strong> or the element type must have a <strong>default constructor</strong>.</p>
<p>如果容器保存的是类类型的元素，并且resize添加了元素，那么我们必须提供一个初始化器或者元素类型必须有一个默认构造函数。</p>
<h2 id="Exercise-9-31"><a href="#Exercise-9-31" class="headerlink" title="Exercise 9.31"></a>Exercise 9.31</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_31.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.31</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/3/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  The program on page 354 to remove even-valued elements and</span></span><br><span class="line"><span class="comment">//          duplicate odd ones will not work on a list or forward_list. Why?</span></span><br><span class="line"><span class="comment">//          Revise the program so that it works on these types as well.</span></span><br><span class="line"><span class="comment">//  @list   iter += 2; -&gt; advance(iter, 2);</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::list;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"><span class="keyword">using</span> std::advance;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; vi = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">    <span class="keyword">auto</span> iter = vi.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">while</span> (iter != vi.<span class="built_in">end</span>()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (*iter % <span class="number">2</span>) &#123;</span><br><span class="line">            iter = vi.<span class="built_in">insert</span>(iter, *iter);</span><br><span class="line">            <span class="built_in">advance</span>(iter, <span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            iter = vi.<span class="built_in">erase</span>(iter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : vi) cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这段代码的目标是在一个<code>list&lt;int&gt;</code>中删除偶数元素并复制奇数元素。下面是代码的解释：</p>
<ol>
<li><p>首先，我们定义了一个<code>list&lt;int&gt;</code>，命名为<code>vi</code>，并初始化了它。</p>
</li>
<li><p>接着，我们定义了一个迭代器<code>iter</code>，初始化为列表的开始位置。</p>
</li>
<li><p>然后，我们使用<code>while</code>循环遍历列表中的每个元素。在循环中，我们检查当前元素是否为奇数，如果是奇数，则在当前位置插入一个与当前元素相同的元素，并将迭代器向前移动两个位置；如果是偶数，则删除当前元素。</p>
</li>
<li><p>最后，我们使用范围<code>for</code>循环打印更新后的列表中的元素。</p>
</li>
</ol>
<p>需要注意的是，为了在<code>list</code>中实现插入操作，我们不能直接使用<code>iter + 2</code>来移动迭代器，因为<code>list</code>不支持随机访问迭代器。因此，我们使用了<code>advance</code>函数来将迭代器移动两个位置。</p>
<p>总的来说，这段代码演示了如何在<code>list&lt;int&gt;</code>中删除偶数元素并复制奇数元素，并且使用了适用于<code>list</code>的插入和删除操作。</p>
</blockquote>
<h2 id="Exercise-9-32"><a href="#Exercise-9-32" class="headerlink" title="Exercise 9.32"></a>Exercise 9.32</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_32.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.32</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/3/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  In the program on page 354 would it be legal to write the call to</span></span><br><span class="line"><span class="comment">//  insert as follows?</span></span><br><span class="line"><span class="comment">//          If not, why not?</span></span><br><span class="line"><span class="comment">//          iter = vi.insert(iter, *iter++);</span></span><br><span class="line"><span class="comment">//  @Answer the statement is illegal, cause as said in Standard [5.2.2] :</span></span><br><span class="line"><span class="comment">//          &quot;The order of evaluation of arguments is unspecified.&quot;</span></span><br><span class="line"><span class="comment">//          As a result, after entering function insert,</span></span><br><span class="line"><span class="comment">//          iter could be its original value or original value + 1 or even</span></span><br><span class="line"><span class="comment">//          anything else,</span></span><br><span class="line"><span class="comment">//          depending on how compiler implemented.</span></span><br><span class="line"><span class="comment">//          correct it as follows:</span></span><br><span class="line"><span class="comment">//  @Discuss    https://github.com/Mooophy/Cpp-Primer/issues/125</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; vi = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">    <span class="keyword">auto</span> iter = vi.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">while</span> (iter != vi.<span class="built_in">end</span>()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (*iter % <span class="number">2</span>) &#123;</span><br><span class="line">            iter = vi.<span class="built_in">insert</span>(iter, *iter);</span><br><span class="line">            iter += <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            iter = vi.<span class="built_in">erase</span>(iter);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : vi) cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-33"><a href="#Exercise-9-33" class="headerlink" title="Exercise 9.33"></a>Exercise 9.33</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_33.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.33</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/3/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  In the final example in this section what would happen</span></span><br><span class="line"><span class="comment">//          if we did not assign the result of insert to begin?</span></span><br><span class="line"><span class="comment">//          Write a program that omits this assignment to see if your</span></span><br><span class="line"><span class="comment">//          expectation was correct.</span></span><br><span class="line"><span class="comment">//  @Answer crash, cause the iterator is invalid after insert. Because</span></span><br><span class="line"><span class="comment">//  Iterators, pointers, and references to a</span></span><br><span class="line"><span class="comment">//          vector or string are invalid if the container was reallocated.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; v&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">    <span class="keyword">auto</span> begin = v.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">while</span> (begin != v.<span class="built_in">end</span>()) &#123;</span><br><span class="line">        ++begin;</span><br><span class="line">        <span class="comment">/*begin = */</span> v.<span class="built_in">insert</span>(begin, <span class="number">42</span>);</span><br><span class="line">        ++begin;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : v) cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-34"><a href="#Exercise-9-34" class="headerlink" title="Exercise 9.34"></a>Exercise 9.34</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_32.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.32</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/3/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  Assuming vi is a container of ints that includes even and odd</span></span><br><span class="line"><span class="comment">//  values,</span></span><br><span class="line"><span class="comment">//          predict the behavior of the following loop.</span></span><br><span class="line"><span class="comment">//          After you&#x27;ve analyzed this loop, write a program to test whether</span></span><br><span class="line"><span class="comment">//          your expectations were correct.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//			iter = vi.begin();</span></span><br><span class="line"><span class="comment">//			while (iter != vi.end())</span></span><br><span class="line"><span class="comment">//				if (*iter % 2)</span></span><br><span class="line"><span class="comment">//					iter = vi.insert(iter, *iter);</span></span><br><span class="line"><span class="comment">//				++iter;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Answer &quot;infinite loop&quot;. Casue the `++iter` out of the `while` loop. But</span></span><br><span class="line"><span class="comment">//  even through add brackets it is still infinite loop.</span></span><br><span class="line"><span class="comment">//          Fixed following.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; vi = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;</span><br><span class="line">    <span class="keyword">auto</span> iter = vi.<span class="built_in">begin</span>();</span><br><span class="line">    <span class="keyword">while</span> (iter != vi.<span class="built_in">end</span>()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (*iter % <span class="number">2</span>) &#123;</span><br><span class="line">            iter = vi.<span class="built_in">insert</span>(iter, *iter);</span><br><span class="line">            ++iter;</span><br><span class="line">        &#125;</span><br><span class="line">        ++iter;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : vi) cout &lt;&lt; i &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-35"><a href="#Exercise-9-35" class="headerlink" title="Exercise 9.35"></a>Exercise 9.35</h2><blockquote>
<p>Explain the difference between a vector’s capacity and its size.</p>
</blockquote>
<p>The <strong>size</strong> of a container is the number of <strong>elements</strong> it already holds;</p>
<p>The <strong>capacity</strong> is how many elements it can hold before more <strong>space</strong> must be allocated.</p>
<blockquote>
<p>向量（vector）的 <strong>size</strong> 表示它当前所保存的元素数量，即它已经持有的元素数量。</p>
<p>而 <strong>capacity</strong> 表示向量当前内存空间的大小，即它能够容纳的元素数量上限。当向量中的元素数量达到了 capacity，即向量已经占满了当前内存空间，如果需要再添加元素，就需要重新分配更大的内存空间来容纳更多的元素。</p>
<p>因此，size 表示已经使用了多少内存空间，而 capacity 表示总共有多少内存空间可供使用。</p>
</blockquote>
<h2 id="Exercise-9-36"><a href="#Exercise-9-36" class="headerlink" title="Exercise 9.36"></a>Exercise 9.36</h2><blockquote>
<p>Can a container have a capacity less than its size?</p>
</blockquote>
<p>cannot.</p>
<h2 id="Exercise-9-37"><a href="#Exercise-9-37" class="headerlink" title="Exercise 9.37"></a>Exercise 9.37</h2><blockquote>
<p>Why don’t list or array have a capacity member?</p>
</blockquote>
<p><code>list</code> elements does not store contiguously. <code>array</code> has the fixed size, thus cannot added elements to it.</p>
<h2 id="Exercise-9-38"><a href="#Exercise-9-38" class="headerlink" title="Exercise 9.38"></a>Exercise 9.38</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//! @Alan</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"><span class="comment">//! Exercise 9.38:</span></span><br><span class="line"><span class="comment">//! Write a program to explore how vectors grow in the library you use.</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;std::string&gt; v;</span><br><span class="line">    std::string word;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (std::cin &gt;&gt; word) &#123;</span><br><span class="line">        v.<span class="built_in">push_back</span>(word);</span><br><span class="line">        std::cout &lt;&lt; v.<span class="built_in">capacity</span>() &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-39"><a href="#Exercise-9-39" class="headerlink" title="Exercise 9.39"></a>Exercise 9.39</h2><blockquote>
<p>Explain what the following program fragment does:</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;string&gt; svec;</span><br><span class="line">svec.<span class="built_in">reserve</span>(<span class="number">1024</span>);</span><br><span class="line">string word;</span><br><span class="line"><span class="keyword">while</span> (cin &gt;&gt; word)</span><br><span class="line">    svec.<span class="built_in">push_back</span>(word);</span><br><span class="line">svec.<span class="built_in">resize</span>(svec.<span class="built_in">size</span>()+svec.<span class="built_in">size</span>()/<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>The <code>while</code> loop will read words from <code>cin</code> and store them in out vector. Even if we initially reserved 1024 elements, if there are more words read from <code>cin</code>, our vector’s capacity will be automatically increased (most implementations will double the previous capacity) to accommodate them.</p>
<p>And now comes the catch. <code>resize()</code> is different from <code>reserve()</code>. In this case <code>resize()</code> will add another <code>svec.size()/2</code> value initialized elements to <code>svec</code>. If this exceeds <code>svec.capacity()</code> it will also automatically increase it to accommodate the new elements.</p>
<h2 id="Exercise-9-40"><a href="#Exercise-9-40" class="headerlink" title="Exercise 9.40"></a>Exercise 9.40</h2><blockquote>
<p>If the program in the previous exercise reads 256 words, what is its likely capacity after it is resized? What if it reads 512? 1,000? 1,048?</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>read</th>
<th>size</th>
<th>capacity</th>
</tr>
</thead>
<tbody>
<tr>
<td>256</td>
<td>384</td>
<td>1024</td>
</tr>
<tr>
<td>512</td>
<td>768</td>
<td>1024</td>
</tr>
<tr>
<td>1000</td>
<td>1500</td>
<td>2000(clang is 2048)</td>
</tr>
<tr>
<td>1048</td>
<td>1572</td>
<td>2048</td>
</tr>
</tbody>
</table>
</div>
<h2 id="Exercise-9-41"><a href="#Exercise-9-41" class="headerlink" title="Exercise 9.41"></a>Exercise 9.41</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_41.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.41</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/4/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  Write a program that initializes a string from a vector&lt;char&gt;.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::vector;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">char</span>&gt; vec&#123;<span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;z&#x27;</span>, <span class="string">&#x27;y&#x27;</span>&#125;;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(vec.begin(), vec.end())</span></span>;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-42"><a href="#Exercise-9-42" class="headerlink" title="Exercise 9.42"></a>Exercise 9.42</h2><blockquote>
<p>Given that you want to read a character at a time into a string, and you know that you need to read at least 100 characters, how might you improve the performance of your program?</p>
</blockquote>
<p>Use member <code>reserve(120)</code> to allocate enough space for this string.</p>
<p>假设你想逐个字符地读入一个字符串，并且你知道你至少需要读取100个字符，你如何提高程序的性能？</p>
<p>可以使用成员函数 <code>reserve(120)</code> 来为这个字符串分配足够的空间。</p>
<h2 id="Exercise-9-43"><a href="#Exercise-9-43" class="headerlink" title="Exercise 9.43"></a>Exercise 9.43</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_43.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.43</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 6/18/15.</span></span><br><span class="line"><span class="comment">//  Updated by sanerror on 10/16/16.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  Write a function that takes three strings, s, oldVal, and newVal.</span></span><br><span class="line"><span class="comment">//          Using iterators, and the insert and erase functions replace</span></span><br><span class="line"><span class="comment">//          all instances of oldVal that appear in s by newVal.</span></span><br><span class="line"><span class="comment">//          Test your function by using it to replace common abbreviations,</span></span><br><span class="line"><span class="comment">//          such as &quot;tho&quot; by &quot;though&quot; and &quot;thru&quot; by &quot;through&quot;.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Replace</span><span class="params">(string&amp; s, <span class="type">const</span> string&amp; oldVal, <span class="type">const</span> string&amp; newVal)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> beg = s.<span class="built_in">begin</span>(); std::<span class="built_in">distance</span>(beg, s.<span class="built_in">end</span>()) &gt;=</span><br><span class="line">                               std::<span class="built_in">distance</span>(oldVal.<span class="built_in">begin</span>(), oldVal.<span class="built_in">end</span>());) &#123;</span><br><span class="line">        <span class="keyword">if</span> (string&#123;beg, beg + oldVal.<span class="built_in">size</span>()&#125; == oldVal) &#123;</span><br><span class="line">            beg = s.<span class="built_in">erase</span>(beg, beg + oldVal.<span class="built_in">size</span>());</span><br><span class="line">            beg = s.<span class="built_in">insert</span>(beg, newVal.<span class="built_in">cbegin</span>(), newVal.<span class="built_in">cend</span>());</span><br><span class="line">            std::<span class="built_in">advance</span>(beg, newVal.<span class="built_in">size</span>());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ++beg;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        string str&#123;<span class="string">&quot;To drive straight thru is a foolish, tho courageous act.&quot;</span>&#125;;</span><br><span class="line">        <span class="built_in">Replace</span>(str, <span class="string">&quot;thru&quot;</span>, <span class="string">&quot;through&quot;</span>);</span><br><span class="line">        <span class="built_in">Replace</span>(str, <span class="string">&quot;tho&quot;</span>, <span class="string">&quot;though&quot;</span>);</span><br><span class="line">        std::cout &lt;&lt; str &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        string str&#123;</span><br><span class="line">            <span class="string">&quot;To drive straight thruthru is a foolish, thotho courageous act.&quot;</span>&#125;;</span><br><span class="line">        <span class="built_in">Replace</span>(str, <span class="string">&quot;thru&quot;</span>, <span class="string">&quot;through&quot;</span>);</span><br><span class="line">        <span class="built_in">Replace</span>(str, <span class="string">&quot;tho&quot;</span>, <span class="string">&quot;though&quot;</span>);</span><br><span class="line">        std::cout &lt;&lt; str &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        string str&#123;<span class="string">&quot;To drive straight thru is a foolish, tho courageous act.&quot;</span>&#125;;</span><br><span class="line">        <span class="built_in">Replace</span>(str, <span class="string">&quot;thru&quot;</span>, <span class="string">&quot;thruthru&quot;</span>);</span><br><span class="line">        <span class="built_in">Replace</span>(str, <span class="string">&quot;tho&quot;</span>, <span class="string">&quot;though&quot;</span>);</span><br><span class="line">        std::cout &lt;&lt; str &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        string str&#123;<span class="string">&quot;my world is a big world&quot;</span>&#125;;</span><br><span class="line">        <span class="built_in">Replace</span>(str, <span class="string">&quot;world&quot;</span>,</span><br><span class="line">                <span class="string">&quot;worldddddddddddddddddddddddddddddddddddddddddddddddd&quot;</span>);</span><br><span class="line">        std::cout &lt;&lt; str &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这段代码实现了一个函数<code>Replace</code>，其作用是将字符串<code>s</code>中所有出现的子字符串<code>oldVal</code>替换为<code>newVal</code>。具体实现如下：</p>
<ol>
<li><p>遍历字符串<code>s</code>，通过迭代器<code>beg</code>来查找每个可能出现<code>oldVal</code>的位置。</p>
</li>
<li><p>在遍历过程中，使用<code>string</code>的构造函数构造一个子字符串，与<code>oldVal</code>进行比较，如果相等，则表示找到了要替换的子字符串。</p>
</li>
<li><p>如果找到了要替换的子字符串，则使用<code>erase</code>函数删除原字符串中的旧值，然后使用<code>insert</code>函数将新值插入到相应位置。这里需要注意的是，<code>insert</code>函数的返回值是指向新插入元素后面的迭代器，因此需要将<code>beg</code>更新为这个迭代器指向的位置，以便继续搜索剩余的字符串。</p>
</li>
<li><p>如果没有找到要替换的子字符串，则直接将迭代器<code>beg</code>向前移动一位，继续搜索。</p>
</li>
</ol>
<p>最后，通过多次调用<code>Replace</code>函数，测试了不同的字符串和替换规则，验证了函数的正确性。</p>
</blockquote>
<h2 id="Exercise-9-44"><a href="#Exercise-9-44" class="headerlink" title="Exercise 9.44"></a>Exercise 9.44</h2><p>采用库函数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_44.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.44</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/4/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  Rewrite the previous function using an index and replace.</span></span><br><span class="line"><span class="comment">//  @See    9.43</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::prev;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Replace</span><span class="params">(string&amp; s, string <span class="type">const</span>&amp; oldVal, string <span class="type">const</span>&amp; newVal)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (string::size_type i = <span class="number">0</span>; i != s.<span class="built_in">size</span>(); ++i)</span><br><span class="line">        <span class="keyword">if</span> (s.<span class="built_in">substr</span>(i, oldVal.<span class="built_in">size</span>()) == oldVal) &#123;</span><br><span class="line">            s.<span class="built_in">replace</span>(i, oldVal.<span class="built_in">size</span>(), newVal);</span><br><span class="line">            i += newVal.<span class="built_in">size</span>() - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string str&#123;<span class="string">&quot;To drive straight thru is a foolish, tho courageous act.&quot;</span>&#125;;</span><br><span class="line">    <span class="built_in">Replace</span>(str, <span class="string">&quot;tho&quot;</span>, <span class="string">&quot;though&quot;</span>);</span><br><span class="line">    <span class="built_in">Replace</span>(str, <span class="string">&quot;thru&quot;</span>, <span class="string">&quot;through&quot;</span>);</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-45"><a href="#Exercise-9-45" class="headerlink" title="Exercise 9.45"></a>Exercise 9.45</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//! @author @TungWah @Alan</span></span><br><span class="line"><span class="comment">//! @date   4 Oct,2014.</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"><span class="comment">//! Exercise 9.45:</span></span><br><span class="line"><span class="comment">//! Write a funtion that takes a string representing a name and two other</span></span><br><span class="line"><span class="comment">//! strings representing a prefix, such as “Mr.” or “Ms.” and a suffix,</span></span><br><span class="line"><span class="comment">//! such as “Jr.” or “III”. Using iterators and the insert and append functions,</span></span><br><span class="line"><span class="comment">//! generate and return a new string with the suffix and prefix added to the</span></span><br><span class="line"><span class="comment">//! given name.</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//! Exercise 9.45</span></span><br><span class="line"><span class="function">std::string <span class="title">pre_suffix</span><span class="params">(<span class="type">const</span> std::string&amp; name, <span class="type">const</span> std::string&amp; pre,</span></span></span><br><span class="line"><span class="params"><span class="function">                       <span class="type">const</span> std::string&amp; su)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::string <span class="title">name</span><span class="params">(<span class="string">&quot;alan&quot;</span>)</span></span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">pre_suffix</span>(name, <span class="string">&quot;Mr.&quot;</span>, <span class="string">&quot;,Jr.&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> std::string <span class="title">pre_suffix</span><span class="params">(<span class="type">const</span> std::string&amp; name, <span class="type">const</span> std::string&amp; pre,</span></span></span><br><span class="line"><span class="params"><span class="function">                              <span class="type">const</span> std::string&amp; su)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> ret = name;</span><br><span class="line">    ret.<span class="built_in">insert</span>(ret.<span class="built_in">begin</span>(), pre.<span class="built_in">begin</span>(), pre.<span class="built_in">end</span>());</span><br><span class="line">    ret.<span class="built_in">append</span>(su);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这段代码实现了一个名为<code>pre_suffix</code>的函数，其功能是接受一个表示姓名的字符串以及两个表示前缀和后缀的字符串，然后生成并返回一个新的字符串，其中包含给定名字、前缀和后缀。</p>
<p>具体实现如下：</p>
<ol>
<li><p>首先，在<code>main</code>函数中定义了一个名为<code>name</code>的字符串，表示姓名，然后调用<code>pre_suffix</code>函数，并输出返回的结果。</p>
</li>
<li><p>在<code>pre_suffix</code>函数中，首先创建了一个名为<code>ret</code>的字符串，用于存储生成的结果。然后，利用<code>insert</code>函数将前缀插入到<code>ret</code>字符串的开头，利用<code>append</code>函数将后缀追加到<code>ret</code>字符串的末尾。</p>
</li>
<li><p>最后，将生成的字符串<code>ret</code>返回给调用者。</p>
</li>
</ol>
<p>这样，函数<code>pre_suffix</code>就实现了将前缀和后缀添加到给定姓名字符串中，并返回生成的新字符串的功能。</p>
</blockquote>
<h2 id="Exercise-9-46"><a href="#Exercise-9-46" class="headerlink" title="Exercise 9.46"></a>Exercise 9.46</h2><p>库函数实现</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_46.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.46</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/5/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  Rewrite the previous exercise using a position and length to manage</span></span><br><span class="line"><span class="comment">//  the strings.</span></span><br><span class="line"><span class="comment">//          This time use only the insert function.</span></span><br><span class="line"><span class="comment">//  @See    9.45</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function">std::string <span class="title">pre_suffix</span><span class="params">(<span class="type">const</span> std::string&amp; name, <span class="type">const</span> std::string&amp; pre,</span></span></span><br><span class="line"><span class="params"><span class="function">                       <span class="type">const</span> std::string&amp; su)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::string <span class="title">ret</span><span class="params">(name)</span></span>;</span><br><span class="line">    ret.<span class="built_in">insert</span>(<span class="number">0</span>, pre);</span><br><span class="line">    ret.<span class="built_in">insert</span>(ret.<span class="built_in">size</span>(), su);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">std::string <span class="title">name</span><span class="params">(<span class="string">&quot;alan&quot;</span>)</span></span>;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">pre_suffix</span>(name, <span class="string">&quot;Mr.&quot;</span>, <span class="string">&quot;,Jr.&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Exercise-9-47"><a href="#Exercise-9-47" class="headerlink" title="Exercise 9.47"></a>Exercise 9.47</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_47_1.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.47</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/5/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  Write a program that finds each numeric character</span></span><br><span class="line"><span class="comment">//          and then each alphabetic character in the string &quot;ab2c3d7R4E6&quot;.</span></span><br><span class="line"><span class="comment">//          Write two versions of the program. The first should use</span></span><br><span class="line"><span class="comment">//          find_first_of,</span></span><br><span class="line"><span class="comment">//          and the second find_first_not_of.</span></span><br><span class="line"><span class="comment">//  @Version find_first_of</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string numbers&#123;<span class="string">&quot;0123456789&quot;</span>&#125;;</span><br><span class="line">    string alphabet&#123;<span class="string">&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>&#125;;</span><br><span class="line">    string str&#123;<span class="string">&quot;ab2c3d7R4E6&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;numeric characters: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (string::size_type pos = <span class="number">0</span>;</span><br><span class="line">         (pos = str.<span class="built_in">find_first_of</span>(numbers, pos)) != string::npos; ++pos)</span><br><span class="line">        cout &lt;&lt; str[pos] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\nalphabetic characters: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (string::size_type pos = <span class="number">0</span>;</span><br><span class="line">         (pos = str.<span class="built_in">find_first_of</span>(alphabet, pos)) != string::npos; ++pos)</span><br><span class="line">        cout &lt;&lt; str[pos] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这个程序的目标是在字符串 “ab2c3d7R4E6” 中找到每个数字字符和每个字母字符，并分别打印出来。该程序使用了 <code>find_first_of</code> 函数来实现。</p>
<p>程序的主要步骤如下：</p>
<ol>
<li><p>首先，定义了三个字符串变量：<code>numbers</code> 表示数字字符，<code>alphabet</code> 表示字母字符，<code>str</code> 表示目标字符串 “ab2c3d7R4E6”。</p>
</li>
<li><p>然后，通过循环遍历 <code>str</code> 中的字符，使用 <code>find_first_of</code> 函数在 <code>numbers</code> 和 <code>alphabet</code> 中查找当前字符的位置。</p>
</li>
<li><p>如果找到了数字字符，将其打印输出；如果找到了字母字符，也将其打印输出。</p>
</li>
<li><p>循环直到找不到匹配的字符为止。</p>
</li>
</ol>
<p>这样，程序通过使用 <code>find_first_of</code> 函数实现了在目标字符串中找到并输出数字字符和字母字符的功能。</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_47_2.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.47</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/5/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  Write a program that finds each numeric character</span></span><br><span class="line"><span class="comment">//          and then each alphabetic character in the string &quot;ab2c3d7R4E6&quot;.</span></span><br><span class="line"><span class="comment">//          Write two versions of the program. The first should use</span></span><br><span class="line"><span class="comment">//          find_first_of,</span></span><br><span class="line"><span class="comment">//          and the second find_first_not_of.</span></span><br><span class="line"><span class="comment">//  @Version find_first_not_of</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string numbers&#123;<span class="string">&quot;0123456789&quot;</span>&#125;;</span><br><span class="line">    string alphabet&#123;<span class="string">&quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>&#125;;</span><br><span class="line">    string str&#123;<span class="string">&quot;ab2c3d7R4E6&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;numeric characters: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (string::size_type pos = <span class="number">0</span>;</span><br><span class="line">         (pos = str.<span class="built_in">find_first_not_of</span>(alphabet, pos)) != string::npos; ++pos)</span><br><span class="line">        cout &lt;&lt; str[pos] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\nalphabetic characters: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (string::size_type pos = <span class="number">0</span>;</span><br><span class="line">         (pos = str.<span class="built_in">find_first_not_of</span>(numbers, pos)) != string::npos; ++pos)</span><br><span class="line">        cout &lt;&lt; str[pos] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这个程序的目标是在字符串 “ab2c3d7R4E6” 中找到每个数字字符和每个字母字符，并分别打印出来。该程序使用了 <code>find_first_not_of</code> 函数来实现。</p>
<p>程序的主要步骤如下：</p>
<ol>
<li><p>首先，定义了三个字符串变量：<code>numbers</code> 表示数字字符，<code>alphabet</code> 表示字母字符，<code>str</code> 表示目标字符串 “ab2c3d7R4E6”。</p>
</li>
<li><p>然后，通过循环遍历 <code>str</code> 中的字符，使用 <code>find_first_not_of</code> 函数在 <code>alphabet</code> 和 <code>numbers</code> 中查找当前字符的位置。</p>
</li>
<li><p>如果找到了非字母字符（即数字字符），将其打印输出；如果找到了非数字字符（即字母字符），也将其打印输出。</p>
</li>
<li><p>循环直到找不到匹配的字符为止。</p>
</li>
</ol>
<p>这样，程序通过使用 <code>find_first_not_of</code> 函数实现了在目标字符串中找到并输出数字字符和字母字符的功能。</p>
</blockquote>
<h2 id="Exercise-9-48"><a href="#Exercise-9-48" class="headerlink" title="Exercise 9.48"></a>Exercise 9.48</h2><blockquote>
<p>Given the definitions of name and numbers on page 365, what does numbers.find(name) return?</p>
</blockquote>
<p>string::npos</p>
<h2 id="Exercise-9-49"><a href="#Exercise-9-49" class="headerlink" title="Exercise 9.49"></a>Exercise 9.49</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//! @file   Exercise 9.49</span></span><br><span class="line"><span class="comment">//! @author pezy</span></span><br><span class="line"><span class="comment">//! @date   2014-12-05</span></span><br><span class="line"><span class="comment">//! @Brief  A letter has an ascender if, as with d or f, part of the letter</span></span><br><span class="line"><span class="comment">//! extends above the middle of the line.</span></span><br><span class="line"><span class="comment">//          A letter has a descender if, as with p or g, part of the letter</span></span><br><span class="line"><span class="comment">//          extends below the line.</span></span><br><span class="line"><span class="comment">//          Write a program that reads a file containing words and reports the</span></span><br><span class="line"><span class="comment">//          longest word that contains</span></span><br><span class="line"><span class="comment">//          neither ascenders nor descenders.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"><span class="keyword">using</span> std::ifstream;</span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">ifstream <span class="title">ifs</span><span class="params">(<span class="string">&quot;../data/letter.txt&quot;</span>)</span></span>;</span><br><span class="line">    <span class="keyword">if</span> (!ifs) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    string longest_word;</span><br><span class="line">    <span class="keyword">for</span> (string word; ifs &gt;&gt; word;)</span><br><span class="line">        <span class="keyword">if</span> (word.<span class="built_in">find_first_not_of</span>(<span class="string">&quot;aceimnorsuvwxz&quot;</span>) == string::npos &amp;&amp;</span><br><span class="line">            word.<span class="built_in">size</span>() &gt; longest_word.<span class="built_in">size</span>())</span><br><span class="line">            longest_word = word;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; longest_word &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>word.find_first_not_of(&quot;aceimnorsuvwxz&quot;)</code>是一个字符串成员函数<code>find_first_not_of()</code>的调用，它用于在给定字符串中查找第一个不在指定字符集合中的字符，并返回该字符在字符串中的位置。</p>
<p>在这个程序中，<code>word.find_first_not_of(&quot;aceimnorsuvwxz&quot;)</code>被用于检查单词是否包含除了指定的字符（即”aceimnorsuvwxz”）以外的字符。如果找到了任何不在指定字符集合中的字符，则<code>find_first_not_of()</code>返回该字符的位置；如果找不到这样的字符，则返回<code>string::npos</code>。</p>
</blockquote>
<h2 id="Exercise-9-50"><a href="#Exercise-9-50" class="headerlink" title="Exercise 9.50"></a>Exercise 9.50</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//! @Yue Wang</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"><span class="comment">//! Exercise 9.50:</span></span><br><span class="line"><span class="comment">//! Write a program to process a vector&lt;string&gt;s whose elements represent</span></span><br><span class="line"><span class="comment">//! integral values.</span></span><br><span class="line"><span class="comment">//! Produce the sum of all the elements in that vector.</span></span><br><span class="line"><span class="comment">//! Change the program so that it sums of strings that represent floating-point</span></span><br><span class="line"><span class="comment">//! values.</span></span><br><span class="line"><span class="comment">//!</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">sum_for_int</span><span class="params">(<span class="type">const</span> std::vector&lt;std::string&gt; &amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> <span class="type">const</span>&amp; s : v) sum += std::<span class="built_in">stoi</span>(s);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">sum_for_float</span><span class="params">(<span class="type">const</span> std::vector&lt;std::string&gt; &amp;v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">float</span> sum = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> <span class="type">const</span>&amp; s : v) sum += std::<span class="built_in">stof</span>(s);</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;std::string&gt; v = &#123;<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;4.5&quot;</span>&#125;;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">sum_for_int</span>(v) &lt;&lt; std::endl;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">sum_for_float</span>(v) &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这个程序的目标是处理一个<code>vector&lt;string&gt;</code>，其中的元素表示整数值或浮点数值，并且计算这些值的总和。</p>
<ol>
<li><p>原始版本的<code>sum_for_int</code>函数用于处理<code>vector&lt;string&gt;</code>中的整数值。它首先将总和<code>sum</code>初始化为0，然后使用循环遍历向量中的每个字符串元素，将其转换为整数并累加到总和中。最后返回总和。</p>
</li>
<li><p><code>sum_for_float</code>函数与<code>sum_for_int</code>类似，但它用于处理向量中的浮点数值。它将总和<code>sum</code>初始化为0.0，然后使用循环遍历向量中的每个字符串元素，将其转换为浮点数并累加到总和中。最后返回总和。</p>
</li>
<li><p>在<code>main</code>函数中，我们定义了一个包含整数值和浮点数值的字符串向量<code>v</code>。然后分别调用<code>sum_for_int</code>和<code>sum_for_float</code>函数，并输出它们的返回值，即整数值和浮点数值的总和。</p>
</li>
</ol>
<p>总的来说，这个程序演示了如何处理包含整数值和浮点数值的字符串向量，并计算它们的总和。</p>
</blockquote>
<h2 id="Exercise-9-51"><a href="#Exercise-9-51" class="headerlink" title="Exercise 9.51"></a>Exercise 9.51</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Exercise 9.51:</span></span><br><span class="line"><span class="comment">// Write a class that has three unsigned members representing year, month, and day.</span></span><br><span class="line"><span class="comment">// Write a constructor that takes a string representing a date. Your constructor should handle a</span></span><br><span class="line"><span class="comment">// variety of date formats, such as January 1, 1900, 1/1/1900, Jan 1, 1900, and so on.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;array&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Date</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Date</span><span class="params">(<span class="type">const</span> std::string&amp; str = <span class="string">&quot;&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">Print</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="type">unsigned</span> year = <span class="number">1970</span>;</span><br><span class="line">    <span class="type">unsigned</span> month = <span class="number">1</span>;</span><br><span class="line">    <span class="type">unsigned</span> day = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::array&lt;std::string, 12&gt; month_names&#123;<span class="string">&quot;Jan&quot;</span>, <span class="string">&quot;Feb&quot;</span>, <span class="string">&quot;Mar&quot;</span>, <span class="string">&quot;Apr&quot;</span>, <span class="string">&quot;May&quot;</span>, <span class="string">&quot;Jun&quot;</span>,</span><br><span class="line">                                            <span class="string">&quot;Jul&quot;</span>, <span class="string">&quot;Aug&quot;</span>, <span class="string">&quot;Sep&quot;</span>, <span class="string">&quot;Oct&quot;</span>, <span class="string">&quot;Nov&quot;</span>, <span class="string">&quot;Dec&quot;</span>&#125;;</span><br><span class="line">    <span class="function"><span class="type">unsigned</span> <span class="title">MonthFromName</span><span class="params">(<span class="type">const</span> std::string&amp; str)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Date::<span class="built_in">Date</span>(<span class="type">const</span> std::string&amp; str)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (str.<span class="built_in">empty</span>()) <span class="keyword">return</span>;</span><br><span class="line">    std::string delimiters&#123;<span class="string">&quot; ,/&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">auto</span> month_day_delim_pos = str.<span class="built_in">find_first_of</span>(delimiters);</span><br><span class="line">    <span class="keyword">if</span> (month_day_delim_pos == std::string::npos)</span><br><span class="line">        <span class="keyword">throw</span> std::<span class="built_in">invalid_argument</span>(<span class="string">&quot;This format is not supported now.&quot;</span>);</span><br><span class="line">    month = <span class="built_in">MonthFromName</span>(str.<span class="built_in">substr</span>(<span class="number">0</span>, month_day_delim_pos));</span><br><span class="line">    <span class="keyword">auto</span> day_year_delim_pos = str.<span class="built_in">find_first_of</span>(delimiters, month_day_delim_pos + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">auto</span> day_len = day_year_delim_pos - month_day_delim_pos - <span class="number">1</span>;</span><br><span class="line">    day = std::<span class="built_in">stoi</span>(str.<span class="built_in">substr</span>(month_day_delim_pos + <span class="number">1</span>, day_len));</span><br><span class="line">    year = std::<span class="built_in">stoi</span>(str.<span class="built_in">substr</span>(day_year_delim_pos + <span class="number">1</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Date::Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; year &lt;&lt; <span class="string">&quot;-&quot;</span> &lt;&lt; month &lt;&lt; <span class="string">&quot;-&quot;</span> &lt;&lt; day &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">unsigned</span> <span class="title">Date::MonthFromName</span><span class="params">(<span class="type">const</span> std::string&amp; str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (str.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (std::<span class="built_in">isdigit</span>(str[<span class="number">0</span>])) <span class="keyword">return</span> std::<span class="built_in">stoi</span>(str);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i != <span class="number">12</span>; ++i) &#123;</span><br><span class="line">        <span class="keyword">if</span> (str.<span class="built_in">find</span>(month_names[i]) != std::string::npos) <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//  not found</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    &#123; <span class="comment">//  default case</span></span><br><span class="line">        <span class="keyword">auto</span> date = <span class="built_in">Date</span>();</span><br><span class="line">        date.<span class="built_in">Print</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    &#123; <span class="comment">//  case 0: January 1, 1900</span></span><br><span class="line">        <span class="keyword">auto</span> date = <span class="built_in">Date</span>(<span class="string">&quot;January 1, 1900&quot;</span>);</span><br><span class="line">        date.<span class="built_in">Print</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    &#123; <span class="comment">//  case 1: 1/1/1900</span></span><br><span class="line">        <span class="keyword">auto</span> date = <span class="built_in">Date</span>(<span class="string">&quot;1/1/1900&quot;</span>);</span><br><span class="line">        date.<span class="built_in">Print</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    &#123; <span class="comment">//  case 2: Jan 1, 1900</span></span><br><span class="line">        <span class="keyword">auto</span> date = <span class="built_in">Date</span>(<span class="string">&quot;Jan 1, 1900&quot;</span>);</span><br><span class="line">        date.<span class="built_in">Print</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这个程序定义了一个表示日期的<code>Date</code>类，并实现了一个可以处理各种日期格式的构造函数。</p>
<ol>
<li><p><code>Date</code>类有三个成员变量，分别代表年、月和日，都是无符号整数类型。</p>
</li>
<li><p>构造函数<code>Date::Date(const std::string&amp; str)</code>接受一个字符串参数，用于表示日期。构造函数首先检查字符串是否为空，如果为空则直接返回。然后，它使用指定的分隔符来查找月和日之间的分隔位置，并解析出月份。接着，它使用相同的分隔符来查找日和年之间的分隔位置，并解析出日和年。解析完毕后，将解析出的年、月和日赋值给成员变量。</p>
</li>
<li><p><code>Date::Print()</code>函数用于打印日期的年、月和日。</p>
</li>
<li><p><code>Date::MonthFromName(const std::string&amp; str)</code>函数根据月份的名称字符串返回对应的月份值。</p>
</li>
</ol>
<p>在<code>main()</code>函数中，我们创建了几个<code>Date</code>对象，并传入不同的日期字符串作为参数。程序将会打印出解析后的日期。</p>
<p>总的来说，这个程序演示了如何使用类来处理不同格式的日期字符串，并将其解析为年、月和日。</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (str.<span class="built_in">empty</span>()) <span class="keyword">return</span>;</span><br><span class="line">  std::string delimiters&#123;<span class="string">&quot; ,/&quot;</span>&#125;;</span><br><span class="line">  <span class="keyword">auto</span> month_day_delim_pos = str.<span class="built_in">find_first_of</span>(delimiters);</span><br><span class="line">  <span class="keyword">if</span> (month_day_delim_pos == std::string::npos)</span><br><span class="line">      <span class="keyword">throw</span> std::<span class="built_in">invalid_argument</span>(<span class="string">&quot;This format is not supported now.&quot;</span>);</span><br><span class="line">  month = <span class="built_in">MonthFromName</span>(str.<span class="built_in">substr</span>(<span class="number">0</span>, month_day_delim_pos));</span><br><span class="line">  <span class="keyword">auto</span> day_year_delim_pos = str.<span class="built_in">find_first_of</span>(delimiters, month_day_delim_pos + <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">auto</span> day_len = day_year_delim_pos - month_day_delim_pos - <span class="number">1</span>;</span><br><span class="line">  day = std::<span class="built_in">stoi</span>(str.<span class="built_in">substr</span>(month_day_delim_pos + <span class="number">1</span>, day_len));</span><br><span class="line">  year = std::<span class="built_in">stoi</span>(str.<span class="built_in">substr</span>(day_year_delim_pos + <span class="number">1</span>));</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这段代码是构造函数<code>Date::Date(const std::string&amp; str)</code>中的一部分，它的作用是解析传入的日期字符串并初始化类的成员变量。</p>
<p>具体来说，这段代码做了以下几件事情：</p>
<ol>
<li><p>首先，如果传入的日期字符串为空，那么直接返回，因为无法解析空字符串。</p>
</li>
<li><p>然后，定义了一个包含可能的日期分隔符的字符串<code>delimiters</code>，其中包括空格、逗号和斜杠。</p>
</li>
<li><p>使用<code>find_first_of(delimiters)</code>函数找到日期字符串中第一个出现的分隔符的位置<code>month_day_delim_pos</code>。如果找不到分隔符，即<code>find_first_of()</code>返回<code>std::string::npos</code>，说明日期字符串的格式不受支持，程序将抛出<code>std::invalid_argument</code>异常。</p>
</li>
<li><p>接着，使用<code>str.substr(0, month_day_delim_pos)</code>提取出月份的子字符串，并调用<code>MonthFromName()</code>函数将其转换为对应的月份值，然后将其赋值给<code>month</code>成员变量。</p>
</li>
<li><p>再次使用<code>find_first_of(delimiters, month_day_delim_pos + 1)</code>函数找到日期字符串中第二个分隔符的位置<code>day_year_delim_pos</code>，以确定日和年之间的分隔位置。</p>
</li>
<li><p>使用<code>str.substr(month_day_delim_pos + 1, day_len)</code>提取出日的子字符串，并将其转换为整数值，然后将其赋值给<code>day</code>成员变量。</p>
</li>
<li><p>最后，使用<code>str.substr(day_year_delim_pos + 1)</code>提取出年的子字符串，并将其转换为整数值，然后将其赋值给<code>year</code>成员变量。</p>
</li>
</ol>
<p>这段代码的作用是将传入的日期字符串解析为年、月和日，并存储到类的成员变量中。</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (str.<span class="built_in">empty</span>()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   <span class="keyword">if</span> (std::<span class="built_in">isdigit</span>(str[<span class="number">0</span>])) <span class="keyword">return</span> std::<span class="built_in">stoi</span>(str);</span><br><span class="line">   <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i != <span class="number">12</span>; ++i) &#123;</span><br><span class="line">       <span class="keyword">if</span> (str.<span class="built_in">find</span>(month_names[i]) != std::string::npos) <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//  not found</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>这段代码是<code>Date::MonthFromName(const std::string&amp; str)</code>函数中的一部分，用于根据传入的字符串判断月份。</p>
<p>具体来说，这段代码做了以下几件事情：</p>
<ol>
<li><p>首先，如果传入的字符串为空，那么直接返回0，表示未找到对应的月份。</p>
</li>
<li><p>然后，检查传入的字符串的第一个字符是否是数字，如果是数字，说明传入的是数字表示的月份，直接将其转换为整数并返回。</p>
</li>
<li><p>如果传入的字符串不是数字，则说明传入的是月份的名称。接着，使用一个循环遍历预定义的月份名称数组<code>month_names</code>，查找传入的字符串是否包含在数组中的任何一个月份名称中。如果找到了对应的月份名称，则返回该月份在数组中的索引值加1，表示该月份的序号。注意这里索引值加1的原因是月份是从1开始计数的。</p>
</li>
<li><p>如果传入的字符串既不是数字表示的月份，也不是包含在月份名称数组中的名称，则返回0，表示未找到对应的月份。</p>
</li>
</ol>
<p>总的来说，这段代码的作用是根据传入的字符串判断月份，并返回对应的月份值。如果传入的是数字表示的月份，则直接返回该数字；如果传入的是月份的名称，则查找预定义的月份名称数组，找到对应的月份名称并返回对应的月份值。</p>
</blockquote>
<h2 id="Exercise-9-52"><a href="#Exercise-9-52" class="headerlink" title="Exercise 9.52"></a>Exercise 9.52</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  ex9_52.cpp</span></span><br><span class="line"><span class="comment">//  Exercise 9.52</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Created by pezy on 12/5/14.</span></span><br><span class="line"><span class="comment">//  Copyright (c) 2014 pezy. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Brief  Use a stack to process parenthesized expressions.</span></span><br><span class="line"><span class="comment">//          When you see an open parenthesis, note that it was seen.</span></span><br><span class="line"><span class="comment">//          When you see a close parenthesis after an open parenthesis,</span></span><br><span class="line"><span class="comment">//          pop elements down to and including the open parenthesis off the</span></span><br><span class="line"><span class="comment">//          stack.</span></span><br><span class="line"><span class="comment">//          push a value onto the stack to indicate that a parenthesized</span></span><br><span class="line"><span class="comment">//          expression was replaced.</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::stack;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::string;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> std::cout;</span><br><span class="line"><span class="keyword">using</span> std::endl;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">auto</span>&amp; expr = <span class="string">&quot;This is (Mooophy(awesome)((((wooooooooo))))) and (ocxs) over&quot;</span>;</span><br><span class="line">    <span class="keyword">auto</span> repl = <span class="string">&#x27;#&#x27;</span>;</span><br><span class="line">    <span class="keyword">auto</span> seen = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    stack&lt;<span class="type">char</span>&gt; stk;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> c : expr) &#123;</span><br><span class="line">        stk.<span class="built_in">push</span>(c);</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="string">&#x27;(&#x27;</span>) ++seen;   <span class="comment">// open</span></span><br><span class="line">        <span class="keyword">if</span> (seen &amp;&amp; c == <span class="string">&#x27;)&#x27;</span>) &#123; <span class="comment">// pop elements down to the stack</span></span><br><span class="line">            <span class="keyword">while</span> (stk.<span class="built_in">top</span>() != <span class="string">&#x27;(&#x27;</span>) stk.<span class="built_in">pop</span>();</span><br><span class="line">            stk.<span class="built_in">pop</span>();      <span class="comment">// including the open parenthesis</span></span><br><span class="line">            stk.<span class="built_in">push</span>(repl); <span class="comment">// push a value indicate it was replaced</span></span><br><span class="line">            --seen;         <span class="comment">// close</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Test</span></span><br><span class="line">    string output;</span><br><span class="line">    <span class="keyword">for</span> (; !stk.<span class="built_in">empty</span>(); stk.<span class="built_in">pop</span>()) output.<span class="built_in">insert</span>(output.<span class="built_in">begin</span>(), stk.<span class="built_in">top</span>());</span><br><span class="line">    cout &lt;&lt; output &lt;&lt; endl; <span class="comment">// &quot;This is # and # over&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这个程序使用栈来处理带有括号的表达式。具体步骤如下：</p>
<ol>
<li><p>首先，定义了一个字符串<code>expr</code>表示待处理的带有括号的表达式，以及一个字符<code>repl</code>表示替换括号的字符，和一个整数<code>seen</code>表示已经看到的括号的数量。</p>
</li>
<li><p>创建了一个字符类型的栈<code>stk</code>用于处理括号。</p>
</li>
<li><p>使用<code>for</code>循环遍历表达式中的每个字符，并将其依次压入栈中。</p>
</li>
<li><p>如果遇到了开括号’(‘，则增加<code>seen</code>计数表示已经看到了一个开括号。</p>
</li>
<li><p>如果<code>seen</code>不为0且当前字符是闭括号’)’，则从栈顶开始弹出字符直到遇到与当前闭括号匹配的开括号。弹出过程包括了开括号，然后将替换字符<code>repl</code>压入栈中以表示这个被替换的括号已经处理。</p>
</li>
<li><p>遍历结束后，将栈中的字符依次弹出并组成字符串输出，以验证处理结果。</p>
</li>
</ol>
<p>最终，输出的字符串中所有的括号及其内部的内容都被替换成了替换字符，而其他字符保持不变。</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://www.totorocatcat.top/">Totoro</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://totorocatcat.top/2024/04/06/Sequential-Containers/">http://totorocatcat.top/2024/04/06/Sequential-Containers/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://totorocatcat.top" target="_blank">Totoroの旅</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%9F%BA%E7%A1%80/">基础</a></div><div class="post_share"><div class="social-share" data-image="https://npm.elemecdn.com/ushio-api-img-moe@5.0.30/img_306_1920x1080_72_null_normal.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/04/07/Object-Oriented-Programming/" title="Object-Oriented-Programming"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.2/img_21_2500x1084_347.97998046875_null_normal.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Object-Oriented-Programming</div></div></a></div><div class="next-post pull-right"><a href="/2024/04/06/Library/" title="chapter8.the.Library"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.26/img_260_1920x1115_72_null_normal.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">chapter8.the.Library</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/05/16/2022C-%E8%AF%95%E5%8D%B7/" title="2022C++试卷"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_80.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-16</div><div class="title">2022C++试卷</div></div></a></div><div><a href="/2024/05/16/2022%E5%B9%B4C-%E8%AF%95%E5%8D%B7%E8%BD%AF%E4%BB%B6%E5%AD%A6%E9%99%A2/" title="2022年C++试卷软件学院"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_80.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-16</div><div class="title">2022年C++试卷软件学院</div></div></a></div><div><a href="/2024/05/14/ASP-NET%E5%9F%BA%E7%A1%80%E4%B9%8BWebPages/" title="ASP.NET基础之WebPages"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.16/img_169_2560x1440_96_null_normal.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-14</div><div class="title">ASP.NET基础之WebPages</div></div></a></div><div><a href="/2024/05/16/AJAX%E5%9F%BA%E7%A1%80/" title="AJAX基础"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.16/img_169_2560x1440_96_null_normal.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-16</div><div class="title">AJAX基础</div></div></a></div><div><a href="/2024/03/04/C-%E5%9F%BA%E7%A1%80/" title="C++基础"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.24/img_249_2081x1420_96_null_normal.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-04</div><div class="title">C++基础</div></div></a></div><div><a href="/2024/03/23/CSS%E7%AC%94%E8%AE%B0/" title="CSS笔记"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.16/img_169_2560x1440_96_null_normal.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-03-23</div><div class="title">CSS笔记</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/px3.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Totoro</div><div class="author-info__description">敲代码的SCUT学生</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">473</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">26</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/4512abc"><i class="fab fa-github"></i><span>🛴前往小窝......</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/4512abc" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:4512abc@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到龙猫の小窝</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Chapter-9-Sequential-Containers"><span class="toc-number">1.</span> <span class="toc-text">Chapter 9. Sequential Containers</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-1"><span class="toc-number">1.1.</span> <span class="toc-text">Exercise 9.1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-2"><span class="toc-number">1.2.</span> <span class="toc-text">Exercise 9.2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-3"><span class="toc-number">1.3.</span> <span class="toc-text">Exercise 9.3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-4"><span class="toc-number">1.4.</span> <span class="toc-text">Exercise 9.4</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-5"><span class="toc-number">1.5.</span> <span class="toc-text">Exercise 9.5</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-6"><span class="toc-number">1.6.</span> <span class="toc-text">Exercise 9.6</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-7"><span class="toc-number">1.7.</span> <span class="toc-text">Exercise 9.7</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-8"><span class="toc-number">1.8.</span> <span class="toc-text">Exercise 9.8</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-9"><span class="toc-number">1.9.</span> <span class="toc-text">Exercise 9.9</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-10"><span class="toc-number">1.10.</span> <span class="toc-text">Exercise 9.10</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-11"><span class="toc-number">1.11.</span> <span class="toc-text">Exercise 9.11</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-12"><span class="toc-number">1.12.</span> <span class="toc-text">Exercise 9.12</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-13"><span class="toc-number">1.13.</span> <span class="toc-text">Exercise 9.13</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-14"><span class="toc-number">1.14.</span> <span class="toc-text">Exercise 9.14</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-15"><span class="toc-number">1.15.</span> <span class="toc-text">Exercise 9.15</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-16"><span class="toc-number">1.16.</span> <span class="toc-text">Exercise 9.16</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-17"><span class="toc-number">1.17.</span> <span class="toc-text">Exercise 9.17</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-18"><span class="toc-number">1.18.</span> <span class="toc-text">Exercise 9.18</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-19"><span class="toc-number">1.19.</span> <span class="toc-text">Exercise 9.19</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-20"><span class="toc-number">1.20.</span> <span class="toc-text">Exercise 9.20</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-21"><span class="toc-number">1.21.</span> <span class="toc-text">Exercise 9.21</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-22"><span class="toc-number">1.22.</span> <span class="toc-text">Exercise 9.22</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-24"><span class="toc-number">1.23.</span> <span class="toc-text">Exercise 9.24</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-25"><span class="toc-number">1.24.</span> <span class="toc-text">Exercise 9.25</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-26"><span class="toc-number">1.25.</span> <span class="toc-text">Exercise 9.26</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-27"><span class="toc-number">1.26.</span> <span class="toc-text">Exercise 9.27</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-28"><span class="toc-number">1.27.</span> <span class="toc-text">Exercise 9.28</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-29"><span class="toc-number">1.28.</span> <span class="toc-text">Exercise 9.29</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-30"><span class="toc-number">1.29.</span> <span class="toc-text">Exercise 9.30</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-31"><span class="toc-number">1.30.</span> <span class="toc-text">Exercise 9.31</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-32"><span class="toc-number">1.31.</span> <span class="toc-text">Exercise 9.32</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-33"><span class="toc-number">1.32.</span> <span class="toc-text">Exercise 9.33</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-34"><span class="toc-number">1.33.</span> <span class="toc-text">Exercise 9.34</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-35"><span class="toc-number">1.34.</span> <span class="toc-text">Exercise 9.35</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-36"><span class="toc-number">1.35.</span> <span class="toc-text">Exercise 9.36</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-37"><span class="toc-number">1.36.</span> <span class="toc-text">Exercise 9.37</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-38"><span class="toc-number">1.37.</span> <span class="toc-text">Exercise 9.38</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-39"><span class="toc-number">1.38.</span> <span class="toc-text">Exercise 9.39</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-40"><span class="toc-number">1.39.</span> <span class="toc-text">Exercise 9.40</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-41"><span class="toc-number">1.40.</span> <span class="toc-text">Exercise 9.41</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-42"><span class="toc-number">1.41.</span> <span class="toc-text">Exercise 9.42</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-43"><span class="toc-number">1.42.</span> <span class="toc-text">Exercise 9.43</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-44"><span class="toc-number">1.43.</span> <span class="toc-text">Exercise 9.44</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-45"><span class="toc-number">1.44.</span> <span class="toc-text">Exercise 9.45</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-46"><span class="toc-number">1.45.</span> <span class="toc-text">Exercise 9.46</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-47"><span class="toc-number">1.46.</span> <span class="toc-text">Exercise 9.47</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-48"><span class="toc-number">1.47.</span> <span class="toc-text">Exercise 9.48</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-49"><span class="toc-number">1.48.</span> <span class="toc-text">Exercise 9.49</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-50"><span class="toc-number">1.49.</span> <span class="toc-text">Exercise 9.50</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-51"><span class="toc-number">1.50.</span> <span class="toc-text">Exercise 9.51</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exercise-9-52"><span class="toc-number">1.51.</span> <span class="toc-text">Exercise 9.52</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/09/15/JAVA%E4%B9%8B%E6%97%A5%E6%9C%9F%E4%B8%8E%E6%97%B6%E9%97%B4/" title="JAVA之日期与时间"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/kazetachinu008.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JAVA之日期与时间"/></a><div class="content"><a class="title" href="/2024/09/15/JAVA%E4%B9%8B%E6%97%A5%E6%9C%9F%E4%B8%8E%E6%97%B6%E9%97%B4/" title="JAVA之日期与时间">JAVA之日期与时间</a><time datetime="2024-09-15T12:29:25.000Z" title="发表于 2024-09-15 20:29:25">2024-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/15/JAVA%E4%B9%8B%E6%B3%9B%E5%9E%8B/" title="JAVA之泛型"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/Suzume.2022.2160p.BluRay.x265.10bit.DTS-CTRLHD.mkv_013651.963.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JAVA之泛型"/></a><div class="content"><a class="title" href="/2024/09/15/JAVA%E4%B9%8B%E6%B3%9B%E5%9E%8B/" title="JAVA之泛型">JAVA之泛型</a><time datetime="2024-09-15T10:47:56.000Z" title="发表于 2024-09-15 18:47:56">2024-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/15/JAVA%E4%B9%8B%E5%8F%8D%E5%B0%84/" title="JAVA之反射"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/4ac971f2c68732f5c2f67d23f62a0ce.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JAVA之反射"/></a><div class="content"><a class="title" href="/2024/09/15/JAVA%E4%B9%8B%E5%8F%8D%E5%B0%84/" title="JAVA之反射">JAVA之反射</a><time datetime="2024-09-15T02:30:14.000Z" title="发表于 2024-09-15 10:30:14">2024-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/15/%E3%80%8A%E6%B2%89%E6%80%9D%E5%BD%95%E3%80%8B%E8%AF%AD%E5%BD%95/" title="《沉思录》语录"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/98f3ec25d85972d866886a949796369.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="《沉思录》语录"/></a><div class="content"><a class="title" href="/2024/09/15/%E3%80%8A%E6%B2%89%E6%80%9D%E5%BD%95%E3%80%8B%E8%AF%AD%E5%BD%95/" title="《沉思录》语录">《沉思录》语录</a><time datetime="2024-09-14T16:59:14.000Z" title="发表于 2024-09-15 00:59:14">2024-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/15/%E3%80%8A%E8%A5%BF%E8%A5%BF%E5%BC%97%E7%A5%9E%E8%AF%9D%E3%80%8B%E8%AF%AD%E5%BD%95/" title="《西西弗神话》语录"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.jsdelivr.net/gh/4512abc/Pictures@main/Pictures/2cc3d7f496a105bc9ad2b25ff6d83c9.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="《西西弗神话》语录"/></a><div class="content"><a class="title" href="/2024/09/15/%E3%80%8A%E8%A5%BF%E8%A5%BF%E5%BC%97%E7%A5%9E%E8%AF%9D%E3%80%8B%E8%AF%AD%E5%BD%95/" title="《西西弗神话》语录">《西西弗神话》语录</a><time datetime="2024-09-14T16:44:06.000Z" title="发表于 2024-09-15 00:44:06">2024-09-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 By Totoro</div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.<p><a target="_blank" href="https://hexo.io/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a>&nbsp;<a target="_blank" href="https://butterfly.js.org/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a>&nbsp;<a target="_blank" href="https://www.jsdelivr.com/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速"></a> &nbsp;<a target="_blank" href="https://vercel.com/ "><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&logo=Vercel" title="本站采用双线部署，默认线路托管于Vercel"></a>&nbsp;<a target="_blank" href="https://vercel.com/ "><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&logo=Codio" title="本站采用双线部署，联通线路托管于Coding"></a>&nbsp;<a target="_blank" href="https://github.com/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a>&nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="/js/tw_cn.js?v=4.12.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'HT1PalaKkPaG1UqAXBhJXIu8-gzGzoHsz',
      appKey: 'iT0TnVVAwf9zuZ7NqwclQItY',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://cdn.jsdelivr.net/npm/valine@1.5.1/dist/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !false) {
    if (false) btf.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script></div><script defer src="/js/light.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script async src="/js/title.js"></script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer data-pjax src="/js/cat.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="1" zIndex="-1" count="30" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-show-text.min.js" data-mobile="true" data-text="只此无为身，且前行,忘记过去的人注定重蹈覆辙,我是我，我靠自己站立，我会做好自身,如果我睡大觉，谁给我摘月亮呢,假期和朋友，是人生中顶好的两样东西啊。,去爱，去失去，要不负相遇,没什么想不想通的，只是固执而已,我们深爱星辰，乃至不惧夜的黑,吃，喝，享受幸福，接受奇迹,浊水若长流，自清澄,雅俗共赏,总会有什么也不想的幸福时刻吧,时间顺流而下，生活逆流而上,悟已往之不谏，知来者之可追,希望你的小世界里,山花烂漫,茶酒俱全,安宁清淡,明朗欢愉" data-fontsize="20px" data-random="false" async="async"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div><!-- hexo injector body_end start --><script data-pjax>
    function butterfly_categories_card_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<style>li.categoryBar-list-item{width:32.3%;}.categoryBar-list{max-height: 380px;overflow:auto;}.categoryBar-list::-webkit-scrollbar{width:0!important}@media screen and (max-width: 650px){.categoryBar-list{max-height: 320px;}}</style><div class="recent-post-item" style="height:auto;width:100%;padding:0px;"><div id="categoryBar"><ul class="categoryBar-list"><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_12.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/ACMの旅/&quot;);" href="javascript:void(0);">ACMの旅</a><span class="categoryBar-list-count">66</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_13.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/区域赛の旅/&quot;);" href="javascript:void(0);">区域赛の旅</a><span class="categoryBar-list-count">7</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_14.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/期末の旅/&quot;);" href="javascript:void(0);">期末の旅</a><span class="categoryBar-list-count">22</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_17.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/数学建模/&quot;);" href="javascript:void(0);">数学建模</a><span class="categoryBar-list-count">31</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_18.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/牛客の旅/&quot;);" href="javascript:void(0);">牛客の旅</a><span class="categoryBar-list-count">63</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_19.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/刷题计划/&quot;);" href="javascript:void(0);">刷题计划</a><span class="categoryBar-list-count">42</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_20.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Codeforcesの旅/&quot;);" href="javascript:void(0);">Codeforcesの旅</a><span class="categoryBar-list-count">23</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_21.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/Atcoderの旅/&quot;);" href="javascript:void(0);">Atcoderの旅</a><span class="categoryBar-list-count">52</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_22.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/前端の旅/&quot;);" href="javascript:void(0);">前端の旅</a><span class="categoryBar-list-count">17</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_22.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/C-の旅/&quot;);" href="javascript:void(0);">C++の旅</a><span class="categoryBar-list-count">17</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_23.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/CSAPPの旅/&quot;);" href="javascript:void(0);">CSAPPの旅</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_24.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/CS知识/&quot;);" href="javascript:void(0);">CS知识</a><span class="categoryBar-list-count">3</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_25.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/编程基础/&quot;);" href="javascript:void(0);">编程基础</a><span class="categoryBar-list-count">20</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_26.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/个人安排/&quot;);" href="javascript:void(0);">个人安排</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_27.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/杂项/&quot;);" href="javascript:void(0);">杂项</a><span class="categoryBar-list-count">10</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_28.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/文学/&quot;);" href="javascript:void(0);">文学</a><span class="categoryBar-list-count">40</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_29.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/力扣の旅/&quot;);" href="javascript:void(0);">力扣の旅</a><span class="categoryBar-list-count">18</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_30.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/少年游/&quot;);" href="javascript:void(0);">少年游</a><span class="categoryBar-list-count">2</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_31.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/算法提高课/&quot;);" href="javascript:void(0);">算法提高课</a><span class="categoryBar-list-count">4</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_32.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/数据结构/&quot;);" href="javascript:void(0);">数据结构</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_33.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/汇编の旅/&quot;);" href="javascript:void(0);">汇编の旅</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_34.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/灵魂の旅/&quot;);" href="javascript:void(0);">灵魂の旅</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_35.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/C-实训/&quot;);" href="javascript:void(0);">C++实训</a><span class="categoryBar-list-count">8</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_36.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/JAVAの旅/&quot;);" href="javascript:void(0);">JAVAの旅</a><span class="categoryBar-list-count">10</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_37.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/离散数学/&quot;);" href="javascript:void(0);">离散数学</a><span class="categoryBar-list-count">11</span><span class="categoryBar-list-descr"></span></li><li class="categoryBar-list-item" style="background:url(https://source.fomal.cc/img/default_cover_38.webp);"> <a class="categoryBar-list-link" onclick="pjax.loadUrl(&quot;categories/🗡指offer/&quot;);" href="javascript:void(0);">🗡指offer</a><span class="categoryBar-list-count">1</span><span class="categoryBar-list-descr"></span></li></ul></div></div>';
      console.log('已挂载butterfly_categories_card')
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      }
    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    butterfly_categories_card_injector_config()
    }
  </script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2024/01/29/诗兴大发/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_69.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-01-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2024/01/29/诗兴大发/&quot;);" href="javascript:void(0);" alt="">诗兴大发</a><div class="blog-slider__text">未觉，却是中二少年的诗仙梦</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2024/01/29/诗兴大发/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2024/02/13/数据结构与算法-1/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://npm.elemecdn.com/ushio-api-img-moe@5.0.64/img_649_702x1000_300_null_normal.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-02-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2024/02/13/数据结构与算法-1/&quot;);" href="javascript:void(0);" alt="">数据结构与算法(总)</a><div class="blog-slider__text">方便大二看（）</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2024/02/13/数据结构与算法-1/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;2024/02/24/常见优化技巧/&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_238.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2024-02-24</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;2024/02/24/常见优化技巧/&quot;);" href="javascript:void(0);" alt="">常见优化技巧</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;2024/02/24/常见优化技巧/&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>